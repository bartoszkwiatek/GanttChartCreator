{"version":3,"sources":["features/tasks/common/localStorage.js","features/tasks/common/dateHelper.js","features/tasks/tasksSlice.js","features/tasks/common/swapPositions.js","features/tasks/calendar/tables.js","features/tasks/common/convertHex.js","features/tasks/calendar/CalendarHeader.js","features/tasks/common/scrollToElement.js","features/tasks/calendar/SidebarTasksNestedList.js","features/tasks/calendar/SidebarTasksList.js","features/tasks/calendar/CalendarSidebar.js","features/tasks/common/colors.js","features/tasks/dialogs/ColorPicker.js","features/tasks/dialogs/DatePicker.js","features/tasks/dialogs/MainAndParentOptions.js","features/tasks/dialogs/SelectWithAdd.js","features/tasks/dialogs/AddTaskForm.js","features/tasks/dialogs/AddTaskDialog.js","features/tasks/dialogs/DeleteDialog.js","features/tasks/dialogs/DraggableDialog.js","features/tasks/calendar/LetterAvatar.js","features/tasks/calendar/TaskCompletionIndicator.js","features/tasks/calendar/CalendarTaskPopper.js","features/tasks/calendar/CalendarMainTask.js","features/tasks/calendar/CalendarTask.js","features/tasks/calendar/CalendarTasks.js","features/tasks/dialogs/OptionsDialog.js","features/tasks/dialogs/SnackbarStatus.js","features/tasks/dialogs/FABs.js","features/tasks/common/useFirstRender.js","features/tasks/calendar/Calendar.js","features/tasks/dialogs/AlertDialog.js","features/tasks/Tasks.js","App.js","Theme.js","app/store.js","serviceWorker.js","index.js"],"names":["checkConsent","serializedState","localStorage","getItem","JSON","parse","err","today","day","Date","toDateString","addDays","baseDate","howManyDays","dateString","dateMS","alteredDate","Math","floor","alteredDateString","customGetDate","selector","date","getDate","getDay","getMonth","getFullYear","toLocaleDateString","undefined","year","month","dateDifference","firstDate","secondDate","datesBetween","skip","difference","dates","console","warn","index","push","splice","indexOf","countOccurrences","firstDay","lastDay","map","Set","selected","title","count","filter","check","length","tasksSlice","createSlice","name","initialState","view","darkMode","gridLines","custom","categories","people","calendar","headers","shortDay","data","lastMessage","reducers","setDarkMode","state","action","payload","setGridLines","setCustom","setToday","setCalendar","addCategory","Array","from","addPerson","addEditMainTask","mainTaskIndex","findIndex","mainTask","id","addEditTask","targetParentIndex","target","taskIndex","tasks","task","deleteTask","filteredArray","parent","setCompletion","completion","setMessage","reorderTasks","tasksToReorder","array","a","b","swapPositions","actions","setScrollPosition","setMaxScrollPosition","selectDarkMode","selectGridLines","selectCustom","selectTasks","selectToday","selectCalendar","selectLastMessage","styled","div","TableSection","TableSectionTasks","TableRow","props","gtc","TableHeaderCell","color","headersCount","TableCell","TableTask","hex","result","exec","parseInt","convertHex","HeaderContainer","CalendarHeader","useSelector","dispatch","useDispatch","theme","useTheme","monthCount","yearsCount","Object","values","val","useEffect","showYears","palette","divider","className","key","style","gridColumn","Typography","variant","display","justifyContent","alignItems","scrollToElement","document","getElementById","scrollIntoView","behavior","alignTo","useStyles","makeStyles","root","width","backgroundColor","background","paper","minHeight","nested","paddingLeft","spacing","height","textOverflow","SidebarTasksNestedList","classes","useState","startOpen","open","setOpen","handleClick","handleReorder","direction","List","padding","paddingBottom","wordBreak","component","aria-labelledby","ListItem","button","onClick","ListItemText","primary","IconButton","size","Collapse","in","timeout","unmountOnExit","disablePadding","flexDirection","marginBottom","ListItemSecondaryAction","secondary","SidebarTasksList","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","content","flexGrow","overflowX","overflowY","paddingTop","contentShift","cellSize","dense","rootAppBar","zIndex","CalendarSidebar","AppBar","position","clsx","Toolbar","aria-label","edge","noWrap","Drawer","anchor","Divider","text","borderBottom","align","children","colors","select","ColorPicker","FormControl","Select","value","onChange","autoWidth","displayEmpty","MenuItem","disabled","entries","colorName","colorValue","ListItemIcon","fontSize","DatePicker","utils","DateFnsUtils","fullWidth","format","margin","label","startDate","KeyboardButtonProps","MainAndParentOptions","list","forEach","FormGroup","FormControlLabel","control","Checkbox","checked","e","SelectWithAdd","createFilterOptions","Autocomplete","event","newValue","inputValue","filterOptions","options","params","filtered","selectOnFocus","clearOnBlur","handleHomeEndKeys","getOptionLabel","option","renderOption","freeSolo","renderInput","TextField","form","gridTemplateColumns","columnGap","breakpoints","down","formControl","AddTaskForm","category","person","responsible","initialData","description","setData","handleChangeData","sendData","dataValidation","inputData","valid","noValidate","autoComplete","onBlur","inputProps","maxLength","multiline","rows","Number","type","min","step","InputLabelProps","shrink","AddTaskDialog","validData","setValidData","handleClose","Fragment","DialogTitle","cursor","DialogContent","formData","isDataValid","DialogActions","Tooltip","Button","random","endDate","objectToSave","message","leftBoundaryDate","rightBoundaryDate","max","startIcon","keys","DeleteDialog","DialogContentText","autoFocus","PaperComponent","handle","cancel","Paper","DraggableDialog","fullScreen","useMediaQuery","Dialog","onClose","PaperProps","orange","getContrastText","deepOrange","purple","deepPurple","LetterAvatar","Avatar","charAt","TaskCompletionIndicator","slice","setValue","edit","setEdit","roundedValue","round","disableRipple","completionValue","InputProps","endAdornment","InputAdornment","maxHeight","CalendarTaskPopper","openEdit","setOpenEdit","openDelete","setOpenDelete","handleCloseEdit","handleCloseDelete","Container","disableGutters","maxWidth","Card","CardHeader","subheader","CardContent","CardActions","click","CalendarMainTask","anchorEl","setAnchorEl","currentTarget","bottom","paddingRight","overflow","Popper","placement","TransitionProps","Fade","Header","CalendarTask","checkColors","mainTaskDates","start","end","Grow","transformOrigin","arrow","opacity","ContainerTasks","headerCount","CalendarTasks","tasksRef","useRef","ref","SwitchLabels","handleChangeRedux","FormLabel","Switch","OptionsDialog","SnackbarStatus","Snackbar","anchorOrigin","vertical","horizontal","close","autoHideDuration","margin2","right","margin1","backdrop","centralContainer","central","FABs","isFirstRender","firstRender","current","useFirstRender","openOptions","setOpenOptions","openAdd","setOpenAdd","openBackdrop","setOpenBackdrop","openSnackbar","setOpenSnackbar","handleOpen","Box","Fab","Backdrop","Calendar","getElementsByClassName","inline","AlertDialog","storageConsent","React","decision","stringify","setItem","saveConsent","Tasks","App","prefersDarkMode","primaryColor","useMemo","createMuiTheme","main","tonalOffset","Theme","cookies","dayToday","savedToday","ThemeProvider","CssBaseline","persistedState","loadLocalStorage","store","configureStore","reducer","tasksReducer","preloadedState","subscribe","saveLocalStorage","getState","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.495a3a65.chunk.js","sourcesContent":["const loadLocalStorage = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('chartData');\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nconst saveLocalStorage = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('chartData', serializedState);\r\n  } catch {\r\n    console.warn(\"Save to localStorage failed\")\r\n  }\r\n};\r\n\r\nconst saveConsent = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('consent', serializedState);\r\n  } catch {\r\n    console.warn(\"Save to localStorage failed\")\r\n  }\r\n};\r\n\r\nconst checkConsent = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('consent');\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport { loadLocalStorage, saveLocalStorage, saveConsent, checkConsent }","// all function input and return is in ms, unless otherwise stated\r\nconst now = () => {\r\n  return Date.parse(new Date())\r\n}\r\n\r\nconst today = () => {\r\n  const day = new Date().toDateString() // doing this to be sure that I only get day, with 0 hours and minutes\r\n  const today = Date.parse(day)\r\n  return today\r\n}\r\n\r\nconst addDays = (baseDate, howManyDays = 0) => {\r\n  const dateString = new Date(baseDate).toDateString() // processing dates like this, so it accepts both ms and yyyy-mm-dd input (default for input[date])\r\n  const dateMS = Date.parse(dateString)\r\n  const alteredDate = dateMS + 86400000 * Math.floor(howManyDays)\r\n  const alteredDateString = new Date(alteredDate).toDateString() // doing this to be sure that I only get day, with 0 hours and minutes\r\n  return Date.parse(alteredDateString)\r\n}\r\n\r\n// return date's chosen thingy - day in number [1,31]; month in string, year in number\r\nconst customGetDate = (baseDate, selector) => {\r\n  const date = new Date(baseDate)\r\n  const days = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday',\r\n  ]\r\n  const daysAbbr = ['Sun.', 'Mon.', 'Tues.', 'Wed.', 'Thur.', 'Fri.', 'Sat.']\r\n  const months = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December',\r\n  ]\r\n  const monthsAbbr = [\r\n    'Jan.',\r\n    'Feb.',\r\n    'Mar.',\r\n    'Apr.',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'Aug.',\r\n    'Sep.',\r\n    'Oct.',\r\n    'Nov.',\r\n    'Dec.',\r\n  ]\r\n  const options = { year: 'numeric', month: 'numeric', day: 'numeric' }\r\n\r\n  switch (selector) {\r\n    case 'day':\r\n      return date.getDate()\r\n    case 'day-of-the-week':\r\n      return days[date.getDay()]\r\n    case 'day-of-the-week-abbr':\r\n      return daysAbbr[date.getDay()]\r\n    case 'month':\r\n      return months[date.getMonth()]\r\n    case 'month-abbr':\r\n      return monthsAbbr[date.getMonth()]\r\n    case 'year':\r\n      return date.getFullYear()\r\n    default:\r\n      return date.toLocaleDateString(undefined, options)\r\n  }\r\n}\r\n\r\n// in days\r\nconst dateDifference = (firstDate, secondDate) => {\r\n  const difference = Math.floor((secondDate - firstDate) / 86400000)\r\n  return difference\r\n}\r\n\r\n// const taskDuration = (firstDate, secondDate) => {\r\n//   const duration = Math.floor((secondDate - firstDate) / 86400000) + 1\r\n//   return duration\r\n// }\r\n\r\n// returns array of days between two dates (in ms)\r\nconst datesBetween = (firstDate, secondDate, skip = null) => {\r\n  const difference = dateDifference(firstDate, secondDate)\r\n\r\n  let dates = []\r\n\r\n  if (difference < 0) {\r\n    console.warn('Wrong input')\r\n    return ['error']\r\n  } else {\r\n    for (let index = 0; index <= difference; index++) {\r\n      dates.push(addDays(firstDate, index))\r\n    }\r\n  }\r\n\r\n  if (skip !== null) {\r\n    dates.splice(dates.indexOf(skip[0]) + 1, skip[1] - 1)\r\n  }\r\n  return dates\r\n}\r\n\r\n//      returns an object consisting of objects with number of occurences\r\n//      [{title: \"Jun`e\", count: 24}, {title: \"July\", count: 17}]\r\n//      to use with `grid-column: span ${count}`\r\nconst countOccurrences = (firstDay, lastDay, selector) => {\r\n  const dates = datesBetween(firstDay, lastDay).map((day) =>\r\n    customGetDate(day, selector),\r\n  )\r\n  let countBySelector = [...new Set(dates)].map((selected) => {\r\n    return {\r\n      title: selected,\r\n      count: dates.filter((check) => check === selected).length,\r\n    }\r\n  })\r\n  return countBySelector\r\n}\r\n\r\nexport {\r\n  now,\r\n  today,\r\n  addDays,\r\n  customGetDate,\r\n  dateDifference,\r\n  datesBetween,\r\n  countOccurrences,\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport { today, addDays } from './common/dateHelper'\r\nimport { swapPositions } from './common/swapPositions'\r\n\r\nconst tasksSlice = createSlice({\r\n  name: 'tasks',\r\n  initialState: {\r\n    view: {\r\n      darkMode: null,\r\n      gridLines: true,\r\n    },\r\n    custom: {\r\n      categories: ['default', 'frontend', 'backend', 'UX', 'UI', 'setup'],\r\n      people: ['me', 'Person', 'Elon Musk', '初音ミク', '2B', 'Wheatley'],\r\n    },\r\n    calendar: {\r\n      today: today(), // all dates are to be stored in ms so they can easily be converted\r\n      firstDay: addDays(today(), -20),\r\n      lastDay: addDays(today(), 20),\r\n      headers: {\r\n        year: null,\r\n        month: true,\r\n        shortDay: true,\r\n        day: true,\r\n      },\r\n    },\r\n    data: [],\r\n    lastMessage: 'default message...',\r\n  },\r\n  reducers: {\r\n    setDarkMode: (state, action) => {\r\n      state.view.darkMode = action.payload\r\n    },\r\n\r\n    setGridLines: (state, action) => {\r\n      state.view.gridLines = action.payload\r\n    },\r\n\r\n    setCustom: (state, action) => {\r\n      state.custom = { ...state.custom, ...action.payload }\r\n    },\r\n\r\n    setToday: (state, action) => {\r\n      state.calendar.today = action.payload\r\n    },\r\n\r\n    setCalendar: (state, action) => {\r\n      state.calendar = { ...state.calendar, ...action.payload }\r\n    },\r\n\r\n    addCategory: (state, action) => {\r\n      state.custom.categories.push(action.payload)\r\n      state.custom.categories = Array.from(new Set(state.custom.categories))\r\n    },\r\n\r\n    addPerson: (state, action) => {\r\n      state.custom.people.push(action.payload)\r\n      state.custom.people = Array.from(new Set(state.custom.people))\r\n    },\r\n\r\n    addEditMainTask: (state, action) => {\r\n      const mainTaskIndex = state.data.findIndex(\r\n        (mainTask) => mainTask.id === action.payload.id,\r\n      )\r\n\r\n      if (mainTaskIndex === -1) {\r\n        state.data.push(action.payload)\r\n      } else {\r\n        state.data[mainTaskIndex] = action.payload\r\n      }\r\n    },\r\n\r\n    addEditTask: (state, action) => {\r\n      const targetParentIndex = state.data.findIndex(\r\n        (mainTask) => mainTask.id === action.payload.target,\r\n      )\r\n      //check if task already exists\r\n      const taskIndex = state.data[targetParentIndex].tasks.findIndex(\r\n        (task) => task.id === action.payload.data.id,\r\n      )\r\n      if (taskIndex === -1) {\r\n        state.data[targetParentIndex].tasks.push(action.payload.data)\r\n      } else {\r\n        state.data[targetParentIndex].tasks[taskIndex] = action.payload.data\r\n      }\r\n    },\r\n\r\n    deleteTask: (state, action) => {\r\n      if (action.payload.mainTask) {\r\n        const filteredArray = state.data.filter(\r\n          (mainTask) => mainTask.id !== action.payload.id,\r\n        )\r\n        state.data = filteredArray\r\n      } else {\r\n        const targetParentIndex = state.data.findIndex(\r\n          (mainTask) => mainTask.id === action.payload.parent,\r\n        )\r\n        const filteredArray = state.data[targetParentIndex].tasks.filter(\r\n          (task) => task.id !== action.payload.id,\r\n        )\r\n        state.data[targetParentIndex].tasks = filteredArray\r\n      }\r\n    },\r\n\r\n    setCompletion: (state, action) => {\r\n      const targetParentIndex = state.data.findIndex(\r\n        (mainTask) => mainTask.id === action.payload.data.parent,\r\n      )\r\n\r\n      const taskIndex = state.data[targetParentIndex].tasks.findIndex(\r\n        (task) => task.id === action.payload.data.id,\r\n      )\r\n      if (taskIndex === -1) {\r\n        console.warn('error')\r\n      } else {\r\n        state.data[targetParentIndex].tasks[taskIndex].completion =\r\n          action.payload.completion\r\n      }\r\n    },\r\n\r\n    setMessage: (state, action) => {\r\n      state.lastMessage = action.payload\r\n    },\r\n\r\n    reorderTasks: (state, action) => {\r\n      const targetParentIndex = state.data.findIndex(\r\n        (mainTask) => mainTask.id === action.payload.data.parent,\r\n      )\r\n      const taskIndex = state.data[targetParentIndex].tasks.findIndex(\r\n        (task) => task.id === action.payload.data.id,\r\n      )\r\n      const tasksToReorder = state.data[targetParentIndex].tasks\r\n      if (taskIndex === -1) {\r\n        console.warn('error')\r\n      } else {\r\n        swapPositions(\r\n          tasksToReorder,\r\n          taskIndex,\r\n          taskIndex + action.payload.target,\r\n        )\r\n        state.data[targetParentIndex].tasks = tasksToReorder\r\n      }\r\n    },\r\n  },\r\n})\r\n\r\nconst {\r\n  setDarkMode,\r\n  setGridLines,\r\n  setCustom,\r\n  setScrollPosition,\r\n  setMaxScrollPosition,\r\n  addCategory,\r\n  addPerson,\r\n  addEditMainTask,\r\n  addEditTask,\r\n  setToday,\r\n  setCalendar,\r\n  deleteTask,\r\n  setCompletion,\r\n  setMessage,\r\n  reorderTasks,\r\n} = tasksSlice.actions\r\n\r\nconst selectDarkMode = (state) => state.tasks.view.darkMode\r\nconst selectGridLines = (state) => state.tasks.view.gridLines\r\nconst selectCustom = (state) => state.tasks.custom\r\nconst selectScrollPosition = (state) => state.tasks.scrollPosition\r\nconst selectMaxScrollPosition = (state) => state.tasks.maxScrollPosition\r\nconst selectCustomCategories = (state) => state.tasks.custom.categories\r\nconst selectTasks = (state) => state.tasks.data\r\nconst selectToday = (state) => state.tasks.calendar.today\r\nconst selectCalendar = (state) => state.tasks.calendar\r\nconst selectLastMessage = (state) => state.tasks.lastMessage\r\n\r\nexport {\r\n  setDarkMode,\r\n  setGridLines,\r\n  setCustom,\r\n  setScrollPosition,\r\n  setMaxScrollPosition,\r\n  addCategory,\r\n  addPerson,\r\n  addEditMainTask,\r\n  addEditTask,\r\n  setToday,\r\n  setCalendar,\r\n  deleteTask,\r\n  setCompletion,\r\n  setMessage,\r\n  reorderTasks,\r\n  selectDarkMode,\r\n  selectGridLines,\r\n  selectCustom,\r\n  selectScrollPosition,\r\n  selectMaxScrollPosition,\r\n  selectCustomCategories,\r\n  selectTasks,\r\n  selectToday,\r\n  selectCalendar,\r\n  selectLastMessage,\r\n}\r\nexport default tasksSlice.reducer\r\n","const swapPositions = (array, a, b) => {\r\n  [array[a], array[b]] = [array[b], array[a]]\r\n}\r\n\r\nexport { swapPositions }\r\n","import styled from 'styled-components'\r\nimport { convertHex } from '../common/convertHex';\r\n\r\nconst cellSize = '3rem'\r\nconst gapSize = '0px'\r\n\r\nconst Table = styled.div`\r\n    display: grid;\r\n    row-gap: 1.5rem;\r\n`;\r\n\r\nconst TableSection = styled.div`\r\n    display: grid;\r\n    grid-auto-rows: ${cellSize};\r\n    row-gap: ${gapSize};\r\n`;\r\n\r\nconst TableSectionTasks = styled(TableSection)`\r\n    padding-bottom: calc(${cellSize} / 2);\r\n`;\r\n\r\nconst TableRow = styled.div`\r\n    display: grid;\r\n    grid-template-columns: ${props => props.gtc};\r\n    grid-auto-rows: ${cellSize};\r\n    column-gap: ${gapSize};\r\n`;\r\n\r\nconst TableHeaderCell = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    border: 1px solid ${props => props.color};\r\n    &[class~=\"today\"] {\r\n      position: relative;\r\n  }\r\n    &[id~=\"${props => props.id}\"][class~=\"today\"]::after {\r\n      content:'';\r\n      position: absolute;\r\n      top: calc( -1 * calc(${cellSize} * ${props => props.headersCount}));\r\n      // left: 0;\r\n      width: ${cellSize};\r\n      // height: calc(88vh + 1.5 * ${cellSize});\r\n      height: calc(100vh - 18px);\r\n      background-color: rgba(100%, 9%, 26.7%, 0.5);\r\n  }\r\n`;\r\n\r\nconst TableCell = styled.div`\r\n    &:hover {\r\n        background-color: #1a8a98;\r\n    }\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    border: 1px solid ${props => props.color}; \r\n`;\r\n\r\nconst TableTask = styled.div`\r\n  background-color: ${props => props.color};\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color:  ${props => convertHex(props.color)};\r\n  }\r\n  transition: all 0.2s ease;\r\n`;\r\n\r\nexport {\r\n  cellSize,\r\n  gapSize,\r\n  Table,\r\n  TableSection,\r\n  TableSectionTasks,\r\n  TableRow,\r\n  TableHeaderCell,\r\n  TableCell,\r\n  TableTask\r\n}","const convertHex = (hex) => {\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result ? `rgba(${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)},0.5)` : null;\r\n}\r\nexport { convertHex }","import { Typography, useTheme } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { countOccurrences, customGetDate, dateDifference, datesBetween } from '../common/dateHelper';\r\nimport { selectCalendar, selectToday, setCalendar } from '../tasksSlice';\r\nimport {\r\n  cellSize,\r\n  TableHeaderCell, TableRow, TableSection\r\n} from './tables';\r\n\r\nconst HeaderContainer = styled.div`\r\n  z-index: 10;\r\n  width: max-content;\r\n  background-color: #3f51b5;\r\n  border: 1px solid ${props => props.color};\r\n  scroll-behavior: smooth;\r\n  -ms-overflow-style: none;  /* Internet Explorer 10+ */\r\n  scrollbar-width: none;  /* Firefox */\r\n  &::-webkit-scrollbar { \r\n    display: none;  /* Safari and Chrome */\r\n}\r\n`\r\n\r\nconst CalendarHeader = () => {\r\n  const today = useSelector(selectToday)\r\n  const calendar = useSelector(selectCalendar)\r\n  const dispatch = useDispatch();\r\n  const gridLines = true;\r\n  const theme = useTheme();\r\n  const headers = calendar.headers;\r\n  const monthCount = countOccurrences(calendar.firstDay, calendar.lastDay, 'month')\r\n  const yearsCount = countOccurrences(calendar.firstDay, calendar.lastDay, 'year')\r\n  const gtc = `repeat(${dateDifference(calendar.firstDay, calendar.lastDay) + 1}, ${cellSize})`\r\n  const headersCount = Object.values(headers).filter(val => val).length\r\n  useEffect(() => {\r\n    if (headers.year === null) {\r\n      const showYears = (yearsCount.length === 1 ? false : true);\r\n      dispatch(setCalendar({ 'headers': { ...headers, ...{ 'year': showYears } } }))\r\n    }\r\n  })\r\n\r\n  return (\r\n    <HeaderContainer\r\n      color={theme.palette.divider}\r\n    >\r\n      <TableSection>\r\n        {(headers.year) &&\r\n          <TableRow\r\n            gtc={gtc}\r\n            className=\"years\">\r\n            {yearsCount.map((year, index) => {\r\n              return (\r\n                <TableHeaderCell\r\n                  color={theme.palette.divider}\r\n                  key={index}\r\n                  style={{\r\n                    gridColumn: `span ${year.count}`,\r\n                    color: '#fff'\r\n                  }}\r\n                >\r\n                  <Typography variant=\"h3\">\r\n                    {year.title}\r\n                  </Typography>\r\n                </TableHeaderCell>\r\n              )\r\n            })\r\n            }\r\n          </TableRow>\r\n        }\r\n        {(headers.month) &&\r\n          <TableRow\r\n            gtc={gtc}\r\n            className=\"months\"\r\n          >\r\n            {monthCount.map((month, index) => {\r\n              return (\r\n                <TableHeaderCell\r\n                  color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                  key={index}\r\n                  style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    gridColumn: `span ${month.count}`,\r\n                    color: '#fff'\r\n                  }}\r\n                >\r\n                  <Typography variant=\"h4\">\r\n                    {month.title}\r\n                  </Typography>\r\n                </TableHeaderCell>\r\n              )\r\n            })\r\n            }\r\n\r\n          </TableRow>\r\n        }\r\n        {(headers.shortDay) &&\r\n          <TableRow\r\n            gtc={gtc}\r\n            className=\"short-days\"\r\n            style={{\r\n              color: '#fff'\r\n            }}\r\n          >\r\n            {datesBetween(calendar.firstDay, calendar.lastDay).map((day, index) => {\r\n              return (\r\n                <TableHeaderCell\r\n                  color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                  className={day === today ? 'today' : 'else'}\r\n                  key={index}\r\n                  style={{\r\n                    color: '#fff'\r\n                  }}\r\n                >\r\n                  <Typography>\r\n                    {customGetDate(day, 'day-of-the-week-abbr')}\r\n                  </Typography>\r\n                </TableHeaderCell>\r\n              )\r\n            })}\r\n          </TableRow>\r\n        }\r\n        <TableRow\r\n          gtc={gtc}\r\n          className=\"days\"\r\n        >\r\n          {datesBetween(calendar.firstDay, calendar.lastDay).map((day, index) => {\r\n            return (\r\n              <TableHeaderCell\r\n                color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                className={day === today ? 'today' : 'else'}\r\n                id={customGetDate(day)}\r\n                headersCount={headersCount}\r\n                key={index}\r\n                style={{\r\n                  color: '#fff'\r\n                }}\r\n              >\r\n                <Typography>\r\n                  {customGetDate(day, 'day')}\r\n                </Typography>\r\n              </TableHeaderCell>\r\n            )\r\n          })}\r\n        </TableRow>\r\n      </TableSection>\r\n      {/* <ScrollButtonLeft /> */}\r\n      {/* <ScrollButtonRight /> */}\r\n    </HeaderContainer >\r\n  )\r\n}\r\n\r\nexport { CalendarHeader };\r\n\r\n","export const scrollToElement = (id) => {\r\n  document\r\n    .getElementById(id)\r\n    .scrollIntoView({ behavior: 'smooth', alignTo: false })\r\n}\r\n","import { IconButton, ListItemSecondaryAction } from '@material-ui/core'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\r\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport React from 'react'\r\nimport { cellSize } from './tables'\r\nimport { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { reorderTasks } from '../tasksSlice'\r\nimport { scrollToElement } from '../common/scrollToElement'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    // maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n    minHeight: cellSize,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n    height: cellSize,\r\n    textOverflow: 'ellipsis',\r\n  },\r\n}))\r\n\r\nconst SidebarTasksNestedList = (props) => {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const [open, setOpen] = useState(props.startOpen)\r\n\r\n  const handleClick = () => {\r\n    setOpen(!open)\r\n  }\r\n\r\n  const handleReorder = (data, direction) => {\r\n    switch (direction) {\r\n      case 'up':\r\n        dispatch(reorderTasks({ data: data, target: -1 }))\r\n        break\r\n      case 'down':\r\n        dispatch(reorderTasks({ data: data, target: 1 }))\r\n        break\r\n      default:\r\n        console.warn('reordering did not work')\r\n        break\r\n    }\r\n  }\r\n\r\n  return (\r\n    <List\r\n      style={{\r\n        padding: 0,\r\n        paddingBottom: '24px',\r\n        wordBreak: 'break-word',\r\n      }}\r\n      component=\"nav\"\r\n      aria-labelledby=\"main task\"\r\n      className={`${classes.root} list `}\r\n    >\r\n      <ListItem button onClick={() => scrollToElement(props.data.id)}>\r\n        <ListItemText primary={props.title || props.data.title} />\r\n        {open ? (\r\n          <IconButton\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ padding: '8px' }}\r\n          >\r\n            <ExpandLess />\r\n          </IconButton>\r\n        ) : (\r\n          <IconButton\r\n            onClick={handleClick}\r\n            size=\"small\"\r\n            style={{ padding: '8px' }}\r\n          >\r\n            <ExpandMore />\r\n          </IconButton>\r\n        )}\r\n      </ListItem>\r\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n        <List component=\"div\" disablePadding>\r\n          {props.data.tasks.map((task, index) => {\r\n            return (\r\n              <ListItem key={index} className={classes.nested}>\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                  {index !== 0 && (\r\n                    <IconButton\r\n                      onClick={() => handleReorder(task, 'up')}\r\n                      size=\"small\"\r\n                      style={{ marginBottom: '-10px' }}\r\n                    >\r\n                      <ArrowDropUpIcon />\r\n                    </IconButton>\r\n                  )}\r\n                  {index !== props.data.tasks.length - 1 && (\r\n                    <IconButton\r\n                      onClick={() => handleReorder(task, 'down')}\r\n                      size=\"small\"\r\n                    >\r\n                      <ArrowDropDownIcon />\r\n                    </IconButton>\r\n                  )}\r\n                </div>\r\n                <ListItem\r\n                  onClick={() => scrollToElement(`task-${task.id}`)}\r\n                  button\r\n                >\r\n                  <ListItemText primary={task.title} />\r\n                </ListItem>\r\n                <ListItemSecondaryAction>\r\n                  <ListItemText secondary={task.completion} />\r\n                </ListItemSecondaryAction>\r\n              </ListItem>\r\n            )\r\n          })}\r\n        </List>\r\n      </Collapse>\r\n    </List>\r\n  )\r\n}\r\nexport { SidebarTasksNestedList }\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { selectTasks } from '../tasksSlice'\r\nimport { List } from '@material-ui/core'\r\nimport { SidebarTasksNestedList } from './SidebarTasksNestedList'\r\n\r\nconst SidebarTasksList = () => {\r\n  const data = useSelector(selectTasks)\r\n\r\n  return (\r\n    <List style={{ padding: 0 }}>\r\n      {data.map((mainTask, index) => {\r\n        return (\r\n          <SidebarTasksNestedList\r\n            key={index}\r\n            data={mainTask}\r\n            startOpen={true}\r\n          />\r\n        )\r\n      })}\r\n    </List>\r\n  )\r\n}\r\n\r\nexport { SidebarTasksList }\r\n","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport clsx from 'clsx';\r\nimport { ListItem, ListItemText, makeStyles, useTheme, AppBar, Divider, Drawer, IconButton, List, Toolbar, Typography } from '@material-ui/core';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { SidebarTasksList } from './SidebarTasksList';\r\nimport { cellSize } from './tables';\r\nimport { selectCalendar } from '../tasksSlice';\r\n\r\nconst drawerWidth = 360;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    height: '100vh'\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    paddingLeft: '0',\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    // ...theme.mixins.toolbar.dense,\r\n    height: cellSize,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    width: \"98vw\",\r\n    height: \"100vh\",\r\n    overflowX: \"scroll\",\r\n    overflowY: \"hidden\",\r\n    paddingTop: cellSize,\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  cellSize: {\r\n    height: cellSize,\r\n  },\r\n  dense: {\r\n    height: cellSize,\r\n    minHeight: cellSize,\r\n  },\r\n  rootAppBar: {\r\n    height: cellSize,\r\n    zIndex: 10,\r\n  }\r\n}));\r\n\r\nconst CalendarSidebar = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false);\r\n  const headers = Object.values(useSelector(selectCalendar).headers)\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const calendarHeaders = ['Years', 'Months', 'Day names', 'Days']\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        classes={{ root: classes.rootAppBar }}\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar variant=\"dense\" classes={{ root: classes.rootAppBar, dense: classes.dense }}>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" noWrap>\r\n            Task planner\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div\r\n          className={classes.drawerHeader}\r\n        >\r\n          <Typography variant=\"h6\" >\r\n            Task list\r\n          </Typography>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List style={{ padding: 0 }}>\r\n          {calendarHeaders.map((text, index) => (\r\n            headers[index] && (\r\n              < ListItem\r\n                style={{\r\n                  borderBottom: `1px solid ${theme.palette.divider}`\r\n                }}\r\n                key={index}\r\n                className={classes.cellSize}\r\n              >\r\n                <ListItemText align=\"right\" >\r\n                  {text}\r\n                </ListItemText>\r\n              </ ListItem>\r\n            )\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <SidebarTasksList />\r\n      </Drawer>\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        {props.children}\r\n      </main>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport { CalendarSidebar };\r\n","const colors =\r\n{\r\n  \"red-400\": \"#ef5350\",\r\n  \"red-500\": \"#f44336\",\r\n  \"red-600\": \"#e53935\",\r\n  // \"red-700\": \"#d32f2f\",\r\n  // \"red-800\": \"#c62828\",\r\n  // \"red-900\": \"#b71c1c\",\r\n  \"pink-300\": \"#f06292\",\r\n  \"pink-400\": \"#ec407a\",\r\n  \"pink-500\": \"#e91e63\",\r\n  \"pink-600\": \"#d81b60\",\r\n  \"pink-700\": \"#c2185b\",\r\n  // \"pink-800\": \"#ad1457\",\r\n  // \"pink-900\": \"#880e4f\",\r\n  \"purple-300\": \"#ba68c8\",\r\n  \"purple-400\": \"#ab47bc\",\r\n  // \"purple-500\": \"#9c27b0\",\r\n  \"purple-600\": \"#8e24aa\",\r\n  \"purple-700\": \"#7b1fa2\",\r\n  \"purple-800\": \"#6a1b9a\",\r\n  // \"purple-900\": \"#4a148c\",\r\n  \"deepPurple-300\": \"#9575cd\",\r\n  \"deepPurple-400\": \"#7e57c2\",\r\n  \"deepPurple-500\": \"#673ab7\",\r\n  \"deepPurple-600\": \"#5e35b1\",\r\n  // \"deepPurple-700\": \"#512da8\",\r\n  \"deepPurple-800\": \"#4527a0\",\r\n  // \"deepPurple-900\": \"#311b92\",\r\n  \"indigo-300\": \"#7986cb\",\r\n  \"indigo-400\": \"#5c6bc0\",\r\n  \"indigo-500\": \"#3f51b5\",\r\n  // \"indigo-600\": \"#3949ab\",\r\n  \"indigo-700\": \"#303f9f\",\r\n  \"indigo-800\": \"#283593\",\r\n  \"indigo-900\": \"#1a237e\",\r\n  \"lightBlue-500\": \"#2196f3\",\r\n  \"lightBlue-600\": \"#1e88e5\",\r\n  // \"lightBlue-700\": \"#1976d2\",\r\n  \"lightBlue-800\": \"#1565c0\",\r\n  \"lightBlue-900\": \"#0d47a1\",\r\n  \"cyan-700\": \"#0097a7\",\r\n  \"cyan-800\": \"#00838f\",\r\n  \"cyan-900\": \"#006064\",\r\n  \"teal-400\": \"#26a69a\",\r\n  // \"teal-500\": \"#009688\",\r\n  \"teal-600\": \"#00897b\",\r\n  \"teal-700\": \"#00796b\",\r\n  \"teal-800\": \"#00695c\",\r\n  \"teal-900\": \"#004d40\",\r\n  \"green-600\": \"#43a047\",\r\n  \"green-700\": \"#388e3c\",\r\n  \"green-800\": \"#2e7d32\",\r\n  // \"green-900\": \"#1b5e20\",\r\n  \"lightGreen-700\": \"#689f38\",\r\n  \"lightGreen-800\": \"#558b2f\",\r\n  // \"lightGreen-900\": \"#33691e\",\r\n  \"deepOrange-500\": \"#ff5722\",\r\n  \"deepOrange-600\": \"#f4511e\",\r\n  \"deepOrange-700\": \"#e64a19\",\r\n  // \"deepOrange-800\": \"#d84315\",\r\n  \"deepOrange-900\": \"#bf360c\",\r\n  // \"brown-300\": \"#a1887f\",\r\n  \"brown-400\": \"#8d6e63\",\r\n  \"brown-500\": \"#795548\",\r\n  \"brown-600\": \"#6d4c41\",\r\n  \"brown-700\": \"#5d4037\",\r\n  // \"brown-800\": \"#4e342e\",\r\n  // \"brown-900\": \"#3e2723\"\r\n}\r\nexport { colors }","import React from 'react';\r\nimport { FormControl, ListItemIcon, ListItemText, makeStyles, MenuItem, Select } from '@material-ui/core';\r\nimport { colors } from \"../common/colors\";\r\nimport StopIcon from '@material-ui/icons/Stop';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  select: {\r\n    display: 'flex',\r\n  },\r\n}));\r\n\r\nconst ColorPicker = (props) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <FormControl>\r\n      <Select\r\n        classes={{ select: classes.select }}\r\n\r\n        name=\"color\"\r\n        value={props.data.color}\r\n        onChange={props.onChange}\r\n        autoWidth\r\n        displayEmpty\r\n\r\n        id=\"color-select\">\r\n        <MenuItem value=\"\" disabled>\r\n          <em>Color</em>\r\n        </MenuItem>\r\n        {Object.entries(colors).map((color) => {\r\n          const colorName = color[0];\r\n          const colorValue = color[1];\r\n\r\n          return (\r\n            <MenuItem\r\n              key={colorName}\r\n              value={colorValue}>\r\n              <ListItemIcon>\r\n                <StopIcon\r\n                  fontSize=\"large\"\r\n                  style={{ color: colorValue }}\r\n                />\r\n              </ListItemIcon>\r\n              <ListItemText>\r\n                {colorName}\r\n              </ListItemText>\r\n            </MenuItem>\r\n          )\r\n        })}\r\n\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n}\r\n\r\nexport { ColorPicker };\r\n","import React from 'react'\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n// import { pl } from \"date-fns/locale\";\r\n\r\nconst DatePicker = (props) => {\r\n  return (\r\n    <MuiPickersUtilsProvider\r\n      // locale={pl}\r\n      utils={DateFnsUtils}>\r\n      <KeyboardDatePicker\r\n        fullWidth\r\n        format=\"dd.MM.yyyy\"\r\n        margin=\"normal\"\r\n        id=\"date-picker-inline\"\r\n        label=\"Task start date\"\r\n        value={props.data.startDate}\r\n        onChange={props.onChange}\r\n        KeyboardButtonProps={{\r\n          'aria-label': 'change date',\r\n        }}\r\n      />\r\n    </MuiPickersUtilsProvider>\r\n  )\r\n}\r\nexport { DatePicker }","import { Checkbox, FormControl, FormControlLabel, FormGroup, MenuItem, Select, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectTasks } from '../tasksSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nconst MainAndParentOptions = (props) => {\r\n  const classes = useStyles()\r\n  const data = useSelector(selectTasks)\r\n  const list = [];\r\n\r\n  data.forEach((mainTask) => {\r\n    list.push({ value: mainTask.id, title: mainTask.title, nested: false })\r\n  })\r\n\r\n  return (\r\n    <FormGroup\r\n    ><FormControl>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              name=\"mainTask\"\r\n              checked={props.data.mainTask}\r\n              onChange={e => {\r\n                if (e.target.checked) {\r\n                  props.onChange({ [e.target.name]: e.target.checked, 'parent': '' })\r\n                } else {\r\n                  props.onChange({ [e.target.name]: e.target.checked })\r\n                }\r\n              }}\r\n            />}\r\n          label=\"Main task\"\r\n        />\r\n      </FormControl>\r\n      <FormControl>\r\n        <Select\r\n          value={props.data.parent}\r\n          name=\"parent\"\r\n          onChange={e => {\r\n            props.onChange({ [e.target.name]: e.target.value })\r\n          }}\r\n          disabled={props.data.mainTask}\r\n          autoWidth\r\n          displayEmpty\r\n\r\n          id=\"grouped-select\">\r\n          <MenuItem value=\"\" disabled>\r\n            Parent task\r\n              </MenuItem>\r\n          {\r\n            list.map((task, index) => {\r\n              return (\r\n                <MenuItem\r\n                  key={index}\r\n                  className={task.nested ? classes.nested : ''}\r\n                  value={task.value}>\r\n                  {task.title}\r\n                </MenuItem>\r\n              )\r\n            })\r\n          }\r\n        </Select>\r\n      </FormControl>\r\n    </FormGroup>\r\n  )\r\n}\r\nexport { MainAndParentOptions }","\r\nimport React from 'react'\r\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\r\nimport { TextField } from '@material-ui/core';\r\n\r\n\r\nconst SelectWithAdd = (props) => {\r\n  const filter = createFilterOptions();\r\n  return (\r\n    <Autocomplete\r\n      value={props.value}\r\n      onChange={(event, newValue) => {\r\n        if (typeof newValue === 'string') {\r\n          props.onChange({\r\n            [props.name]: newValue,\r\n          });\r\n        } else if (newValue && newValue.inputValue) {\r\n          // Create a new value from the user input\r\n          props.onChange({\r\n            [props.name]: newValue.inputValue,\r\n          });\r\n        } else {\r\n          props.onChange(newValue);\r\n        }\r\n      }}\r\n\r\n      filterOptions={(options, params) => {\r\n        const filtered = filter(options, params);\r\n\r\n        // Suggest the creation of a new value\r\n        if (params.inputValue !== '') {\r\n          filtered.push({\r\n            inputValue: params.inputValue,\r\n            [props.name]: `Add ${props.name}: ${params.inputValue}`,\r\n          });\r\n        }\r\n\r\n        return filtered;\r\n      }}\r\n      selectOnFocus\r\n      clearOnBlur\r\n      handleHomeEndKeys\r\n      id={props.id}\r\n      options={props.options}\r\n      getOptionLabel={(option) => {\r\n        // Value selected with enter, right from the input\r\n        if (typeof option === 'string') {\r\n          return option;\r\n        }\r\n        // Add \"xxx\" option created dynamically\r\n        if (option.inputValue) {\r\n          return option.inputValue;\r\n        }\r\n        // Regular option\r\n        return option[props.name];\r\n      }}\r\n      renderOption={(option) => option[props.name]}\r\n\r\n      freeSolo\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          label={props.label}\r\n\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\nexport { SelectWithAdd }\r\n","import { FormControl, makeStyles, TextField } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorPicker } from './ColorPicker'\r\nimport { addDays } from '../common/dateHelper'\r\nimport { DatePicker } from './DatePicker'\r\nimport { MainAndParentOptions } from './MainAndParentOptions'\r\nimport { SelectWithAdd } from './SelectWithAdd'\r\nimport { selectCustom } from '../tasksSlice'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  form: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '2fr 1fr',\r\n    columnGap: theme.spacing(3),\r\n    [theme.breakpoints.down('sm')]: {\r\n      gridTemplateColumns: '1fr',\r\n    },\r\n  },\r\n\r\n  formControl: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nconst AddTaskForm = (props) => {\r\n  const classes = useStyles()\r\n  const categories = useSelector(selectCustom).categories.map((category) => {\r\n    return { category: category }\r\n  })\r\n  const people = useSelector(selectCustom).people.map((person) => {\r\n    return { responsible: person }\r\n  })\r\n\r\n  // TODO: change from object to consts. Right know each key event in text fields rerenders whole form and causes lags\r\n  let initialState = {}\r\n  if (props.initialData.id) {\r\n    initialState = props.initialData\r\n  } else {\r\n    initialState = {\r\n      id: '',\r\n      title: '',\r\n      description: '',\r\n      mainTask: false,\r\n      startDate: 0,\r\n      duration: 0,\r\n      parent: '',\r\n      category: '',\r\n      responsible: '',\r\n      color: '',\r\n      tasks: [],\r\n    }\r\n  }\r\n\r\n  const [data, setData] = useState(initialState)\r\n\r\n  const handleChangeData = (value) => {\r\n    setData({ ...data, ...value })\r\n  }\r\n\r\n  const sendData = () => {\r\n    dataValidation(data)\r\n    props.onChange(data)\r\n  }\r\n\r\n  const dataValidation = (inputData) => {\r\n    let valid = false\r\n    if (inputData.title === '') {\r\n      valid = false\r\n    } else if (inputData.description === '') {\r\n      valid = false\r\n    } else if (inputData.startDate === 0) {\r\n      valid = false\r\n    } else if (inputData.duration === 0) {\r\n      valid = false\r\n    } else if (inputData.mainTask === false && inputData.parent === '') {\r\n      valid = false\r\n    } else if (inputData.category === '') {\r\n      valid = false\r\n    } else if (inputData.responsible === '') {\r\n      valid = false\r\n    } else if (inputData.color === '') {\r\n      valid = false\r\n    } else {\r\n      valid = true\r\n    }\r\n    props.dataValidation(valid)\r\n  }\r\n\r\n  return (\r\n    <form\r\n      className={classes.form}\r\n      noValidate\r\n      autoComplete=\"off\"\r\n      onChange={sendData}\r\n      onBlur={sendData}\r\n    >\r\n      <div className={classes.root}>\r\n        <FormControl className={classes.formControl}>\r\n          <TextField\r\n            id=\"title-input\"\r\n            name=\"title\"\r\n            label=\"New task name\"\r\n            value={data.title}\r\n            inputProps={{ maxLength: 50 }}\r\n            onChange={(e) => {\r\n              handleChangeData({ [e.target.name]: e.target.value })\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <SelectWithAdd\r\n            id=\"select-category-input\"\r\n            name=\"category\"\r\n            label=\"Choose category or enter new\"\r\n            options={categories}\r\n            value={data.category}\r\n            onChange={(e) => {\r\n              handleChangeData(e)\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <TextField\r\n            id=\"description-name\"\r\n            label=\"Description\"\r\n            value={data.description}\r\n            onChange={(e) => {\r\n              handleChangeData({ description: e.target.value })\r\n            }}\r\n            multiline\r\n            rows={4}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <SelectWithAdd\r\n            id=\"select-person-input\"\r\n            name=\"responsible\"\r\n            label=\"Choose person responsible or enter new\"\r\n            options={people}\r\n            value={data.responsible}\r\n            onChange={(e) => {\r\n              handleChangeData(e)\r\n            }}\r\n          />\r\n        </FormControl>\r\n      </div>\r\n\r\n      <div className={classes.root}>\r\n        <FormControl className={classes.formControl}>\r\n          <MainAndParentOptions\r\n            onChange={(e) => {\r\n              handleChangeData(e)\r\n            }}\r\n            data={data}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <ColorPicker\r\n            onChange={(e) => {\r\n              handleChangeData({ [e.target.name]: e.target.value })\r\n            }}\r\n            data={data}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <DatePicker\r\n            onChange={(e) => {\r\n              handleChangeData({ startDate: addDays(e) })\r\n            }}\r\n            data={data}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <TextField\r\n            id=\"task-duration-input\"\r\n            label=\"Task duration\"\r\n            name=\"duration\"\r\n            value={data.duration}\r\n            onChange={(e) => {\r\n              handleChangeData({ [e.target.name]: Number(e.target.value) })\r\n            }}\r\n            type=\"number\"\r\n            inputProps={{\r\n              min: 1,\r\n              step: 1,\r\n            }}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n        </FormControl>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport { AddTaskForm }\r\n","\r\nimport { Button, DialogActions, DialogContent, DialogTitle, IconButton, Tooltip } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addDays } from '../common/dateHelper';\r\nimport { addCategory, addEditMainTask, addEditTask, addPerson, selectCalendar, setCalendar, setMessage } from '../tasksSlice';\r\nimport { AddTaskForm } from './AddTaskForm';\r\n\r\n\r\nconst AddTaskDialog = (props) => {\r\n  const [data, setData] = useState(props.data || {});\r\n  const [validData, setValidData] = useState(false)\r\n\r\n  const handleDataInput = (formData) => {\r\n    setData(formData)\r\n  }\r\n\r\n  const handleDataValidation = (isDataValid) => {\r\n    setValidData(isDataValid)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    props.handleClose(true)\r\n  }\r\n\r\n  const dispatch = useDispatch()\r\n  const calendar = useSelector(selectCalendar)\r\n\r\n  const saveData = () => {\r\n    const id = data.id || Math.floor(Math.random() * 10000);\r\n    const endDate = addDays(data.startDate, data.duration);\r\n    const completion = data.completion || '0%';\r\n    const objectToSave = { ...data, ...{ \"id\": id, \"endDate\": endDate, \"completion\": completion } }\r\n    if (data.mainTask) {\r\n      dispatch(addEditMainTask(objectToSave))\r\n    } else {\r\n      dispatch(addEditTask({ \"target\": objectToSave.parent, \"data\": objectToSave }))\r\n    }\r\n    const message = data.id === '' ? `Task \"${data.title}\" added` : `Task \"${data.title}\" modified`\r\n    dispatch(setMessage(message))\r\n\r\n    const leftBoundaryDate = addDays(objectToSave.startDate, -15);\r\n    const rightBoundaryDate = addDays(objectToSave.endDate, 15);\r\n    dispatch(setCalendar(\r\n      {\r\n        firstDay: Math.min(leftBoundaryDate, calendar.firstDay),\r\n        lastDay: Math.max(rightBoundaryDate, calendar.lastDay)\r\n      }))\r\n    dispatch(addCategory(data.category))\r\n    dispatch(addPerson(data.responsible))\r\n    handleClose()\r\n  }\r\n  return (\r\n    < React.Fragment >\r\n      <DialogTitle\r\n        style={{ cursor: 'move' }}\r\n        id={`draggable-dialog-${props.name}`}>\r\n        Add task\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <AddTaskForm\r\n          initialData={data}\r\n          onChange={handleDataInput}\r\n          dataValidation={handleDataValidation}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Tooltip title={!validData ? 'All fields must be filled in to save' : ''}>\r\n          <span>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={saveData}\r\n              startIcon={<SaveAltIcon />}\r\n              disabled={!validData}\r\n            >\r\n              Save\r\n        </Button>\r\n          </span>\r\n        </Tooltip>\r\n        <Tooltip title={'Close'}>\r\n          <IconButton\r\n            onClick={() => handleClose()}\r\n            aria-label=\"close\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </DialogActions>\r\n      {Object.keys(data).length === 0}\r\n    </ React.Fragment>\r\n  )\r\n}\r\n\r\nexport { AddTaskDialog };\r\n\r\n","import Button from '@material-ui/core/Button';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { deleteTask, setMessage } from '../tasksSlice';\r\n\r\n\r\nconst DeleteDialog = (props) => {\r\n  const dispatch = useDispatch()\r\n  const dialogText = () => {\r\n    if (props.task.mainTask) {\r\n      return (\r\n        <React.Fragment>\r\n          <DialogContentText align=\"center\">\r\n            \"{props.task.title}\"\r\n          </DialogContentText>\r\n          <DialogContentText align=\"center\">\r\n            and each of its subtasks?\r\n          </DialogContentText>\r\n        </React.Fragment>\r\n        )\r\n    } else {\r\n      return (<DialogContentText align=\"center\">\"{props.task.title}\" ?</DialogContentText>)\r\n    }\r\n  }\r\n\r\nconst handleDelete = () => {\r\n  dispatch(deleteTask(props.task))\r\n  dispatch(setMessage(`Task \"${props.task.title}\" removed`))\r\n  props.handleClose(true)\r\n}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <DialogTitle\r\n        style={{ cursor: 'move' }}\r\n        id={`draggable-dialog - ${props.title} `}\r\n      >This action cannot be undone</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          Are you sure you want to remove task:\r\n          </DialogContentText>\r\n        {dialogText()}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button \r\n          variant=\"contained\"\r\n          autoFocus \r\n          onClick={props.handleClose} \r\n          color=\"secondary\">\r\n          No\r\n          </Button>\r\n        <Button \r\n          variant=\"contained\"\r\n          onClick={handleDelete} \r\n          color=\"primary\" \r\n        >\r\n          Yes\r\n          </Button>\r\n      </DialogActions>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { DeleteDialog };\r\n","import React from 'react';\r\nimport { Paper, Dialog, useMediaQuery, useTheme } from '@material-ui/core';\r\nimport Draggable from 'react-draggable';\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable handle={`#draggable-dialog-${props.name}`} cancel={'[class*=\"MuiDialogContent-root\"]'}>\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nconst DraggableDialog = (props) => {\r\n  const theme = useTheme()\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  return (\r\n    <Dialog\r\n      fullScreen={fullScreen}\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      PaperComponent={PaperComponent}\r\n      PaperProps={{ 'name': props.name }}\r\n      aria-labelledby={`draggable-dialog-${props.name}`}\r\n      children={props.children}\r\n    >\r\n    </Dialog>\r\n  )\r\n}\r\nexport { DraggableDialog }\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n    alignItems: 'center'\r\n  },\r\n  orange: {\r\n    color: theme.palette.getContrastText(deepOrange[500]),\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n}));\r\n\r\nconst LetterAvatar = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Avatar className={classes.orange}>{props.responsible.charAt(0)}</Avatar>\r\n      <Typography>{props.responsible}</Typography>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { LetterAvatar }","import React, { useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { IconButton, TextField, InputAdornment } from \"@material-ui/core\"\r\nimport { setCompletion } from \"../tasksSlice\"\r\n\r\nconst TaskCompletionIndicator = (props) => {\r\n  const dispatch = useDispatch()\r\n  const [value, setValue] = useState(props.data.completion.slice(0, -1))\r\n  const [edit, setEdit] = useState(false)\r\n\r\n  const startEditing = () => {\r\n    setEdit(true)\r\n  }\r\n\r\n  const endEditing = () => {\r\n    setEdit(false)\r\n    const completionValue = roundedValue(value) + '%'\r\n    dispatch(setCompletion({ data: props.data, completion: completionValue }))\r\n  }\r\n\r\n  const roundedValue = (inputValue) => {\r\n    const val = Math.round(Number(inputValue))\r\n    if (val > 100) {\r\n      return 100\r\n    } else if (val < 0) {\r\n      return 0\r\n    } else {\r\n      return val\r\n    }\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {edit\r\n        ? (<IconButton\r\n          disableRipple\r\n        >\r\n\r\n          <TextField\r\n            autoFocus\r\n            onChange={handleChange}\r\n            onBlur={endEditing}\r\n            value={value}\r\n            inputProps={{\r\n              type: \"number\",\r\n              max: 100,\r\n              min: 0\r\n            }}\r\n            margin=\"none\"\r\n            id=\"standard-end-adornment\"\r\n            className=\"completion\"\r\n            style={{\r\n              width: '3rem',\r\n            }}\r\n            // className={clsx(classes.margin, classes.textField)}\r\n            InputProps={{\r\n              endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n            }}\r\n          />\r\n        </IconButton>)\r\n        : (<IconButton\r\n          aria-label=\"completion\"\r\n          onClick={startEditing}\r\n        >\r\n          {props.data.completion}\r\n        </IconButton>)\r\n      }\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { TaskCompletionIndicator }\r\n\r\n\r\n\r\n\r\n","import { Card, CardActions, CardContent, CardHeader, Container, IconButton, Tooltip, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport React, { useState } from \"react\";\r\nimport { AddTaskDialog } from \"../dialogs/AddTaskDialog\";\r\nimport { DeleteDialog } from \"../dialogs/DeleteDialog\";\r\nimport { DraggableDialog } from \"../dialogs/DraggableDialog\";\r\nimport { LetterAvatar } from \"./LetterAvatar\";\r\nimport { SidebarTasksNestedList } from \"./SidebarTasksNestedList\";\r\nimport { TaskCompletionIndicator } from \"./TaskCompletionIndicator\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    wordBreak: \"break-word\",\r\n    maxHeight: \"75vh\",\r\n    [theme.breakpoints.down('md')]: {\r\n      maxHeight: \"90vh\",\r\n    },\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nconst CalendarTaskPopper = (props) => {\r\n  const classes = useStyles()\r\n  const [openEdit, setOpenEdit] = useState(false);\r\n  const [openDelete, setOpenDelete] = useState(false);\r\n\r\n  const handleOpenEdit = () => {\r\n    setOpenEdit(true)\r\n  }\r\n\r\n  const handleCloseEdit = () => {\r\n    setOpenEdit(false)\r\n  }\r\n\r\n  const handleOpenDelete = () => {\r\n    setOpenDelete(true)\r\n  }\r\n\r\n  const handleCloseDelete = () => {\r\n    setOpenDelete(false)\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      disableGutters\r\n      maxWidth=\"xs\"\r\n    >\r\n\r\n      <Card className={`${classes.root} card`}\r\n      >\r\n        <CardHeader\r\n          title={props.data.title}\r\n          subheader={props.data.category}\r\n          action={!props.data.mainTask ?\r\n            <TaskCompletionIndicator\r\n              data={props.data}\r\n            />\r\n            : ''\r\n          }\r\n        />\r\n        <CardContent>\r\n          <Typography\r\n            variant=\"body1\"\r\n            color=\"textSecondary\"\r\n            component=\"p\">\r\n            {props.data.description}\r\n          </Typography>\r\n\r\n        </CardContent>\r\n        {props.data.mainTask && (\r\n          <SidebarTasksNestedList\r\n            data={props.data}\r\n            startOpen={false}\r\n            title=\"Subtasks list\"\r\n          />)\r\n        }\r\n        <CardActions style={{ justifyContent: 'space-between' }}>\r\n          <LetterAvatar responsible={props.data.responsible} />\r\n          <div>\r\n            <Tooltip title={'Delete'}>\r\n              <IconButton\r\n                aria-label=\"delete\"\r\n                onClick={handleOpenDelete}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title={'Edit'}>\r\n              <IconButton\r\n                aria-label=\"edit\"\r\n                onClick={handleOpenEdit}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title={'Close'}>\r\n              <IconButton\r\n                onClick={(event) => props.click(event)}\r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </div>\r\n        </CardActions>\r\n        <DraggableDialog\r\n          open={openEdit}\r\n          title={'edit'}\r\n          handleClose={handleCloseEdit}\r\n        >\r\n          <AddTaskDialog\r\n            title={'edit'}\r\n            data={props.data}\r\n            handleClose={handleCloseEdit}\r\n          />\r\n        </DraggableDialog>\r\n        <DraggableDialog\r\n          open={openDelete}\r\n          title={'delete'}\r\n          handleClose={handleCloseDelete}\r\n        >\r\n          <DeleteDialog\r\n            title={'delete'}\r\n            task={props.data}\r\n            handleClose={handleCloseDelete}\r\n\r\n          />\r\n        </DraggableDialog>\r\n      </Card>\r\n    </Container >\r\n  );\r\n}\r\n\r\nexport { CalendarTaskPopper };\r\n","import { Typography } from '@material-ui/core';\r\nimport { Fade, Paper, Popper } from \"@material-ui/core/\";\r\nimport React, { useState } from 'react';\r\nimport { CalendarTaskPopper } from './CalendarTaskPopper';\r\nimport { cellSize, TableTask } from './tables';\r\n\r\n\r\nconst CalendarMainTask = (props) => {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = () => event => {\r\n    setAnchorEl(event.currentTarget);\r\n    setOpen(open === false ? true : false);\r\n  };\r\n\r\n  return (\r\n    <TableTask\r\n      className=\"task\"\r\n      id={props.data.id}\r\n      color={props.data.color}\r\n      style={{\r\n        gridColumn: `span ${props.data.duration}`,\r\n      }}>\r\n      <div\r\n        onClick={handleClick()}\r\n        style={\r\n          {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            height: cellSize,\r\n            bottom: cellSize,\r\n            paddingLeft: '1rem',\r\n            paddingRight: '1rem'\r\n          }\r\n        }>\r\n        <Typography\r\n          style={{\r\n            color: '#fff',\r\n            overflow: 'hidden'\r\n          }}>\r\n          {props.data.title}\r\n        </Typography>\r\n      </div>\r\n      <Popper\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        placement=\"bottom-start\"\r\n        transition\r\n        style={{ zIndex: '11' }}\r\n      >\r\n        {({ TransitionProps }) => (\r\n          <Fade {...TransitionProps} timeout={350}>\r\n            <Paper>\r\n              <CalendarTaskPopper\r\n                data={props.data}\r\n                click={handleClick()}\r\n              />\r\n            </Paper>\r\n          </Fade>\r\n        )}\r\n      </Popper>\r\n    </ TableTask>\r\n  )\r\n\r\n}\r\nexport { CalendarMainTask };\r\n","import { Fade, Paper, Popper, Tooltip, Typography, Grow } from \"@material-ui/core/\";\r\nimport React, { useState } from \"react\";\r\nimport styled from 'styled-components';\r\nimport { CalendarTaskPopper } from './CalendarTaskPopper';\r\nimport { cellSize, TableTask } from \"./tables\";\r\n\r\nconst Header = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  posistion: relative;\r\n`;\r\n\r\nconst CalendarTask = (props) => {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = () => event => {\r\n    setAnchorEl(event.currentTarget);\r\n    setOpen(open === false ? true : false);\r\n  };\r\n\r\n  const checkColors = () => {\r\n    if (props.mainTaskDates.start > props.data.startDate || props.mainTaskDates.end < props.data.endDate) {\r\n      return ('#d50000')\r\n    } else if (props.data.completion === \"100%\") {\r\n      return (\"#505050\")\r\n    } else {\r\n      return (props.data.color)\r\n    }\r\n  }\r\n  return (\r\n\r\n    <Grow\r\n      in={true}\r\n      style={{ transformOrigin: '0 0 0' }}\r\n    // {...(checked ? { timeout: 1000 } : {})}\r\n    >\r\n      < TableTask\r\n        className=\"task\"\r\n        id={`task-${props.data.id}`}\r\n        color={checkColors()}\r\n        style={{\r\n          gridColumn: `span ${props.data.duration}`,\r\n        }}>\r\n        <Tooltip\r\n          title={checkColors() === '#d50000' ? 'Subtask should be contained inside a main task' : ''}\r\n          arrow\r\n        >\r\n\r\n          <Header onClick={handleClick()}>\r\n            <div style={\r\n              {\r\n                width: props.data.completion,\r\n                height: '100%',\r\n                backgroundColor: 'black',\r\n                opacity: 0.2,\r\n              }\r\n            } />\r\n            <div style={\r\n              {\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                height: cellSize,\r\n                position: 'relative',\r\n                bottom: cellSize,\r\n                paddingLeft: '1rem',\r\n                paddingRight: '1rem'\r\n              }\r\n            }>\r\n              <Typography style=\r\n                {{\r\n                  color: '#fff',\r\n                  overflow: 'hidden',\r\n                  textOverflow: 'ellipsis'\r\n                }}>\r\n                {props.data.title}\r\n              </Typography>\r\n            </div>\r\n          </Header>\r\n        </Tooltip>\r\n        <Popper\r\n          open={open}\r\n          anchorEl={anchorEl}\r\n          placement=\"bottom-start\"\r\n          transition\r\n          style={{ zIndex: '11' }}\r\n        >\r\n          {({ TransitionProps }) => (\r\n            <Fade {...TransitionProps} timeout={350}>\r\n              <Paper>\r\n                <CalendarTaskPopper\r\n                  data={props.data}\r\n                  click={handleClick()}\r\n                />\r\n              </Paper>\r\n            </Fade>\r\n          )}\r\n        </Popper>\r\n      </TableTask >\r\n    </Grow>\r\n  )\r\n\r\n}\r\nexport { CalendarTask };\r\n\r\n","import { useTheme } from '@material-ui/core';\r\nimport React, { useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { customGetDate, dateDifference, datesBetween } from '../common/dateHelper';\r\nimport { selectCalendar, selectGridLines, selectTasks, selectToday } from '../tasksSlice';\r\nimport { CalendarMainTask } from './CalendarMainTask';\r\nimport { CalendarTask } from './CalendarTask';\r\nimport { cellSize, TableCell, TableRow, TableSectionTasks } from './tables';\r\n\r\nconst ContainerTasks = styled.div`\r\n// width: 90vw;\r\n// overflow-x: scroll;\r\n// padding-top: 9rem;\r\nheight: calc(100vh - ${cellSize} * 1.5 - ${cellSize} * ${props => props.headerCount});\r\noverflow: auto;\r\nwidth: max-content;\r\n\r\nborder: 1px solid ${props => props.color};\r\nscroll-behavior: smooth;\r\n-ms-overflow-style: none;  /* Internet Explorer 10+ */\r\nscrollbar-width: none;  /* Firefox */\r\n&::-webkit-scrollbar { \r\n  display: none;  /* Safari and Chrome */\r\n`\r\n\r\nconst CalendarTasks = () => {\r\n  const today = useSelector(selectToday)\r\n  const calendar = useSelector(selectCalendar)\r\n  const data = useSelector(selectTasks)\r\n  const gridLines = useSelector(selectGridLines)\r\n  const gtc = `repeat(${dateDifference(calendar.firstDay, calendar.lastDay) + 1}, ${cellSize})`\r\n  const theme = useTheme();\r\n  const headerCount = Object.values(calendar.headers).filter(val => val).length\r\n  const tasksRef = useRef(null)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ContainerTasks\r\n        color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n        ref={tasksRef}\r\n        headerCount={headerCount}\r\n      >\r\n        {\r\n          data.map((mainTask, index) => {\r\n            return (\r\n              <TableSectionTasks key={index}>\r\n                <TableRow\r\n                  gtc={gtc}\r\n                  className=\"maintask\">\r\n                  {\r\n                    datesBetween(calendar.firstDay, calendar.lastDay, [mainTask.startDate, mainTask.duration])\r\n                      .map((day, index) => {\r\n                        if (day === mainTask.startDate) {\r\n                          return (\r\n                            <CalendarMainTask\r\n                              key={index}\r\n                              data={mainTask}\r\n                            />\r\n                          )\r\n                        } else {\r\n                          return (\r\n                            <TableCell\r\n                              color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                              className={day === today ? 'today' : 'else'}\r\n                              id={`${mainTask.id}-${customGetDate(day)}`}\r\n                              key={index} />\r\n\r\n                          )\r\n                        }\r\n                      })}\r\n                </TableRow>\r\n                {\r\n                  mainTask.tasks\r\n                    .map((task, index) => {\r\n                      return (\r\n                        <TableRow\r\n                          gtc={gtc}\r\n                          key={index}\r\n                          className=\"task\">\r\n                          {\r\n                            datesBetween(calendar.firstDay, calendar.lastDay, [task.startDate, task.duration])\r\n                              .map((day, index) => {\r\n                                if (day === task.startDate) {\r\n                                  return (\r\n                                    <CalendarTask\r\n                                      mainTaskDates={{ start: mainTask.startDate, end: mainTask.endDate }}\r\n                                      key={index}\r\n                                      data={task}\r\n                                    />\r\n                                  )\r\n                                } else {\r\n                                  return (\r\n                                    <TableCell\r\n                                      color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                                      className={day === today ? 'today' : 'else'}\r\n                                      id={`${task.id}-${customGetDate(day)}`}\r\n                                      key={index} />\r\n                                  )\r\n                                }\r\n                              })}\r\n                        </TableRow>\r\n                      )\r\n                    })}\r\n              </TableSectionTasks>\r\n            )\r\n          })\r\n        }\r\n      </ContainerTasks>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { CalendarTasks };\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Checkbox, DialogActions, DialogContent, DialogTitle, FormControl, FormControlLabel, FormGroup, FormLabel, IconButton, Switch, Tooltip } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { selectCalendar, selectDarkMode, selectGridLines, setCalendar, setDarkMode, setGridLines } from '../tasksSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nfunction SwitchLabels() {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const darkMode = useSelector(selectDarkMode)\r\n  const gridLines = useSelector(selectGridLines)\r\n  const headers = useSelector(selectCalendar).headers\r\n\r\n  const handleChangeRedux = (event) => {\r\n    switch (event.target.name) {\r\n      case \"darkMode\":\r\n        dispatch(setDarkMode(event.target.checked));\r\n        break;\r\n      case \"gridLines\":\r\n        dispatch(setGridLines(event.target.checked));\r\n        break;\r\n      case \"year\":\r\n        dispatch(setCalendar({ 'headers': { ...headers, ...{ \"year\": event.target.checked } } }))\r\n        break;\r\n      case \"month\":\r\n        dispatch(setCalendar({ 'headers': { ...headers, ...{ \"month\": event.target.checked } } }))\r\n        break;\r\n      case \"shortDay\":\r\n        dispatch(setCalendar({ 'headers': { ...headers, ...{ \"shortDay\": event.target.checked } } }))\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.root}>\r\n        <FormControl component=\"fieldset\" className={classes.formControl}>\r\n          <FormLabel component=\"legend\">View</FormLabel>\r\n          <FormGroup>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={darkMode}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"darkMode\" />}\r\n              label=\"Dark mode\"\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={gridLines}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"gridLines\"\r\n                />\r\n              }\r\n              label=\"Grid lines\"\r\n            />\r\n          </FormGroup>\r\n        </FormControl>\r\n      </div>\r\n      <div className={classes.root}>\r\n        <FormControl component=\"fieldset\" className={classes.formControl}>\r\n\r\n          <FormLabel component=\"legend\">Calendar headers:</FormLabel>\r\n          <FormGroup>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={headers.year}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"year\" />}\r\n              label=\"Years\"\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={headers.month}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"month\" />}\r\n              label=\"Months\"\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={headers.shortDay}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"shortDay\" />}\r\n              label=\"Day names\"\r\n            />\r\n          </FormGroup>\r\n        </FormControl>\r\n      </div>\r\n    </div>);\r\n\r\n}\r\n\r\nconst OptionsDialog = (props) => {\r\n  return (\r\n    < React.Fragment >\r\n      <DialogTitle style={{ cursor: 'move' }} id={`draggable-dialog-${props.title}`}>\r\n        Options\r\n        </DialogTitle>\r\n      <DialogContent>\r\n        <SwitchLabels />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Tooltip title={'Close'}>\r\n          <IconButton\r\n            onClick={props.handleClose}\r\n            aria-label=\"close\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </DialogActions>\r\n    </ React.Fragment>\r\n  )\r\n\r\n}\r\n\r\nexport { OptionsDialog };\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import Snackbar from '@material-ui/core/Snackbar';\r\nimport React from 'react';\r\n\r\nconst SnackbarStatus = (props) => {\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n        open={props.open}\r\n        onClose={() => props.close(true)}\r\n        message={props.message}\r\n        key={props.id}\r\n        autoHideDuration={2000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { SnackbarStatus };\r\n","import { Backdrop, Box, Fab, makeStyles, Tooltip, Typography } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useFirstRender } from '../common/useFirstRender';\r\nimport { selectLastMessage, selectTasks } from '../tasksSlice';\r\nimport { AddTaskDialog } from './AddTaskDialog';\r\nimport { DraggableDialog } from './DraggableDialog';\r\nimport { OptionsDialog } from './OptionsDialog';\r\nimport { SnackbarStatus } from './SnackbarStatus';\r\nimport { now } from '../common/dateHelper';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin2: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(7),\r\n    right: theme.spacing(7),\r\n  },\r\n  margin1: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(7),\r\n    right: theme.spacing(17),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n  centralContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  central: {\r\n    width: '5rem',\r\n    height: '5rem',\r\n    margin: theme.spacing(3)\r\n  }\r\n\r\n}));\r\n\r\nconst FABs = () => {\r\n  const classes = useStyles();\r\n  const tasks = useSelector(selectTasks)\r\n  const message = useSelector(selectLastMessage)\r\n  const isFirstRender = useFirstRender()\r\n\r\n  const [openOptions, setOpenOptions] = useState(false);\r\n  const [openAdd, setOpenAdd] = useState(false);\r\n  const [openBackdrop, setOpenBackdrop] = useState(false);\r\n  const [openSnackbar, setOpenSnackbar] = useState(false)\r\n  const [options, add, backdrop, snackbar] = ['options', 'add', 'backdrop', 'snackbar']\r\n\r\n  useEffect(() => {\r\n    if (tasks.length === 0) {\r\n      handleOpen(backdrop)\r\n    } else {\r\n      handleClose(backdrop)\r\n    }\r\n  },\r\n    [tasks.length, backdrop])\r\n\r\n  useEffect(() => {\r\n    if (isFirstRender) {\r\n      // intentional empty block\r\n    } else {\r\n      handleOpen(snackbar)\r\n    }\r\n  }, [message, snackbar])\r\n\r\n\r\n  const handleOpen = (type) => {\r\n    switch (type) {\r\n      case 'options':\r\n        setOpenOptions(true)\r\n        break;\r\n      case 'add':\r\n        setOpenAdd(true)\r\n        break;\r\n      case 'backdrop':\r\n        setOpenBackdrop(true)\r\n        break;\r\n      case 'snackbar':\r\n        setOpenSnackbar(true)\r\n        break;\r\n      default:\r\n        console.warn('Broken dialog opening')\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleClose = (type) => {\r\n    switch (type) {\r\n      case 'options':\r\n        setOpenOptions(false)\r\n        break;\r\n      case 'add':\r\n        setOpenAdd(false)\r\n        break;\r\n      case 'backdrop':\r\n        setOpenBackdrop(false)\r\n        break;\r\n      case 'snackbar':\r\n        setOpenSnackbar(false)\r\n        break;\r\n      default:\r\n        console.warn('Broken dialog closing')\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Tooltip title={'Options'}>\r\n        <Fab\r\n          className={classes.margin1}\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n          aria-label=\"options\"\r\n          onClick={() => handleOpen(options)}\r\n        >\r\n          <SettingsIcon />\r\n        </Fab>\r\n      </Tooltip>\r\n      <Tooltip title={'Add task'}>\r\n        <Fab\r\n          className={classes.margin2}\r\n          color=\"primary\"\r\n          aria-label=\"add\"\r\n          onClick={() => handleOpen(add)}\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      </Tooltip>\r\n      <DraggableDialog\r\n        open={openOptions}\r\n        name={options}\r\n        handleClose={() => handleClose(options)}\r\n      >\r\n        <OptionsDialog\r\n          name={options}\r\n          handleClose={() => handleClose(options)}\r\n        />\r\n      </DraggableDialog>\r\n      <DraggableDialog\r\n        open={openAdd}\r\n        name={add}\r\n      // handleClose={() => handleClose(add)}    i dont want to accidently close during adding\r\n      >\r\n        <AddTaskDialog\r\n          name={add}\r\n          handleClose={() => handleClose(add)}\r\n        />\r\n      </DraggableDialog>\r\n      <Backdrop\r\n        className={classes.backdrop}\r\n        open={openBackdrop}\r\n      >\r\n        <Box\r\n          className={classes.centralContainer}\r\n        >\r\n          <Typography\r\n            variant=\"h3\"\r\n          >\r\n            Add first task\r\n            </Typography>\r\n          <Fab\r\n            className={classes.central}\r\n            color=\"primary\"\r\n            aria-label=\"add\"\r\n            onClick={() => handleOpen(add)}\r\n          >\r\n            <AddIcon\r\n              style={{ width: '2.5rem', height: '2.5rem' }}\r\n            />\r\n          </Fab>\r\n        </Box>\r\n      </Backdrop >\r\n      <SnackbarStatus\r\n        message={message}\r\n        open={openSnackbar}\r\n        close={() => handleClose(snackbar)}\r\n        id={`${now()}-snackbar`}\r\n      />\r\n    </Box >\r\n  )\r\n}\r\nexport { FABs };\r\n\r\n","import { useRef, useEffect } from 'react';\r\n\r\nconst useFirstRender = () => {\r\n  const firstRender = useRef(true);\r\n  useEffect(() => {\r\n    firstRender.current = false;\r\n  }, []);\r\n  return firstRender.current;\r\n};\r\n\r\nexport { useFirstRender }","import React, { useEffect } from 'react'\r\nimport { CalendarHeader } from './CalendarHeader'\r\nimport { CalendarSidebar } from './CalendarSidebar'\r\nimport { CalendarTasks } from './CalendarTasks'\r\nimport { FABs } from '../dialogs/FABs'\r\n\r\nconst Calendar = () => {\r\n  useEffect(() => {\r\n    document.getElementsByClassName('today')[0].scrollIntoView({\r\n      behavior: 'smooth',\r\n      alignTo: false,\r\n      inline: 'center',\r\n    })\r\n  }, [])\r\n  return (\r\n    <React.Fragment>\r\n      <CalendarSidebar>\r\n        <CalendarHeader />\r\n        <CalendarTasks />\r\n      </CalendarSidebar>\r\n      <FABs />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { Calendar }\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { saveConsent, checkConsent } from '../common/localStorage';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setMessage } from '../tasksSlice';\r\n\r\nexport default function AlertDialog() {\r\n  const storageConsent = checkConsent()\r\n  const [open, setOpen] = React.useState(true);\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (storageConsent) {\r\n      setOpen(false)\r\n    }\r\n  }, [storageConsent])\r\n\r\n  const handleClose = (decision) => {\r\n    if (decision) {\r\n      saveConsent(decision)\r\n      dispatch(setMessage('LocalStorage enabled'))\r\n    }\r\n    setOpen(false)\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      // aria-labelledby=\"localStorage use consent\"\r\n      // aria-describedby=\"alert asking if you want to enable localStorage\"\r\n      >\r\n        <DialogTitle>{\"Do you want to enable localStorage?\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            localStorage is a type of web storage that allows JavaScript sites and apps to store and access data right in the browser with no expiration date. This means the data stored in the browser will persist even after the browser window has been closed.\r\n            If you do not want this page to save data on your computer, press decline.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => handleClose(false)}\r\n            color=\"secondary\">\r\n            Decline\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => handleClose(true)}\r\n            color=\"primary\"\r\n            autoFocus>\r\n            Agree\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div >\r\n  );\r\n}","import React from 'react';\r\nimport { Calendar } from './calendar/Calendar';\r\nimport AlertDialog from './dialogs/AlertDialog';\r\n\r\nconst Tasks = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <AlertDialog />\r\n      <Calendar />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { Tasks }","import { CssBaseline, ThemeProvider, useMediaQuery } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './App.css';\r\nimport { checkConsent } from './features/tasks/common/localStorage';\r\nimport { Tasks } from './features/tasks/Tasks';\r\nimport { selectDarkMode, setDarkMode, selectToday, setToday } from './features/tasks/tasksSlice';\r\nimport { Theme } from './Theme';\r\nimport { today } from './features/tasks/common/dateHelper';\r\n\r\n\r\n\r\nfunction App() {\r\n  const darkMode = useSelector(selectDarkMode)\r\n  const dispatch = useDispatch();\r\n  const primaryColor = '#e91e63'\r\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');   // check prefered user mode \r\n  const theme = Theme(darkMode, primaryColor);\r\n  const cookies = checkConsent()\r\n  const dayToday = today()\r\n  const savedToday = useSelector(selectToday)\r\n\r\n  useEffect(() => {\r\n    if (typeof (cookies) === 'undefined') {\r\n      dispatch(setDarkMode(prefersDarkMode))\r\n    }\r\n  }, [prefersDarkMode, dispatch, cookies])\r\n\r\n  useEffect(() => {\r\n    if (dayToday !== savedToday) {\r\n      dispatch(setToday(dayToday))\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Tasks />\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createMuiTheme } from \"@material-ui/core\"\r\nimport { useMemo } from \"react\"\r\n\r\nconst Theme = (darkMode, primaryColor) => {\r\n\r\n  return useMemo(\r\n    () =>\r\n      createMuiTheme({\r\n        palette: {\r\n          type: darkMode ? 'dark' : 'light',\r\n          primary: {\r\n            main: primaryColor, //'#e91e63'\r\n          },\r\n          secondary: {\r\n            main: '#2962ff',\r\n          },\r\n          tonalOffset: 0.2,\r\n\r\n        },\r\n      }), [darkMode, primaryColor],\r\n  );\r\n}\r\n\r\nexport { Theme }\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport tasksReducer from '../features/tasks/tasksSlice'\r\nimport { loadLocalStorage, saveLocalStorage, checkConsent } from '../features/tasks/common/localStorage';\r\n\r\nconst persistedState = loadLocalStorage();\r\nconst store = configureStore({\r\n  reducer: {\r\n    tasks: tasksReducer,\r\n  },\r\n  preloadedState: {\r\n    tasks: persistedState,\r\n  }\r\n});\r\n\r\nstore.subscribe(() => {\r\n  if (checkConsent() === true) {\r\n    saveLocalStorage(store.getState().tasks)\r\n  }\r\n})\r\n\r\nexport default store","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { CssBaseline } from '@material-ui/core';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <CssBaseline />\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}