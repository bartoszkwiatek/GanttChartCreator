{"version":3,"sources":["features/tasks/common/localStorage.js","features/tasks/common/dateHelper.js","features/tasks/tasksSlice.js","features/tasks/common/swapPositions.js","features/tasks/calendar/tables.js","features/tasks/common/convertHex.js","features/tasks/calendar/CalendarHeader.js","features/tasks/calendar/SidebarTasksNestedList.js","features/tasks/calendar/SidebarTasksList.js","features/tasks/calendar/CalendarSidebar.js","features/tasks/common/colors.js","features/tasks/dialogs/ColorPicker.js","features/tasks/dialogs/DatePicker.js","features/tasks/dialogs/MainAndParentOptions.js","features/tasks/dialogs/SelectWithAdd.js","features/tasks/dialogs/AddTaskForm.js","features/tasks/dialogs/AddTaskDialog.js","features/tasks/dialogs/DeleteDialog.js","features/tasks/dialogs/DraggableDialog.js","features/tasks/calendar/LetterAvatar.js","features/tasks/calendar/TaskCompletionIndicator.js","features/tasks/calendar/CalendarTaskPopper.js","features/tasks/calendar/CalendarMainTask.js","features/tasks/calendar/CalendarTask.js","features/tasks/calendar/CalendarTasks.js","features/tasks/dialogs/OptionsDialog.js","features/tasks/dialogs/SnackbarStatus.js","features/tasks/dialogs/FABs.js","features/tasks/common/useFirstRender.js","features/tasks/calendar/Calendar.js","features/tasks/dialogs/AlertDialog.js","features/tasks/Tasks.js","App.js","Theme.js","app/store.js","serviceWorker.js","index.js"],"names":["checkConsent","serializedState","localStorage","getItem","JSON","parse","err","today","day","Date","toDateString","console","log","addDays","baseDate","howManyDays","dateString","dateMS","alteredDate","Math","floor","alteredDateString","customGetDate","selector","date","getDate","getDay","getMonth","getFullYear","toLocaleDateString","undefined","year","month","dateDifference","firstDate","secondDate","datesBetween","skip","difference","dates","warn","index","push","splice","indexOf","map","toString","countOccurrences","firstDay","lastDay","Set","selected","title","count","filter","check","length","tasksSlice","createSlice","name","initialState","view","darkMode","gridLines","custom","categories","people","calendar","headers","shortDay","data","lastMessage","reducers","setDarkMode","state","action","payload","setGridLines","setCustom","setToday","setCalendar","addCategory","Array","from","addPerson","addEditMainTask","mainTaskIndex","findIndex","mainTask","id","addEditTask","targetParentIndex","target","taskIndex","tasks","task","deleteTask","filteredArray","parent","setCompletion","completion","setMessage","reorderTasks","tasksToReorder","array","a","b","swapPositions","actions","setScrollPosition","setMaxScrollPosition","selectDarkMode","selectGridLines","selectCustom","selectTasks","selectToday","selectCalendar","selectLastMessage","styled","div","TableSection","TableSectionTasks","TableRow","props","gtc","TableHeaderCell","color","headersCount","TableCell","TableTask","hex","result","exec","parseInt","convertHex","HeaderContainer","CalendarHeader","useSelector","dispatch","useDispatch","theme","useTheme","monthCount","yearsCount","Object","values","val","useEffect","showYears","palette","divider","className","key","style","gridColumn","Typography","variant","display","justifyContent","alignItems","useStyles","makeStyles","root","width","backgroundColor","background","paper","minHeight","nested","paddingLeft","spacing","height","textOverflow","SidebarTasksNestedList","classes","useState","startOpen","open","setOpen","handleReorder","direction","List","padding","paddingBottom","wordBreak","component","aria-labelledby","ListItem","button","onClick","ListItemText","primary","Collapse","in","timeout","unmountOnExit","disablePadding","flexDirection","IconButton","size","marginBottom","document","getElementById","scrollIntoView","behavior","alignTo","ListItemSecondaryAction","secondary","SidebarTasksList","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","content","flexGrow","overflowX","overflowY","paddingTop","contentShift","cellSize","dense","rootAppBar","zIndex","CalendarSidebar","AppBar","position","clsx","Toolbar","aria-label","edge","noWrap","Drawer","anchor","Divider","text","borderBottom","align","children","colors","select","ColorPicker","FormControl","Select","value","onChange","autoWidth","displayEmpty","MenuItem","disabled","entries","colorName","colorValue","ListItemIcon","fontSize","DatePicker","utils","DateFnsUtils","fullWidth","format","margin","label","startDate","KeyboardButtonProps","MainAndParentOptions","list","forEach","FormGroup","FormControlLabel","control","Checkbox","checked","e","SelectWithAdd","createFilterOptions","Autocomplete","event","newValue","inputValue","filterOptions","options","params","filtered","selectOnFocus","clearOnBlur","handleHomeEndKeys","getOptionLabel","option","renderOption","freeSolo","renderInput","TextField","form","gridTemplateColumns","columnGap","breakpoints","down","formControl","AddTaskForm","category","person","responsible","initialData","description","setData","handleChangeData","sendData","dataValidation","inputData","valid","noValidate","autoComplete","onBlur","inputProps","maxLength","multiline","rows","Number","type","min","step","InputLabelProps","shrink","AddTaskDialog","validData","setValidData","handleClose","Fragment","DialogTitle","cursor","DialogContent","formData","isDataValid","DialogActions","Tooltip","Button","random","endDate","objectToSave","message","leftBoundaryDate","rightBoundaryDate","max","startIcon","keys","DeleteDialog","DialogContentText","autoFocus","PaperComponent","handle","cancel","Paper","DraggableDialog","fullScreen","useMediaQuery","Dialog","onClose","PaperProps","orange","getContrastText","deepOrange","purple","deepPurple","LetterAvatar","Avatar","charAt","TaskCompletionIndicator","slice","setValue","edit","setEdit","roundedValue","round","disableRipple","completionValue","InputProps","endAdornment","InputAdornment","maxHeight","CalendarTaskPopper","openEdit","setOpenEdit","openDelete","setOpenDelete","handleCloseEdit","handleCloseDelete","Container","disableGutters","maxWidth","Card","CardHeader","subheader","CardContent","CardActions","click","CalendarMainTask","anchorEl","setAnchorEl","handleClick","currentTarget","bottom","paddingRight","overflow","Popper","placement","TransitionProps","Fade","Header","CalendarTask","checkColors","mainTaskDates","start","end","Grow","transformOrigin","arrow","opacity","ContainerTasks","headerCount","CalendarTasks","tasksRef","useRef","ref","SwitchLabels","handleChangeRedux","FormLabel","Switch","OptionsDialog","SnackbarStatus","Snackbar","anchorOrigin","vertical","horizontal","close","autoHideDuration","margin2","right","margin1","backdrop","centralContainer","central","FABs","isFirstRender","firstRender","current","useFirstRender","openOptions","setOpenOptions","openAdd","setOpenAdd","openBackdrop","setOpenBackdrop","openSnackbar","setOpenSnackbar","handleOpen","Box","Fab","Backdrop","Calendar","AlertDialog","storageConsent","React","decision","stringify","setItem","saveConsent","Tasks","App","prefersDarkMode","primaryColor","useMemo","createMuiTheme","main","tonalOffset","Theme","cookies","dayToday","savedToday","ThemeProvider","CssBaseline","persistedState","loadLocalStorage","store","configureStore","reducer","tasksReducer","preloadedState","subscribe","saveLocalStorage","getState","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"8RA8BMA,G,OAAe,WACnB,IACE,IAAMC,EAAkBC,aAAaC,QAAQ,WAC7C,GAAwB,OAApBF,EACF,OAEF,OAAOG,KAAKC,MAAMJ,GAClB,MAAOK,GACP,U,iDCjCEC,EAAQ,WACZ,IAAMC,GAAM,IAAIC,MAAOC,eACjBH,EAAQE,KAAKJ,MAAMG,GAEzB,OADAG,QAAQC,IAAIL,GACLA,GAGHM,EAAU,SAACC,GAA+B,IAArBC,EAAoB,uDAAN,EACjCC,EAAa,IAAIP,KAAKK,GAAUJ,eAChCO,EAASR,KAAKJ,MAAMW,GACpBE,EAAcD,EAAS,MAAWE,KAAKC,MAAML,GAC7CM,EAAoB,IAAIZ,KAAKS,GAAaR,eAChD,OAAOD,KAAKJ,MAAMgB,IAIdC,EAAgB,SAACR,EAAUS,GAC/B,IAAMC,EAAO,IAAIf,KAAKK,GAyCtB,OAAQS,GACN,IAAK,MACH,OAAOC,EAAKC,UACd,IAAK,kBACH,MA5CS,CACX,SACA,SACA,UACA,YACA,WACA,SACA,YAqCcD,EAAKE,UACnB,IAAK,uBACH,MArCa,CAAC,OAAQ,OAAQ,QAAS,OAAQ,QAAS,OAAQ,QAqChDF,EAAKE,UACvB,IAAK,QACH,MAtCW,CACb,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YA0BgBF,EAAKG,YACrB,IAAK,aACH,MA1Be,CACjB,OACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,QAcoBH,EAAKG,YACzB,IAAK,OACH,OAAOH,EAAKI,cACd,QACE,OAAOJ,EAAKK,wBAAmBC,EAhBnB,CAAEC,KAAM,UAAWC,MAAO,UAAWxB,IAAK,cAqBtDyB,EAAiB,SAACC,EAAWC,GAEjC,OADmBhB,KAAKC,OAAOe,EAAaD,GAAa,QAUrDE,EAAe,SAACF,EAAWC,GAA6B,IAAjBE,EAAgB,uDAAT,KAC5CC,EAAaL,EAAeC,EAAWC,GAEzCI,EAAQ,GAEZ,GAAID,EAAa,EAEf,OADA3B,QAAQ6B,KAAK,eACN,CAAC,SAER,IAAK,IAAIC,EAAQ,EAAGA,GAASH,EAAYG,IACvCF,EAAMG,KAAK7B,EAAQqB,EAAWO,IASlC,OALa,OAATJ,GACFE,EAAMI,OAAOJ,EAAMK,QAAQP,EAAK,IAAM,EAAGA,EAAK,GAAK,GAErD1B,QAAQC,IAAI2B,GACZ5B,QAAQC,IAAI2B,EAAMM,KAAI,SAACrB,GAAD,OAAU,IAAIf,KAAKe,GAAMsB,eACxCP,GAMHQ,EAAmB,SAACC,EAAUC,EAAS1B,GAC3C,IAAMgB,EAAQH,EAAaY,EAAUC,GAASJ,KAAI,SAACrC,GAAD,OAChDc,EAAcd,EAAKe,MAQrB,OANsB,YAAI,IAAI2B,IAAIX,IAAQM,KAAI,SAACM,GAC7C,MAAO,CACLC,MAAOD,EACPE,MAAOd,EAAMe,QAAO,SAACC,GAAD,OAAWA,IAAUJ,KAAUK,Y,QCzHnDC,EAAaC,YAAY,CAC7BC,KAAM,QACNC,aAAc,CACZC,KAAM,CACJC,SAAU,KACVC,WAAW,GAEbC,OAAQ,CACNC,WAAY,CAAC,UAAW,WAAY,UAAW,KAAM,KAAM,SAC3DC,OAAQ,CAAC,KAAM,SAAU,YAAa,2BAAQ,KAAM,aAEtDC,SAAU,CACR5D,MAAOA,IACPyC,SAAUnC,EAAQN,KAAU,IAC5B0C,QAASpC,EAAQN,IAAS,IAC1B6D,QAAS,CACPrC,KAAM,KACNC,OAAO,EACPqC,UAAU,EACV7D,KAAK,IAGT8D,KAAM,GACNC,YAAa,sBAEfC,SAAU,CACRC,YAAa,SAACC,EAAOC,GACnBD,EAAMb,KAAKC,SAAWa,EAAOC,SAG/BC,aAAc,SAACH,EAAOC,GACpBD,EAAMb,KAAKE,UAAYY,EAAOC,SAGhCE,UAAW,SAACJ,EAAOC,GACjBD,EAAMV,OAAN,2BAAoBU,EAAMV,QAAWW,EAAOC,UAG9CG,SAAU,SAACL,EAAOC,GAChBD,EAAMP,SAAS5D,MAAQoE,EAAOC,SAGhCI,YAAa,SAACN,EAAOC,GACnBD,EAAMP,SAAN,2BAAsBO,EAAMP,UAAaQ,EAAOC,UAGlDK,YAAa,SAACP,EAAOC,GACnBD,EAAMV,OAAOC,WAAWvB,KAAKiC,EAAOC,SACpCF,EAAMV,OAAOC,WAAaiB,MAAMC,KAAK,IAAIjC,IAAIwB,EAAMV,OAAOC,cAG5DmB,UAAW,SAACV,EAAOC,GACjBD,EAAMV,OAAOE,OAAOxB,KAAKiC,EAAOC,SAChCF,EAAMV,OAAOE,OAASgB,MAAMC,KAAK,IAAIjC,IAAIwB,EAAMV,OAAOE,UAGxDmB,gBAAiB,SAACX,EAAOC,GACvB,IAAMW,EAAgBZ,EAAMJ,KAAKiB,WAC/B,SAACC,GAAD,OAAcA,EAASC,KAAOd,EAAOC,QAAQa,OAGxB,IAAnBH,EACFZ,EAAMJ,KAAK5B,KAAKiC,EAAOC,SAEvBF,EAAMJ,KAAKgB,GAAiBX,EAAOC,SAIvCc,YAAa,SAAChB,EAAOC,GACnB,IAAMgB,EAAoBjB,EAAMJ,KAAKiB,WACnC,SAACC,GAAD,OAAcA,EAASC,KAAOd,EAAOC,QAAQgB,UAGzCC,EAAYnB,EAAMJ,KAAKqB,GAAmBG,MAAMP,WACpD,SAACQ,GAAD,OAAUA,EAAKN,KAAOd,EAAOC,QAAQN,KAAKmB,OAEzB,IAAfI,EACFnB,EAAMJ,KAAKqB,GAAmBG,MAAMpD,KAAKiC,EAAOC,QAAQN,MAExDI,EAAMJ,KAAKqB,GAAmBG,MAAMD,GAAalB,EAAOC,QAAQN,MAIpE0B,WAAY,SAACtB,EAAOC,GAClB,GAAIA,EAAOC,QAAQY,SAAU,CAC3B,IAAMS,EAAgBvB,EAAMJ,KAAKhB,QAC/B,SAACkC,GAAD,OAAcA,EAASC,KAAOd,EAAOC,QAAQa,MAE/Cf,EAAMJ,KAAO2B,MACR,CACL,IAAMN,EAAoBjB,EAAMJ,KAAKiB,WACnC,SAACC,GAAD,OAAcA,EAASC,KAAOd,EAAOC,QAAQsB,UAEzCD,EAAgBvB,EAAMJ,KAAKqB,GAAmBG,MAAMxC,QACxD,SAACyC,GAAD,OAAUA,EAAKN,KAAOd,EAAOC,QAAQa,MAEvCf,EAAMJ,KAAKqB,GAAmBG,MAAQG,IAI1CE,cAAe,SAACzB,EAAOC,GACrB,IAAMgB,EAAoBjB,EAAMJ,KAAKiB,WACnC,SAACC,GAAD,OAAcA,EAASC,KAAOd,EAAOC,QAAQN,KAAK4B,UAG9CL,EAAYnB,EAAMJ,KAAKqB,GAAmBG,MAAMP,WACpD,SAACQ,GAAD,OAAUA,EAAKN,KAAOd,EAAOC,QAAQN,KAAKmB,OAEzB,IAAfI,EACFlF,QAAQ6B,KAAK,SAEbkC,EAAMJ,KAAKqB,GAAmBG,MAAMD,GAAWO,WAC7CzB,EAAOC,QAAQwB,YAIrBC,WAAY,SAAC3B,EAAOC,GAClBD,EAAMH,YAAcI,EAAOC,SAG7B0B,aAAc,SAAC5B,EAAOC,GACpB,IAAMgB,EAAoBjB,EAAMJ,KAAKiB,WACnC,SAACC,GAAD,OAAcA,EAASC,KAAOd,EAAOC,QAAQN,KAAK4B,UAE9CL,EAAYnB,EAAMJ,KAAKqB,GAAmBG,MAAMP,WACpD,SAACQ,GAAD,OAAUA,EAAKN,KAAOd,EAAOC,QAAQN,KAAKmB,MAEtCc,EAAiB7B,EAAMJ,KAAKqB,GAAmBG,OAClC,IAAfD,EACFlF,QAAQ6B,KAAK,WCrIC,SAACgE,EAAOC,EAAGC,GAAO,IAAD,EACd,CAACF,EAAME,GAAIF,EAAMC,IAAvCD,EAAMC,GAD8B,KAC1BD,EAAME,GADoB,KDuI/BC,CACEJ,EACAV,EACAA,EAAYlB,EAAOC,QAAQgB,QAE7BlB,EAAMJ,KAAKqB,GAAmBG,MAAQS,O,EAsB1C9C,EAAWmD,QAfbnC,E,EAAAA,YACAI,E,EAAAA,aAIAI,G,EAHAH,U,EACA+B,kB,EACAC,qB,EACA7B,aACAG,E,EAAAA,UACAC,E,EAAAA,gBACAK,E,EAAAA,YACAX,E,EAAAA,SACAC,E,EAAAA,YACAgB,E,EAAAA,WACAG,E,EAAAA,cACAE,E,EAAAA,WACAC,E,EAAAA,aAGIS,EAAiB,SAACrC,GAAD,OAAWA,EAAMoB,MAAMjC,KAAKC,UAC7CkD,EAAkB,SAACtC,GAAD,OAAWA,EAAMoB,MAAMjC,KAAKE,WAC9CkD,EAAe,SAACvC,GAAD,OAAWA,EAAMoB,MAAM9B,QAItCkD,EAAc,SAACxC,GAAD,OAAWA,EAAMoB,MAAMxB,MACrC6C,EAAc,SAACzC,GAAD,OAAWA,EAAMoB,MAAM3B,SAAS5D,OAC9C6G,EAAiB,SAAC1C,GAAD,OAAWA,EAAMoB,MAAM3B,UACxCkD,EAAoB,SAAC3C,GAAD,OAAWA,EAAMoB,MAAMvB,aA6BlCd,IAAf,Q,+gDEpMc6D,IAAOC,IAAV,KAHX,IAQMC,GAAeF,IAAOC,IAAV,IARD,OACD,OAaVE,GAAoBH,YAAOE,GAAPF,CAAH,IAdN,QAkBXI,GAAWJ,IAAOC,IAAV,KAEe,SAAAI,GAAK,OAAIA,EAAMC,MApB3B,OACD,OAwBVC,GAAkBP,IAAOC,IAAV,KAKG,SAAAI,GAAK,OAAIA,EAAMG,SAI1B,SAAAH,GAAK,OAAIA,EAAMlC,KAlCX,QAqC0B,SAAAkC,GAAK,OAAIA,EAAMI,eArCzC,eA8CXC,GAAYV,IAAOC,IAAV,KAQS,SAAAI,GAAK,OAAIA,EAAMG,SAGjCG,GAAYX,IAAOC,IAAV,KACO,SAAAI,GAAK,OAAIA,EAAMG,SAGZ,SAAAH,GAAK,OChEX,SAACO,GAClB,IAAIC,EAAS,4CAA4CC,KAAKF,GAC9D,OAAOC,EAAM,eAAWE,SAASF,EAAO,GAAI,IAA/B,YAAsCE,SAASF,EAAO,GAAI,IAA1D,YAAiEE,SAASF,EAAO,GAAI,IAArF,SAAkG,KD8D/EG,CAAWX,EAAMG,U,kXErDnD,IAAMS,GAAkBjB,IAAOC,IAAV,MAIC,SAAAI,GAAK,OAAIA,EAAMG,SAS/BU,GAAiB,WACrB,IAAMjI,EAAQkI,YAAYtB,GACpBhD,EAAWsE,YAAYrB,GACvBsB,EAAWC,cAEXC,EAAQC,cACRzE,EAAUD,EAASC,QACnB0E,EAAa/F,EAAiBoB,EAASnB,SAAUmB,EAASlB,QAAS,SACnE8F,EAAahG,EAAiBoB,EAASnB,SAAUmB,EAASlB,QAAS,QACnE2E,EAAG,iBAAa3F,EAAekC,EAASnB,SAAUmB,EAASlB,SAAW,EAAnE,aF9BM,OE8BN,KACH8E,EAAeiB,OAAOC,OAAO7E,GAASd,QAAO,SAAA4F,GAAG,OAAIA,KAAK1F,OAQ/D,OAPA2F,qBAAU,WACR,GAAqB,OAAjB/E,EAAQrC,KAAe,CACzB,IAAMqH,EAAmC,IAAtBL,EAAWvF,OAC9BkF,EAAS1D,EAAY,CAAE,QAAU,2BAAMZ,GAAY,CAAE,KAAQgF,WAK/D,kBAACb,GAAD,CACET,MAAOc,EAAMS,QAAQC,SAErB,kBAAC9B,GAAD,KACIpD,EAAQrC,MACR,kBAAC2F,GAAD,CACEE,IAAKA,EACL2B,UAAU,SACTR,EAAWlG,KAAI,SAACd,EAAMU,GACrB,OACE,kBAACoF,GAAD,CACEC,MAAOc,EAAMS,QAAQC,QACrBE,IAAK/G,EACLgH,MAAO,CACLC,WAAW,QAAD,OAAU3H,EAAKsB,OACzByE,MAAO,SAGT,kBAAC6B,EAAA,EAAD,CAAYC,QAAQ,MACjB7H,EAAKqB,YAQhBgB,EAAQpC,OACR,kBAAC0F,GAAD,CACEE,IAAKA,EACL2B,UAAU,UAETT,EAAWjG,KAAI,SAACb,EAAOS,GACtB,OACE,kBAACoF,GAAD,CACEC,MAAmBc,EAAMS,QAAQC,QACjCE,IAAK/G,EACLgH,MAAO,CACLI,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZL,WAAW,QAAD,OAAU1H,EAAMqB,OAC1ByE,MAAO,SAGT,kBAAC6B,EAAA,EAAD,CAAYC,QAAQ,MACjB5H,EAAMoB,YASjBgB,EAAQC,UACR,kBAACqD,GAAD,CACEE,IAAKA,EACL2B,UAAU,aACVE,MAAO,CACL3B,MAAO,SAGR1F,EAAa+B,EAASnB,SAAUmB,EAASlB,SAASJ,KAAI,SAACrC,EAAKiC,GAC3D,OACE,kBAACoF,GAAD,CACEC,MAAmBc,EAAMS,QAAQC,QACjCC,UAAW/I,IAAQD,EAAQ,QAAU,OACrCiJ,IAAK/G,EACLgH,MAAO,CACL3B,MAAO,SAGT,kBAAC6B,EAAA,EAAD,KACGrI,EAAcd,EAAK,8BAOhC,kBAACkH,GAAD,CACEE,IAAKA,EACL2B,UAAU,QAETnH,EAAa+B,EAASnB,SAAUmB,EAASlB,SAASJ,KAAI,SAACrC,EAAKiC,GAC3D,OACE,kBAACoF,GAAD,CACEC,MAAmBc,EAAMS,QAAQC,QACjCC,UAAW/I,IAAQD,EAAQ,QAAU,OACrCkF,GAAInE,EAAcd,GAClBuH,aAAcA,EACdyB,IAAK/G,EACLgH,MAAO,CACL3B,MAAO,SAGT,kBAAC6B,EAAA,EAAD,KACGrI,EAAcd,EAAK,gB,2RC5HhCwJ,GAAYC,cAAW,SAACrB,GAAD,MAAY,CACvCsB,KAAM,CACJC,MAAO,OAEPC,gBAAiBxB,EAAMS,QAAQgB,WAAWC,MAC1CC,UHnBa,QGqBfC,OAAQ,CACNC,YAAa7B,EAAM8B,QAAQ,GAC3BC,OHvBa,OGwBbC,aAAc,gBAIZC,GAAyB,SAAClD,GAC9B,IAAMmD,EAAUd,KACVtB,EAAWC,cAFuB,EAGhBoC,mBAASpD,EAAMqD,WAHC,oBAGjCC,EAHiC,KAG3BC,EAH2B,KASlCC,EAAgB,SAAC7G,EAAM8G,GAC3B,OAAQA,GACN,IAAK,KACH1C,EAASpC,EAAa,CAAEhC,KAAMA,EAAMsB,QAAS,KAC7C,MACF,IAAK,OACH8C,EAASpC,EAAa,CAAEhC,KAAMA,EAAMsB,OAAQ,KAC5C,MACF,QACEjF,QAAQ6B,KAAK,6BAUnB,OACE,kBAAC6I,GAAA,EAAD,CAEE5B,MAAO,CACL6B,QAAS,EACTC,cAAe,OACfC,UAAW,cAEbC,UAAU,MACVC,kBAAgB,YAChBnC,UAAS,UAAKuB,EAAQZ,KAAb,WAET,kBAACyB,GAAA,EAAD,CACEC,QAAM,EACNC,QArCc,WAClBX,GAASD,KAsCL,kBAACa,GAAA,EAAD,CACEC,QAASpE,EAAMvE,OAASuE,EAAMrD,KAAKlB,QAEpC6H,EAAO,kBAAC,KAAD,MAAiB,kBAAC,KAAD,OAE3B,kBAACe,GAAA,EAAD,CACEC,GAAIhB,EACJiB,QAAQ,OACRC,eAAa,GACb,kBAACd,GAAA,EAAD,CACEI,UAAU,MACVW,gBAAc,GACbzE,EAAMrD,KAAKwB,MAAMjD,KAAI,SAACkD,EAAMtD,GAC3B,OACE,kBAACkJ,GAAA,EAAD,CACEnC,IAAK/G,EACL8G,UAAWuB,EAAQN,QAEnB,yBAAKf,MAAO,CAAEI,QAAS,OAAQwC,cAAe,WAEjC,IAAV5J,GACC,kBAAC6J,GAAA,EAAD,CACET,QAAS,kBAAMV,EAAcpF,EAAM,OACnCwG,KAAK,QACL9C,MAAO,CAAE+C,aAAc,UACvB,kBAAC,KAAD,OAGH/J,IAAUkF,EAAMrD,KAAKwB,MAAMtC,OAAS,GAEnC,kBAAC8I,GAAA,EAAD,CACET,QAAS,kBAAMV,EAAcpF,EAAM,SACnCwG,KAAK,SACL,kBAAC,KAAD,QAIN,kBAACZ,GAAA,EAAD,CACEE,QAAS,kBA3DPpG,EA2DsBM,EAAKN,QA1D3CgH,SAASC,eAAT,eAAgCjH,IAAMkH,eAAe,CAAEC,SAAU,SAAUC,SAAS,IADrE,IAACpH,GA4DFmG,QAAM,GACN,kBAACE,GAAA,EAAD,CAAcC,QAAShG,EAAK3C,SAE9B,kBAAC0J,GAAA,EAAD,KACE,kBAAChB,GAAA,EAAD,CAAciB,UAAWhH,EAAKK,sBC/G1C4G,GAAmB,WACvB,IAAM1I,EAAOmE,YAAYvB,GAEzB,OACE,kBAACmE,GAAA,EAAD,CAAM5B,MAAO,CAAE6B,QAAS,IACrBhH,EAAKzB,KAAI,SAAC2C,EAAU/C,GACnB,OACE,kBAAE,GAAF,CACE+G,IAAK/G,EACL6B,KAAMkB,EACNwF,WAAW,SCJjBhB,GAAYC,cAAW,SAACrB,GAAD,MAAY,CACvCsB,KAAM,CACJL,QAAS,OACTc,OAAQ,SAEVsC,OAAQ,CACNC,WAAYtE,EAAMuE,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQzE,EAAMuE,YAAYE,OAAOC,MACjCC,SAAU3E,EAAMuE,YAAYI,SAASC,iBAGzCC,YAAa,CACXhD,YAAa,IACbiD,WAfgB,IAgBhBR,WAAYtE,EAAMuE,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQzE,EAAMuE,YAAYE,OAAOM,QACjCJ,SAAU3E,EAAMuE,YAAYI,SAASK,kBAGzCC,WAAY,CACVC,YAAalF,EAAM8B,QAAQ,IAE7BqD,KAAM,CACJlE,QAAS,QAEXmE,OAAQ,CACN7D,MA5BgB,IA6BhB8D,WAAY,GAEdC,YAAa,CACX/D,MAhCgB,KAmClBgE,aAAc,CACZtE,QAAS,OACTE,WAAY,SACZuB,QAAS1C,EAAM8B,QAAQ,EAAG,GAG1BC,OLjDa,OKkDbb,eAAgB,YAElBsE,QAAS,CACPC,SAAU,EACVlE,MAAO,OACPQ,OAAQ,QACR2D,UAAW,SACXC,UAAW,SACXC,WL1Da,OK2DbtB,WAAYtE,EAAMuE,YAAYC,OAAO,SAAU,CAC7CC,OAAQzE,EAAMuE,YAAYE,OAAOC,MACjCC,SAAU3E,EAAMuE,YAAYI,SAASC,gBAEvCE,YAvDgB,KAyDlBe,aAAc,CACZvB,WAAYtE,EAAMuE,YAAYC,OAAO,SAAU,CAC7CC,OAAQzE,EAAMuE,YAAYE,OAAOM,QACjCJ,SAAU3E,EAAMuE,YAAYI,SAASK,iBAEvCF,WAAY,GAEdgB,SAAU,CACR/D,OLzEa,QK2EfgE,MAAO,CACLhE,OL5Ea,OK6EbJ,UL7Ea,QK+EfqE,WAAY,CACVjE,OLhFa,OKiFbkE,OAAQ,QAINC,GAAkB,SAACnH,GACvB,IAAMmD,EAAUd,KACVpB,EAAQC,cAFmB,EAGTkC,oBAAS,GAHA,oBAG1BE,EAH0B,KAGpBC,EAHoB,KAI3B9G,EAAU4E,OAAOC,OAAOR,YAAYrB,GAAgBhD,SAY1D,OACE,yBAAKmF,UAAWuB,EAAQZ,MACtB,kBAAC6E,GAAA,EAAD,CACEjE,QAAS,CAAEZ,KAAMY,EAAQ8D,YACzBI,SAAS,QACTzF,UAAW0F,aAAKnE,EAAQmC,OAAT,gBACZnC,EAAQ2C,YAAcxC,KAGzB,kBAACiE,GAAA,EAAD,CAAStF,QAAQ,QAAQkB,QAAS,CAAEZ,KAAMY,EAAQ8D,WAAYD,MAAO7D,EAAQ6D,QAC3E,kBAACrC,GAAA,EAAD,CACExE,MAAM,UACNqH,aAAW,cACXtD,QAvBe,WACvBX,GAAQ,IAuBAkE,KAAK,QACL7F,UAAW0F,aAAKnE,EAAQ+C,WAAY5C,GAAQH,EAAQiD,OAEpD,kBAAC,KAAD,OAEF,kBAACpE,EAAA,EAAD,CAAYC,QAAQ,KAAKyF,QAAM,GAA/B,kBAKJ,kBAACC,GAAA,EAAD,CACE/F,UAAWuB,EAAQkD,OACnBpE,QAAQ,aACR2F,OAAO,OACPtE,KAAMA,EACNH,QAAS,CACPR,MAAOQ,EAAQoD,cAGjB,yBACE3E,UAAWuB,EAAQqD,cAEnB,kBAACxE,EAAA,EAAD,CAAYC,QAAQ,MAApB,aAGA,kBAAC0C,GAAA,EAAD,CAAYT,QA7CM,WACxBX,GAAQ,KA6CqB,QAApBtC,EAAMwC,UAAsB,kBAAC,KAAD,MAAsB,kBAAC,KAAD,QAGvD,kBAACoE,GAAA,EAAD,MACA,kBAACnE,GAAA,EAAD,CAAM5B,MAAO,CAAE6B,QAAS,IA9CN,CAAC,QAAS,SAAU,YAAa,QA+ChCzI,KAAI,SAAC4M,EAAMhN,GAAP,OACnB2B,EAAQ3B,IACN,kBAAEkJ,GAAA,EAAF,CACElC,MAAO,CACLiG,aAAa,aAAD,OAAe9G,EAAMS,QAAQC,UAE3CE,IAAK/G,EACL8G,UAAWuB,EAAQ4D,UAEnB,kBAAC5C,GAAA,EAAD,CAAc6D,MAAM,SACjBF,QAMX,kBAACD,GAAA,EAAD,MACA,kBAAC,GAAD,OAEF,0BACEjG,UAAW0F,aAAKnE,EAAQsD,QAAT,gBACZtD,EAAQ2D,aAAexD,KAGzBtD,EAAMiI,Y,sQC7KTC,GACN,CACE,UAAW,UACX,UAAW,UACX,UAAW,UAIX,WAAY,UACZ,WAAY,UACZ,WAAY,UACZ,WAAY,UACZ,WAAY,UAGZ,aAAc,UACd,aAAc,UAEd,aAAc,UACd,aAAc,UACd,aAAc,UAEd,iBAAkB,UAClB,iBAAkB,UAClB,iBAAkB,UAClB,iBAAkB,UAElB,iBAAkB,UAElB,aAAc,UACd,aAAc,UACd,aAAc,UAEd,aAAc,UACd,aAAc,UACd,aAAc,UACd,gBAAiB,UACjB,gBAAiB,UAEjB,gBAAiB,UACjB,gBAAiB,UACjB,WAAY,UACZ,WAAY,UACZ,WAAY,UACZ,WAAY,UAEZ,WAAY,UACZ,WAAY,UACZ,WAAY,UACZ,WAAY,UACZ,YAAa,UACb,YAAa,UACb,YAAa,UAEb,iBAAkB,UAClB,iBAAkB,UAElB,iBAAkB,UAClB,iBAAkB,UAClB,iBAAkB,UAElB,iBAAkB,UAElB,YAAa,UACb,YAAa,UACb,YAAa,UACb,YAAa,W,qBC5DT7F,GAAYC,cAAW,SAACrB,GAAD,MAAY,CACvCkH,OAAQ,CACNjG,QAAS,YAIPkG,GAAc,SAACpI,GACnB,IAAMmD,EAAUd,KAChB,OACE,kBAACgG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEnF,QAAS,CAAEgF,OAAQhF,EAAQgF,QAE3BnM,KAAK,QACLuM,MAAOvI,EAAMrD,KAAKwD,MAClBqI,SAAUxI,EAAMwI,SAChBC,WAAS,EACTC,cAAY,EAEZ5K,GAAG,gBACH,kBAAC6K,GAAA,EAAD,CAAUJ,MAAM,GAAGK,UAAQ,GACzB,sCAEDvH,OAAOwH,QAAQX,IAAQhN,KAAI,SAACiF,GAC3B,IAAM2I,EAAY3I,EAAM,GAClB4I,EAAa5I,EAAM,GAEzB,OACE,kBAACwI,GAAA,EAAD,CACE9G,IAAKiH,EACLP,MAAOQ,GACP,kBAACC,GAAA,EAAD,KACE,kBAAC,KAAD,CACEC,SAAS,QACTnH,MAAO,CAAE3B,MAAO4I,MAGpB,kBAAC5E,GAAA,EAAD,KACG2E,U,6BCvCXI,GAAa,SAAClJ,GAClB,OACE,kBAAC,KAAD,CAEEmJ,MAAOC,MACP,kBAAC,KAAD,CACEC,WAAS,EACTC,OAAO,aACPC,OAAO,SACPzL,GAAG,qBACH0L,MAAM,kBACNjB,MAAOvI,EAAMrD,KAAK8M,UAClBjB,SAAUxI,EAAMwI,SAChBkB,oBAAqB,CACnB,aAAc,mB,8BCdlBrH,GAAYC,cAAW,SAACrB,GAAD,MAAY,CACvC4B,OAAQ,CACNC,YAAa7B,EAAM8B,QAAQ,QAIzB4G,GAAuB,SAAC3J,GAC5B,IAAMmD,EAAUd,KACV1F,EAAOmE,YAAYvB,GACnBqK,EAAO,GAMb,OAJAjN,EAAKkN,SAAQ,SAAChM,GACZ+L,EAAK7O,KAAK,CAAEwN,MAAO1K,EAASC,GAAIrC,MAAOoC,EAASpC,MAAOoH,QAAQ,OAI/D,kBAACiH,GAAA,EAAD,KACC,kBAACzB,GAAA,EAAD,KACG,kBAAC0B,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEjO,KAAK,WACLkO,QAASlK,EAAMrD,KAAKkB,SACpB2K,SAAU,SAAA2B,GACe,IAAD,EAAlBA,EAAElM,OAAOiM,QACXlK,EAAMwI,UAAN,oBAAkB2B,EAAElM,OAAOjC,KAAOmO,EAAElM,OAAOiM,SAA3C,eAAoD,SAAU,IAA9D,IAEAlK,EAAMwI,SAAN,gBAAkB2B,EAAElM,OAAOjC,KAAOmO,EAAElM,OAAOiM,aAInDV,MAAM,eAGV,kBAACnB,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,MAAOvI,EAAMrD,KAAK4B,OAClBvC,KAAK,SACLwM,SAAU,SAAA2B,GACRnK,EAAMwI,SAAN,gBAAkB2B,EAAElM,OAAOjC,KAAOmO,EAAElM,OAAOsK,SAE7CK,SAAU5I,EAAMrD,KAAKkB,SACrB4K,WAAS,EACTC,cAAY,EAEZ5K,GAAG,kBACH,kBAAC6K,GAAA,EAAD,CAAUJ,MAAM,GAAGK,UAAQ,GAA3B,eAIEgB,EAAK1O,KAAI,SAACkD,EAAMtD,GACd,OACE,kBAAC6N,GAAA,EAAD,CACE9G,IAAK/G,EACL8G,UAAWxD,EAAKyE,OAASM,EAAQN,OAAS,GAC1C0F,MAAOnK,EAAKmK,OACXnK,EAAK3C,c,oBCvDlB2O,GAAgB,SAACpK,GACrB,IAAMrE,EAAS0O,eACf,OACE,kBAACC,GAAA,EAAD,CACE/B,MAAOvI,EAAMuI,MACbC,SAAU,SAAC+B,EAAOC,GACQ,kBAAbA,EACTxK,EAAMwI,SAAN,gBACGxI,EAAMhE,KAAOwO,IAEPA,GAAYA,EAASC,WAE9BzK,EAAMwI,SAAN,gBACGxI,EAAMhE,KAAOwO,EAASC,aAGzBzK,EAAMwI,SAASgC,IAInBE,cAAe,SAACC,EAASC,GACvB,IAAMC,EAAWlP,EAAOgP,EAASC,GAUjC,MAP0B,KAAtBA,EAAOH,YACTI,EAAS9P,KAAT,cACE0P,WAAYG,EAAOH,YAClBzK,EAAMhE,KAFT,cAEuBgE,EAAMhE,KAF7B,aAEsC4O,EAAOH,cAIxCI,GAETC,eAAa,EACbC,aAAW,EACXC,mBAAiB,EACjBlN,GAAIkC,EAAMlC,GACV6M,QAAS3K,EAAM2K,QACfM,eAAgB,SAACC,GAEf,MAAsB,kBAAXA,EACFA,EAGLA,EAAOT,WACFS,EAAOT,WAGTS,EAAOlL,EAAMhE,OAEtBmP,aAAc,SAACD,GAAD,OAAYA,EAAOlL,EAAMhE,OAEvCoP,UAAQ,EACRC,YAAa,SAACT,GAAD,OACX,kBAACU,GAAA,EAAD,iBACMV,EADN,CAEEpB,MAAOxJ,EAAMwJ,aCpDjBnH,GAAYC,cAAW,SAACrB,GAAD,MAAY,CACvCsB,KAAM,CACJL,QAAS,OACTwC,cAAe,UAEjB6G,KAAK,cACHrJ,QAAS,OACTsJ,oBAAqB,UACrBC,UAAWxK,EAAM8B,QAAQ,IACxB9B,EAAMyK,YAAYC,KAAK,MAAQ,CAC9BH,oBAAqB,QAIzBI,YAAa,CACX/G,aAAc5D,EAAM8B,QAAQ,QAI1B8I,GAAc,SAAC7L,GACnB,IAAMmD,EAAUd,KACV/F,EAAawE,YAAYxB,GAAchD,WAAWpB,KAAI,SAAC4Q,GAC3D,MAAO,CAAEA,SAAUA,MAEfvP,EAASuE,YAAYxB,GAAc/C,OAAOrB,KAAI,SAAC6Q,GACnD,MAAO,CAAEC,YAAaD,MAIpB9P,EAAe,GAEjBA,EADE+D,EAAMiM,YAAYnO,GACLkC,EAAMiM,YAEN,CACbnO,GAAI,GACJrC,MAAO,GACPyQ,YAAa,GACbrO,UAAU,EACV4L,UAAW,EACX7D,SAAU,EACVrH,OAAQ,GACRuN,SAAU,GACVE,YAAa,GACb7L,MAAO,GACPhC,MAAO,IAzBkB,MA6BLiF,mBAASnH,GA7BJ,oBA6BtBU,EA7BsB,KA6BhBwP,EA7BgB,KA+BvBC,EAAmB,SAAC7D,GACxB4D,EAAQ,2BAAKxP,GAAS4L,KAGlB8D,EAAW,WACfC,EAAe3P,GACfqD,EAAMwI,SAAS7L,IAGX2P,EAAiB,SAACC,GACtB,IAAIC,GAAQ,EAEVA,EADsB,KAApBD,EAAU9Q,QAEuB,KAA1B8Q,EAAUL,cAEc,IAAxBK,EAAU9C,YAEa,IAAvB8C,EAAU3G,aAEa,IAAvB2G,EAAU1O,UAA2C,KAArB0O,EAAUhO,UAEnB,KAAvBgO,EAAUT,WAEgB,KAA1BS,EAAUP,aAEU,KAApBO,EAAUpM,YAKrBH,EAAMsM,eAAeE,IAGvB,OACE,0BACE5K,UAAWuB,EAAQoI,KACnBkB,YAAU,EACVC,aAAa,MACblE,SAAU6D,EACVM,OAAQN,GAER,yBAAKzK,UAAWuB,EAAQZ,MACtB,kBAAC8F,GAAA,EAAD,CAAazG,UAAWuB,EAAQyI,aAC9B,kBAACN,GAAA,EAAD,CACExN,GAAG,cACH9B,KAAK,QACLwN,MAAM,gBACNjB,MAAO5L,EAAKlB,MACZmR,WAAY,CAAEC,UAAW,IACzBrE,SAAU,SAAC2B,GACTiC,EAAiB,gBAAGjC,EAAElM,OAAOjC,KAAOmO,EAAElM,OAAOsK,YAInD,kBAACF,GAAA,EAAD,CAAazG,UAAWuB,EAAQyI,aAC9B,kBAAC,GAAD,CACE9N,GAAG,wBACH9B,KAAK,WACLwN,MAAM,+BACNmB,QAASrO,EACTiM,MAAO5L,EAAKmP,SACZtD,SAAU,SAAC2B,GACTiC,EAAiBjC,OAIvB,kBAAC9B,GAAA,EAAD,CAAazG,UAAWuB,EAAQyI,aAC9B,kBAACN,GAAA,EAAD,CACExN,GAAG,mBACH0L,MAAM,cACNjB,MAAO5L,EAAKuP,YACZ1D,SAAU,SAAC2B,GACTiC,EAAiB,CAAEF,YAAa/B,EAAElM,OAAOsK,SAE3CuE,WAAS,EACTC,KAAM,KAGV,kBAAC1E,GAAA,EAAD,CAAazG,UAAWuB,EAAQyI,aAC9B,kBAAC,GAAD,CACE9N,GAAG,sBACH9B,KAAK,cACLwN,MAAM,yCACNmB,QAASpO,EACTgM,MAAO5L,EAAKqP,YACZxD,SAAU,SAAC2B,GACTiC,EAAiBjC,QAMzB,yBAAKvI,UAAWuB,EAAQZ,MACtB,kBAAC8F,GAAA,EAAD,CAAazG,UAAWuB,EAAQyI,aAC9B,kBAAC,GAAD,CACEpD,SAAU,SAAC2B,GACTiC,EAAiBjC,IAEnBxN,KAAMA,KAGV,kBAAC0L,GAAA,EAAD,CAAazG,UAAWuB,EAAQyI,aAC9B,kBAAC,GAAD,CACEpD,SAAU,SAAC2B,GACTiC,EAAiB,gBAAGjC,EAAElM,OAAOjC,KAAOmO,EAAElM,OAAOsK,SAE/C5L,KAAMA,KAGV,kBAAC0L,GAAA,EAAD,CAAazG,UAAWuB,EAAQyI,aAC9B,kBAAC,GAAD,CACEpD,SAAU,SAAC2B,GACTiC,EAAiB,CAAE3C,UAAWvQ,EAAQiR,MAExCxN,KAAMA,KAGV,kBAAC0L,GAAA,EAAD,CAAazG,UAAWuB,EAAQyI,aAC9B,kBAACN,GAAA,EAAD,CACExN,GAAG,sBACH0L,MAAM,gBACNxN,KAAK,WACLuM,MAAO5L,EAAKiJ,SACZ4C,SAAU,SAAC2B,GACTiC,EAAiB,gBAAGjC,EAAElM,OAAOjC,KAAOgR,OAAO7C,EAAElM,OAAOsK,UAEtD0E,KAAK,SACLL,WAAY,CACVM,IAAK,EACLC,KAAM,GAERC,gBAAiB,CACfC,QAAQ,SCrLhBC,GAAgB,SAACtN,GAAW,IAAD,EACPoD,mBAASpD,EAAMrD,MAAQ,IADhB,oBACxBA,EADwB,KAClBwP,EADkB,OAEG/I,oBAAS,GAFZ,oBAExBmK,EAFwB,KAEbC,EAFa,KAYzBC,EAAc,WAClBzN,EAAMyN,aAAY,IAGd1M,EAAWC,cACXxE,EAAWsE,YAAYrB,GA0B7B,OACE,kBAAE,IAAMiO,SAAR,KACE,kBAACC,GAAA,EAAD,CACE7L,MAAO,CAAE8L,OAAQ,QACjB9P,GAAE,2BAAsBkC,EAAMhE,OAFhC,YAKA,kBAAC6R,GAAA,EAAD,KACE,kBAAC,GAAD,CACE5B,YAAatP,EACb6L,SAjDgB,SAACsF,GACvB3B,EAAQ2B,IAiDFxB,eA9CqB,SAACyB,GAC5BP,EAAaO,OAgDX,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAASxS,MAAQ8R,EAAqD,GAAzC,wCAC3B,8BACE,kBAACW,GAAA,EAAD,CACEjM,QAAQ,YACR9B,MAAM,UACNyE,KAAK,QACLV,QA7CK,WACf,IAAMpG,EAAKnB,EAAKmB,IAAMtE,KAAKC,MAAsB,IAAhBD,KAAK2U,UAChCC,EAAUlV,EAAQyD,EAAK8M,UAAW9M,EAAKiJ,UACvCnH,EAAa9B,EAAK8B,YAAc,KAChC4P,EAAY,2BAAQ1R,GAAS,CAAE,GAAMmB,EAAI,QAAWsQ,EAAS,WAAc3P,IAC7E9B,EAAKkB,SACPkD,EAASrD,EAAgB2Q,IAEzBtN,EAAShD,EAAY,CAAE,OAAUsQ,EAAa9P,OAAQ,KAAQ8P,KAEhE,IAAMC,EAAsB,KAAZ3R,EAAKmB,GAAL,gBAA0BnB,EAAKlB,MAA/B,2BAAyDkB,EAAKlB,MAA9D,cAChBsF,EAASrC,EAAW4P,IAEpB,IAAMC,EAAmBrV,EAAQmV,EAAa5E,WAAY,IACpD+E,EAAoBtV,EAAQmV,EAAaD,QAAS,IACxDrN,EAAS1D,EACP,CACEhC,SAAU7B,KAAK0T,IAAIqB,EAAkB/R,EAASnB,UAC9CC,QAAS9B,KAAKiV,IAAID,EAAmBhS,EAASlB,YAElDyF,EAASzD,EAAYX,EAAKmP,WAC1B/K,EAAStD,EAAUd,EAAKqP,cACxByB,KAwBUiB,UAAW,kBAAC,KAAD,MACX9F,UAAW2E,GANb,UAYJ,kBAACU,GAAA,EAAD,CAASxS,MAAO,SACd,kBAACkJ,GAAA,EAAD,CACET,QAAS,kBAAMuJ,KACfjG,aAAW,SAEX,kBAAC,KAAD,SAIwB,IAA7BnG,OAAOsN,KAAKhS,GAAMd,S,UClFnB+S,GAAe,SAAC5O,GACpB,IAAMe,EAAWC,cAwBjB,OACE,kBAAC,IAAM0M,SAAP,KACE,kBAACC,GAAA,EAAD,CACE7L,MAAO,CAAE8L,OAAQ,QACjB9P,GAAE,6BAAwBkC,EAAMvE,MAA9B,MAFJ,gCAIA,kBAACoS,GAAA,EAAD,KACE,kBAACgB,GAAA,EAAD,8CA7BA7O,EAAM5B,KAAKP,SAEX,kBAAC,IAAM6P,SAAP,KACE,kBAACmB,GAAA,EAAD,CAAmB7G,MAAM,UAAzB,IACIhI,EAAM5B,KAAK3C,MADf,KAGA,kBAACoT,GAAA,EAAD,CAAmB7G,MAAM,UAAzB,8BAMI,kBAAC6G,GAAA,EAAD,CAAmB7G,MAAM,UAAzB,IAAoChI,EAAM5B,KAAK3C,MAA/C,QAsBR,kBAACuS,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CACEjM,QAAQ,YACR6M,WAAS,EACT5K,QAASlE,EAAMyN,YACftN,MAAM,aAJR,MAOA,kBAAC+N,GAAA,EAAD,CACEjM,QAAQ,YACRiC,QA5BW,WACnBnD,EAAS1C,EAAW2B,EAAM5B,OAC1B2C,EAASrC,EAAW,SAAD,OAAUsB,EAAM5B,KAAK3C,MAArB,eACnBuE,EAAMyN,aAAY,IA0BVtN,MAAM,WAHR,U,+BCnDR,SAAS4O,GAAe/O,GACtB,OACE,kBAAC,KAAD,CAAWgP,OAAM,4BAAuBhP,EAAMhE,MAAQiT,OAAQ,oCAC5D,kBAACC,GAAA,EAAUlP,IAKjB,IAAMmP,GAAkB,SAACnP,GACvB,IAAMiB,EAAQC,cACRkO,EAAaC,YAAcpO,EAAMyK,YAAYC,KAAK,OAExD,OACE,kBAAC2D,GAAA,EAAD,CACEF,WAAYA,EACZ9L,KAAMtD,EAAMsD,KACZiM,QAASvP,EAAMyN,YACfsB,eAAgBA,GAChBS,WAAY,CAAE,KAAQxP,EAAMhE,MAC5B+H,kBAAA,2BAAqC/D,EAAMhE,MAC3CiM,SAAUjI,EAAMiI,Y,8BClBhB5F,GAAYC,cAAW,SAACrB,GAAD,MAAY,CACvCsB,KAAM,CACJL,QAAS,OACT,QAAS,CACPqH,OAAQtI,EAAM8B,QAAQ,IAExBX,WAAY,UAEdqN,OAAQ,CACNtP,MAAOc,EAAMS,QAAQgO,gBAAgBC,KAAW,MAChDlN,gBAAiBkN,KAAW,MAE9BC,OAAQ,CACNzP,MAAOc,EAAMS,QAAQgO,gBAAgBG,KAAW,MAChDpN,gBAAiBoN,KAAW,UAI1BC,GAAe,SAAC9P,GACpB,IAAMmD,EAAUd,KAEhB,OACE,yBAAKT,UAAWuB,EAAQZ,MACtB,kBAACwN,GAAA,EAAD,CAAQnO,UAAWuB,EAAQsM,QAASzP,EAAMgM,YAAYgE,OAAO,IAC7D,kBAAChO,EAAA,EAAD,KAAahC,EAAMgM,e,UCzBnBiE,GAA0B,SAACjQ,GAC/B,IAAMe,EAAWC,cADwB,EAEfoC,mBAASpD,EAAMrD,KAAK8B,WAAWyR,MAAM,GAAI,IAF1B,oBAElC3H,EAFkC,KAE3B4H,EAF2B,OAGjB/M,oBAAS,GAHQ,oBAGlCgN,EAHkC,KAG5BC,EAH4B,KAenCC,EAAe,SAAC7F,GACpB,IAAMlJ,EAAM/H,KAAK+W,MAAMvD,OAAOvC,IAC9B,OAAIlJ,EAAM,IACD,IACEA,EAAM,EACR,EAEAA,GAQX,OACE,kBAAC,IAAMmM,SAAP,KACG0C,EACI,kBAACzL,GAAA,EAAD,CACD6L,eAAa,GAGb,kBAAClF,GAAA,EAAD,CACEwD,WAAS,EACTtG,SAbW,SAAC+B,GACpB4F,EAAS5F,EAAMtM,OAAOsK,QAadoE,OA/BS,WACjB0D,GAAQ,GACR,IAAMI,EAAkBH,EAAa/H,GAAS,IAC9CxH,EAASvC,EAAc,CAAE7B,KAAMqD,EAAMrD,KAAM8B,WAAYgS,MA6B/ClI,MAAOA,EACPqE,WAAY,CACVK,KAAM,SACNwB,IAAK,IACLvB,IAAK,GAEP3D,OAAO,OACPzL,GAAG,yBACH8D,UAAU,aACVE,MAAO,CACLU,MAAO,QAGTkO,WAAY,CACVC,aAAc,kBAACC,GAAA,EAAD,CAAgBvJ,SAAS,OAAzB,SAIjB,kBAAC1C,GAAA,EAAD,CACD6C,aAAW,aACXtD,QAxDa,WACnBmM,GAAQ,KAyDDrQ,EAAMrD,KAAK8B,cCvDhB4D,GAAYC,cAAW,SAACrB,GAAD,YAAY,CACvCsB,MAAI,GACFsB,UAAW,aACXgN,UAAW,QAFT,eAGD5P,EAAMyK,YAAYC,KAAK,MAAQ,CAC9BkF,UAAW,SAJX,yBAMO,QANP,+BAOa,UAPb,OAWAC,GAAqB,SAAC9Q,GAC1B,IAAMmD,EAAUd,KADoB,EAEJe,oBAAS,GAFL,oBAE7B2N,EAF6B,KAEnBC,EAFmB,OAGA5N,oBAAS,GAHT,oBAG7B6N,EAH6B,KAGjBC,EAHiB,KAS9BC,EAAkB,WACtBH,GAAY,IAORI,EAAoB,WACxBF,GAAc,IAGhB,OACE,kBAACG,GAAA,EAAD,CACEC,gBAAc,EACdC,SAAS,MAGT,kBAACC,GAAA,EAAD,CAAM5P,UAAS,UAAKuB,EAAQZ,KAAb,UAEb,kBAACkP,GAAA,EAAD,CACEhW,MAAOuE,EAAMrD,KAAKlB,MAClBiW,UAAW1R,EAAMrD,KAAKmP,SACtB9O,OAASgD,EAAMrD,KAAKkB,SAIhB,GAHF,kBAAC,GAAD,CACElB,KAAMqD,EAAMrD,SAKlB,kBAACgV,GAAA,EAAD,KACE,kBAAC3P,EAAA,EAAD,CACEC,QAAQ,QACR9B,MAAM,gBACN2D,UAAU,KACT9D,EAAMrD,KAAKuP,cAIflM,EAAMrD,KAAKkB,UACV,kBAAC,GAAD,CACElB,KAAMqD,EAAMrD,KACZ0G,WAAW,EACX5H,MAAM,kBAGV,kBAACmW,GAAA,EAAD,CAAa9P,MAAO,CAAEK,eAAgB,kBACpC,kBAAC,GAAD,CAAc6J,YAAahM,EAAMrD,KAAKqP,cACtC,6BACE,kBAACiC,GAAA,EAAD,CAASxS,MAAO,UACd,kBAACkJ,GAAA,EAAD,CACE6C,aAAW,SACXtD,QAhDW,WACvBgN,GAAc,KAiDF,kBAAC,KAAD,QAGJ,kBAACjD,GAAA,EAAD,CAASxS,MAAO,QACd,kBAACkJ,GAAA,EAAD,CACE6C,aAAW,OACXtD,QAhES,WACrB8M,GAAY,KAiEA,kBAAC,KAAD,QAGJ,kBAAC/C,GAAA,EAAD,CAASxS,MAAO,SACd,kBAACkJ,GAAA,EAAD,CACET,QAAS,SAACqG,GAAD,OAAWvK,EAAM6R,MAAMtH,IAChC/C,aAAW,SAEX,kBAAC,KAAD,UAKR,kBAAC,GAAD,CACElE,KAAMyN,EACNtV,MAAO,OACPgS,YAAa0D,GAEb,kBAAC,GAAD,CACE1V,MAAO,OACPkB,KAAMqD,EAAMrD,KACZ8Q,YAAa0D,KAGjB,kBAAC,GAAD,CACE7N,KAAM2N,EACNxV,MAAO,SACPgS,YAAa2D,GAEb,kBAAC,GAAD,CACE3V,MAAO,SACP2C,KAAM4B,EAAMrD,KACZ8Q,YAAa2D,QCzHnBU,GAAmB,SAAC9R,GAAW,IAAD,EACFoD,mBAAS,MADP,oBAC3B2O,EAD2B,KACjBC,EADiB,OAEV5O,oBAAS,GAFC,oBAE3BE,EAF2B,KAErBC,EAFqB,KAI5B0O,EAAc,kBAAM,SAAA1H,GACxByH,EAAYzH,EAAM2H,eAClB3O,GAAiB,IAATD,KAGV,OACE,kBAAChD,GAAD,CACEsB,UAAU,OACV9D,GAAIkC,EAAMrD,KAAKmB,GACfqC,MAAOH,EAAMrD,KAAKwD,MAClB2B,MAAO,CACLC,WAAW,QAAD,OAAU/B,EAAMrD,KAAKiJ,YAEjC,yBACE1B,QAAS+N,IACTnQ,MACE,CACEI,QAAS,OACTE,WAAY,SACZY,OlB3BK,OkB4BLmP,OlB5BK,OkB6BLrP,YAAa,OACbsP,aAAc,SAGlB,kBAACpQ,EAAA,EAAD,CACEF,MAAO,CACL3B,MAAO,OACPkS,SAAU,WAEXrS,EAAMrD,KAAKlB,QAGhB,kBAAC6W,GAAA,EAAD,CACEhP,KAAMA,EACNyO,SAAUA,EACVQ,UAAU,eACVhN,YAAU,EACVzD,MAAO,CAAEoF,OAAQ,QAEhB,gBAAGsL,EAAH,EAAGA,gBAAH,OACC,kBAACC,GAAA,EAAD,iBAAUD,EAAV,CAA2BjO,QAAS,MAClC,kBAAC2K,GAAA,EAAD,KACE,kBAAC,GAAD,CACEvS,KAAMqD,EAAMrD,KACZkV,MAAOI,a,4IClDvB,IAAMS,GAAS/S,IAAOC,IAAV,MAMN+S,GAAe,SAAC3S,GAAW,IAAD,EACEoD,mBAAS,MADX,oBACvB2O,EADuB,KACbC,EADa,OAEN5O,oBAAS,GAFH,oBAEvBE,EAFuB,KAEjBC,EAFiB,KAIxB0O,EAAc,kBAAM,SAAA1H,GACxByH,EAAYzH,EAAM2H,eAClB3O,GAAiB,IAATD,KAGJsP,EAAc,WAClB,OAAI5S,EAAM6S,cAAcC,MAAQ9S,EAAMrD,KAAK8M,WAAazJ,EAAM6S,cAAcE,IAAM/S,EAAMrD,KAAKyR,QACnF,UAC2B,SAA1BpO,EAAMrD,KAAK8B,WACZ,UAEAuB,EAAMrD,KAAKwD,OAGvB,OAEE,kBAAC6S,GAAA,EAAD,CACE1O,IAAI,EACJxC,MAAO,CAAEmR,gBAAiB,UAG1B,kBAAE3S,GAAF,CACEsB,UAAU,OACV9D,GAAE,eAAUkC,EAAMrD,KAAKmB,IACvBqC,MAAOyS,IACP9Q,MAAO,CACLC,WAAW,QAAD,OAAU/B,EAAMrD,KAAKiJ,YAEjC,kBAACqI,GAAA,EAAD,CACExS,MAAyB,YAAlBmX,IAA8B,iDAAmD,GACxFM,OAAK,GAGL,kBAACR,GAAD,CAAQxO,QAAS+N,KACf,yBAAKnQ,MACH,CACEU,MAAOxC,EAAMrD,KAAK8B,WAClBuE,OAAQ,OACRP,gBAAiB,QACjB0Q,QAAS,MAGb,yBAAKrR,MACH,CACEI,QAAS,OACTE,WAAY,SACZY,OnB3DC,OmB4DDqE,SAAU,WACV8K,OnB7DC,OmB8DDrP,YAAa,OACbsP,aAAc,SAGhB,kBAACpQ,EAAA,EAAD,CAAYF,MACT,CACC3B,MAAO,OACPkS,SAAU,SACVpP,aAAc,aAEfjD,EAAMrD,KAAKlB,UAKpB,kBAAC6W,GAAA,EAAD,CACEhP,KAAMA,EACNyO,SAAUA,EACVQ,UAAU,eACVhN,YAAU,EACVzD,MAAO,CAAEoF,OAAQ,QAEhB,gBAAGsL,EAAH,EAAGA,gBAAH,OACC,kBAACC,GAAA,EAAD,iBAAUD,EAAV,CAA2BjO,QAAS,MAClC,kBAAC2K,GAAA,EAAD,KACE,kBAAC,GAAD,CACEvS,KAAMqD,EAAMrD,KACZkV,MAAOI,c,obClFzB,IAAMmB,GAAiBzT,IAAOC,IAAV,KpBPH,eoBWwC,SAAAI,GAAK,OAAIA,EAAMqT,eAIpD,SAAArT,GAAK,OAAIA,EAAMG,SAQ7BmT,GAAgB,WACpB,IAAM1a,EAAQkI,YAAYtB,GACpBhD,EAAWsE,YAAYrB,GACvB9C,EAAOmE,YAAYvB,GACnBnD,EAAY0E,YAAYzB,GACxBY,EAAG,iBAAa3F,EAAekC,EAASnB,SAAUmB,EAASlB,SAAW,EAAnE,apB5BM,OoB4BN,KACH2F,EAAQC,cACRmS,EAAchS,OAAOC,OAAO9E,EAASC,SAASd,QAAO,SAAA4F,GAAG,OAAIA,KAAK1F,OACjE0X,EAAWC,iBAAO,MAExB,OACE,kBAAC,IAAM9F,SAAP,KACE,kBAAC0F,GAAD,CACEjT,MAAO/D,EAAY6E,EAAMS,QAAQC,QAAU,gBAC3C8R,IAAKF,EACLF,YAAaA,GAGX1W,EAAKzB,KAAI,SAAC2C,EAAU/C,GAClB,OACE,kBAACgF,GAAD,CAAmB+B,IAAK/G,GACtB,kBAACiF,GAAD,CACEE,IAAKA,EACL2B,UAAU,YAERnH,EAAa+B,EAASnB,SAAUmB,EAASlB,QAAS,CAACuC,EAAS4L,UAAW5L,EAAS+H,WAC7E1K,KAAI,SAACrC,EAAKiC,GACT,OAAIjC,IAAQgF,EAAS4L,UAEjB,kBAAC,GAAD,CACE5H,IAAK/G,EACL6B,KAAMkB,IAKR,kBAACwC,GAAD,CACEF,MAAO/D,EAAY6E,EAAMS,QAAQC,QAAU,gBAC3CC,UAAW/I,IAAQD,EAAQ,QAAU,OACrCkF,GAAE,UAAKD,EAASC,GAAd,YAAoBnE,EAAcd,IACpCgJ,IAAK/G,QAOjB+C,EAASM,MACNjD,KAAI,SAACkD,EAAMtD,GACV,OACE,kBAACiF,GAAD,CACEE,IAAKA,EACL4B,IAAK/G,EACL8G,UAAU,QAERnH,EAAa+B,EAASnB,SAAUmB,EAASlB,QAAS,CAAC8C,EAAKqL,UAAWrL,EAAKwH,WACrE1K,KAAI,SAACrC,EAAKiC,GACT,OAAIjC,IAAQuF,EAAKqL,UAEb,kBAAC,GAAD,CACEoJ,cAAe,CAAEC,MAAOjV,EAAS4L,UAAWsJ,IAAKlV,EAASuQ,SAC1DvM,IAAK/G,EACL6B,KAAMyB,IAKR,kBAACiC,GAAD,CACEF,MAAO/D,EAAY6E,EAAMS,QAAQC,QAAU,gBAC3CC,UAAW/I,IAAQD,EAAQ,QAAU,OACrCkF,GAAE,UAAKM,EAAKN,GAAV,YAAgBnE,EAAcd,IAChCgJ,IAAK/G,kB,2FC1FrCuH,GAAYC,cAAW,SAACrB,GAAD,MAAY,CACvCsB,KAAM,CACJL,QAAS,QAEX0J,YAAa,CACXrC,OAAQtI,EAAM8B,QAAQ,QAI1B,SAAS2Q,KACP,IAAMvQ,EAAUd,KACVtB,EAAWC,cACX7E,EAAW2E,YAAY1B,GACvBhD,EAAY0E,YAAYzB,GACxB5C,EAAUqE,YAAYrB,GAAgBhD,QAEtCkX,EAAoB,SAACpJ,GACzB,OAAQA,EAAMtM,OAAOjC,MACnB,IAAK,WACH+E,EAASjE,EAAYyN,EAAMtM,OAAOiM,UAClC,MACF,IAAK,YACHnJ,EAAS7D,EAAaqN,EAAMtM,OAAOiM,UACnC,MACF,IAAK,OACHnJ,EAAS1D,EAAY,CAAE,QAAU,2BAAMZ,GAAY,CAAE,KAAQ8N,EAAMtM,OAAOiM,aAC1E,MACF,IAAK,QACHnJ,EAAS1D,EAAY,CAAE,QAAU,2BAAMZ,GAAY,CAAE,MAAS8N,EAAMtM,OAAOiM,aAC3E,MACF,IAAK,WACHnJ,EAAS1D,EAAY,CAAE,QAAU,2BAAMZ,GAAY,CAAE,SAAY8N,EAAMtM,OAAOiM,eAOpF,OACE,yBAAKtI,UAAWuB,EAAQZ,MACtB,yBAAKX,UAAWuB,EAAQZ,MACtB,kBAAC8F,GAAA,EAAD,CAAavE,UAAU,WAAWlC,UAAWuB,EAAQyI,aACnD,kBAACgI,GAAA,EAAD,CAAW9P,UAAU,UAArB,QACA,kBAACgG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,QACE,kBAAC6J,GAAA,EAAD,CACE3J,QAAS/N,EACTqM,SAAUmL,EACV3X,KAAK,aACTwN,MAAM,cAER,kBAACO,GAAA,EAAD,CACEC,QACE,kBAAC6J,GAAA,EAAD,CACE3J,QAAS9N,EACToM,SAAUmL,EACV3X,KAAK,cAGTwN,MAAM,kBAKd,yBAAK5H,UAAWuB,EAAQZ,MACtB,kBAAC8F,GAAA,EAAD,CAAavE,UAAU,WAAWlC,UAAWuB,EAAQyI,aAEnD,kBAACgI,GAAA,EAAD,CAAW9P,UAAU,UAArB,qBACA,kBAACgG,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEC,QAASzN,EAAQrC,KACjBoO,SAAUmL,EACV3X,KAAK,SACTwN,MAAM,UAER,kBAACO,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEC,QAASzN,EAAQpC,MACjBmO,SAAUmL,EACV3X,KAAK,UACTwN,MAAM,WAER,kBAACO,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEC,QAASzN,EAAQC,SACjB8L,SAAUmL,EACV3X,KAAK,aACTwN,MAAM,kBASpB,IAAMsK,GAAgB,SAAC9T,GACrB,OACE,kBAAE,IAAM0N,SAAR,KACE,kBAACC,GAAA,EAAD,CAAa7L,MAAO,CAAE8L,OAAQ,QAAU9P,GAAE,2BAAsBkC,EAAMvE,QAAtE,WAGA,kBAACoS,GAAA,EAAD,KACE,kBAAC6F,GAAD,OAEF,kBAAC1F,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAASxS,MAAO,SACd,kBAACkJ,GAAA,EAAD,CACET,QAASlE,EAAMyN,YACfjG,aAAW,SAEX,kBAAC,KAAD,W,UCxHNuM,GAAiB,SAAC/T,GACtB,OACE,6BACE,kBAACgU,GAAA,EAAD,CACEC,aAAc,CAAEC,SAAU,SAAUC,WAAY,QAChD7Q,KAAMtD,EAAMsD,KACZiM,QAAS,kBAAMvP,EAAMoU,OAAM,IAC3B9F,QAAStO,EAAMsO,QACfzM,IAAK7B,EAAMlC,GACXuW,iBAAkB,QCEpBhS,GAAYC,cAAW,SAACrB,GAAD,MAAY,CACvCqT,QAAS,CACPjN,SAAU,QACV8K,OAAQlR,EAAM8B,QAAQ,GACtBwR,MAAOtT,EAAM8B,QAAQ,IAEvByR,QAAS,CACPnN,SAAU,QACV8K,OAAQlR,EAAM8B,QAAQ,GACtBwR,MAAOtT,EAAM8B,QAAQ,KAEvB0R,SAAU,CACRvN,OAAQjG,EAAMiG,OAAOb,OAAS,EAC9BlG,MAAO,QAETuU,iBAAkB,CAChBxS,QAAS,OACTE,WAAY,UAEduS,QAAS,CACPnS,MAAO,OACPQ,OAAQ,OACRuG,OAAQtI,EAAM8B,QAAQ,QAKpB6R,GAAO,WACX,IAAMzR,EAAUd,KACVlE,EAAQ2C,YAAYvB,GACpB+O,EAAUxN,YAAYpB,GACtBmV,EC3Ce,WACrB,IAAMC,EAActB,kBAAO,GAI3B,OAHAhS,qBAAU,WACRsT,EAAYC,SAAU,IACrB,IACID,EAAYC,QDsCGC,GAJL,EAMqB5R,oBAAS,GAN9B,oBAMV6R,EANU,KAMGC,EANH,OAOa9R,oBAAS,GAPtB,oBAOV+R,EAPU,KAODC,EAPC,OAQuBhS,oBAAS,GARhC,oBAQViS,EARU,KAQIC,EARJ,OASuBlS,oBAAS,GAThC,oBASVmS,EATU,KASIC,EATJ,KAYjBhU,qBAAU,WACa,IAAjBrD,EAAMtC,OACR4Z,EAJ0D,YAM1DhI,EAN0D,cAS5D,CAACtP,EAAMtC,OATqD,aAW9D2F,qBAAU,WACJqT,GAGFY,EAfsE,cAiBvE,CAACnH,EAjBsE,aAoB1E,IAAMmH,EAAa,SAACxI,GAClB,OAAQA,GACN,IAAK,UACHiI,GAAe,GACf,MACF,IAAK,MACHE,GAAW,GACX,MACF,IAAK,WACHE,GAAgB,GAChB,MACF,IAAK,WACHE,GAAgB,GAChB,MACF,QACExc,QAAQ6B,KAAK,2BAKb4S,EAAc,SAACR,GACnB,OAAQA,GACN,IAAK,UACHiI,GAAe,GACf,MACF,IAAK,MACHE,GAAW,GACX,MACF,IAAK,WACHE,GAAgB,GAChB,MACF,IAAK,WACHE,GAAgB,GAChB,MACF,QACExc,QAAQ6B,KAAK,2BAKnB,OACE,kBAAC6a,GAAA,EAAD,KACE,kBAACzH,GAAA,EAAD,CAASxS,MAAO,WACd,kBAACka,GAAA,EAAD,CACE/T,UAAWuB,EAAQqR,QACnB5P,KAAK,QACLzE,MAAM,YACNqH,aAAW,UACXtD,QAAS,kBAAMuR,EApEqB,aAsEpC,kBAAC,KAAD,QAGJ,kBAACxH,GAAA,EAAD,CAASxS,MAAO,YACd,kBAACka,GAAA,EAAD,CACE/T,UAAWuB,EAAQmR,QACnBnU,MAAM,UACNqH,aAAW,MACXtD,QAAS,kBAAMuR,EA9EgC,SAgF/C,kBAAC,KAAD,QAGJ,kBAAC,GAAD,CACEnS,KAAM2R,EACNjZ,KArFsC,UAsFtCyR,YAAa,kBAAMA,EAtFmB,aAwFtC,kBAAC,GAAD,CACEzR,KAzFoC,UA0FpCyR,YAAa,kBAAMA,EA1FiB,eA6FxC,kBAAC,GAAD,CACEnK,KAAM6R,EACNnZ,KA/FiD,OAkGjD,kBAAC,GAAD,CACEA,KAnG+C,MAoG/CyR,YAAa,kBAAMA,EApG4B,WAuGnD,kBAACmI,GAAA,EAAD,CACEhU,UAAWuB,EAAQsR,SACnBnR,KAAM+R,GAEN,kBAACK,GAAA,EAAD,CACE9T,UAAWuB,EAAQuR,kBAEnB,kBAAC1S,EAAA,EAAD,CACEC,QAAQ,MADV,kBAKA,kBAAC0T,GAAA,EAAD,CACE/T,UAAWuB,EAAQwR,QACnBxU,MAAM,UACNqH,aAAW,MACXtD,QAAS,kBAAMuR,EAvH8B,SAyH7C,kBAAC,KAAD,CACE3T,MAAO,CAAEU,MAAO,SAAUQ,OAAQ,eAK1C,kBAAC,GAAD,CACEsL,QAASA,EACThL,KAAMiS,EACNnB,MAAO,kBAAM3G,EAlIuD,aAmIpE3P,GAAE,U1BpLDhF,KAAKJ,MAAM,IAAII,M0BoLd,iBEhLJ+c,GAAW,WACf,OACE,kBAAC,IAAMnI,SAAP,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEF,kBAAC,GAAD,QCDS,SAASoI,KACtB,IAAMC,EAAiB1d,IADa,EAEZ2d,IAAM5S,UAAS,GAFH,oBAE7BE,EAF6B,KAEvBC,EAFuB,KAG9BxC,EAAWC,cAEjBQ,qBAAU,WACJuU,GACFxS,GAAQ,KAET,CAACwS,IAEJ,IAAMtI,EAAc,SAACwI,GACfA,K9BHY,SAAClZ,GACnB,IACE,IAAMzE,EAAkBG,KAAKyd,UAAUnZ,GACvCxE,aAAa4d,QAAQ,UAAW7d,GAChC,SACAU,QAAQ6B,KAAK,gC8BDXub,CAAYH,GACZlV,EAASrC,EAAW,0BAEtB6E,GAAQ,IAGV,OACE,6BACE,kBAAC+L,GAAA,EAAD,CACEhM,KAAMA,EACNiM,QAAS9B,GAIT,kBAACE,GAAA,EAAD,KAAc,uCACd,kBAACE,GAAA,EAAD,KACE,kBAACgB,GAAA,EAAD,6UAKF,kBAACb,GAAA,EAAD,KACE,kBAACE,GAAA,EAAD,CACEjM,QAAQ,YACRiC,QAAS,kBAAMuJ,GAAY,IAC3BtN,MAAM,aAHR,WAMA,kBAAC+N,GAAA,EAAD,CACEjM,QAAQ,YACRiC,QAAS,kBAAMuJ,GAAY,IAC3BtN,MAAM,UACN2O,WAAS,GAJX,YCjDV,IAAMuH,GAAQ,WACZ,OACE,kBAAC,IAAM3I,SAAP,KACE,kBAACoI,GAAD,MACA,kBAAC,GAAD,Q,UCkCSQ,OA9Bf,WACE,IAAMna,EAAW2E,YAAY1B,GACvB2B,EAAWC,cAEXuV,EAAkBlH,YAAc,gCAChCpO,ECdM,SAAC9E,EAAUqa,GAEvB,OAAOC,mBACL,kBACEC,aAAe,CACbhV,QAAS,CACPuL,KAAM9Q,EAAW,OAAS,QAC1BiI,QAAS,CACPuS,KAAMH,GAERpR,UAAW,CACTuR,KAAM,WAERC,YAAa,QAGb,CAACza,EAAUqa,IDFLK,CAAM1a,EAFC,WAGf2a,EAAUze,IACV0e,EAAWne,IACXoe,EAAalW,YAAYtB,GAc/B,OAZAgC,qBAAU,WACiB,qBAAbsV,GACV/V,EAASjE,EAAYyZ,MAEtB,CAACA,EAAiBxV,EAAU+V,IAE/BtV,qBAAU,WACJuV,IAAaC,GACfjW,EAAS3D,EAAS2Z,MAEnB,IAGD,kBAACE,EAAA,EAAD,CAAehW,MAAOA,GACpB,kBAACiW,EAAA,EAAD,MACA,kBAAC,GAAD,QEjCAC,GlCJmB,WACvB,IACE,IAAM7e,EAAkBC,aAAaC,QAAQ,aAC7C,GAAwB,OAApBF,EACF,OAEF,OAAOG,KAAKC,MAAMJ,GAClB,MAAOK,GACP,QkCJmBye,GACjBC,GAAQC,YAAe,CAC3BC,QAAS,CACPpZ,MAAOqZ,GAETC,eAAgB,CACdtZ,MAAOgZ,MAIXE,GAAMK,WAAU,YACS,IAAnBrf,KlCHmB,SAAC0E,GACxB,IACE,IAAMzE,EAAkBG,KAAKyd,UAAUnZ,GACvCxE,aAAa4d,QAAQ,YAAa7d,GAClC,SACAU,QAAQ6B,KAAK,gCkCDb8c,CAAiBN,GAAMO,WAAWzZ,UAIvBkZ,UCRKQ,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCTNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUf,MAAOA,IACf,kBAACH,EAAA,EAAD,MACA,kBAAC,GAAD,QAGJpS,SAASC,eAAe,SDmHpB,kBAAmBsT,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.f119e5d2.chunk.js","sourcesContent":["const loadLocalStorage = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('chartData');\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nconst saveLocalStorage = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('chartData', serializedState);\r\n  } catch {\r\n    console.warn(\"Save to localStorage failed\")\r\n  }\r\n};\r\n\r\nconst saveConsent = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('consent', serializedState);\r\n  } catch {\r\n    console.warn(\"Save to localStorage failed\")\r\n  }\r\n};\r\n\r\nconst checkConsent = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('consent');\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch (err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport { loadLocalStorage, saveLocalStorage, saveConsent, checkConsent }","// all function input and return is in ms, unless otherwise stated\r\nconst now = () => {\r\n  return Date.parse(new Date())\r\n}\r\n\r\nconst today = () => {\r\n  const day = new Date().toDateString() // doing this to be sure that I only get day, with 0 hours and minutes\r\n  const today = Date.parse(day)\r\n  console.log(today)\r\n  return today\r\n}\r\n\r\nconst addDays = (baseDate, howManyDays = 0) => {\r\n  const dateString = new Date(baseDate).toDateString() // processing dates like this, so it accepts both ms and yyyy-mm-dd input (default for input[date])\r\n  const dateMS = Date.parse(dateString)\r\n  const alteredDate = dateMS + 86400000 * Math.floor(howManyDays)\r\n  const alteredDateString = new Date(alteredDate).toDateString() // doing this to be sure that I only get day, with 0 hours and minutes\r\n  return Date.parse(alteredDateString)\r\n}\r\n\r\n// return date's chosen thingy - day in number [1,31]; month in string, year in number\r\nconst customGetDate = (baseDate, selector) => {\r\n  const date = new Date(baseDate)\r\n  const days = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wednesday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday',\r\n  ]\r\n  const daysAbbr = ['Sun.', 'Mon.', 'Tues.', 'Wed.', 'Thur.', 'Fri.', 'Sat.']\r\n  const months = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December',\r\n  ]\r\n  const monthsAbbr = [\r\n    'Jan.',\r\n    'Feb.',\r\n    'Mar.',\r\n    'Apr.',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'Aug.',\r\n    'Sep.',\r\n    'Oct.',\r\n    'Nov.',\r\n    'Dec.',\r\n  ]\r\n  const options = { year: 'numeric', month: 'numeric', day: 'numeric' }\r\n\r\n  switch (selector) {\r\n    case 'day':\r\n      return date.getDate()\r\n    case 'day-of-the-week':\r\n      return days[date.getDay()]\r\n    case 'day-of-the-week-abbr':\r\n      return daysAbbr[date.getDay()]\r\n    case 'month':\r\n      return months[date.getMonth()]\r\n    case 'month-abbr':\r\n      return monthsAbbr[date.getMonth()]\r\n    case 'year':\r\n      return date.getFullYear()\r\n    default:\r\n      return date.toLocaleDateString(undefined, options)\r\n  }\r\n}\r\n\r\n// in days\r\nconst dateDifference = (firstDate, secondDate) => {\r\n  const difference = Math.floor((secondDate - firstDate) / 86400000)\r\n  return difference\r\n}\r\n\r\n// const taskDuration = (firstDate, secondDate) => {\r\n//   const duration = Math.floor((secondDate - firstDate) / 86400000) + 1\r\n//   return duration\r\n// }\r\n\r\n// returns array of days between two dates (in ms)\r\nconst datesBetween = (firstDate, secondDate, skip = null) => {\r\n  const difference = dateDifference(firstDate, secondDate)\r\n\r\n  let dates = []\r\n\r\n  if (difference < 0) {\r\n    console.warn('Wrong input')\r\n    return ['error']\r\n  } else {\r\n    for (let index = 0; index <= difference; index++) {\r\n      dates.push(addDays(firstDate, index))\r\n    }\r\n  }\r\n\r\n  if (skip !== null) {\r\n    dates.splice(dates.indexOf(skip[0]) + 1, skip[1] - 1)\r\n  }\r\n  console.log(dates)\r\n  console.log(dates.map((date) => new Date(date).toString()))\r\n  return dates\r\n}\r\n\r\n//      returns an object consisting of objects with number of occurences\r\n//      [{title: \"Jun`e\", count: 24}, {title: \"July\", count: 17}]\r\n//      to use with `grid-column: span ${count}`\r\nconst countOccurrences = (firstDay, lastDay, selector) => {\r\n  const dates = datesBetween(firstDay, lastDay).map((day) =>\r\n    customGetDate(day, selector),\r\n  )\r\n  let countBySelector = [...new Set(dates)].map((selected) => {\r\n    return {\r\n      title: selected,\r\n      count: dates.filter((check) => check === selected).length,\r\n    }\r\n  })\r\n  return countBySelector\r\n}\r\n\r\nexport {\r\n  now,\r\n  today,\r\n  addDays,\r\n  customGetDate,\r\n  dateDifference,\r\n  datesBetween,\r\n  countOccurrences,\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport { today, addDays } from './common/dateHelper'\r\nimport { swapPositions } from './common/swapPositions'\r\n\r\nconst tasksSlice = createSlice({\r\n  name: 'tasks',\r\n  initialState: {\r\n    view: {\r\n      darkMode: null,\r\n      gridLines: true,\r\n    },\r\n    custom: {\r\n      categories: ['default', 'frontend', 'backend', 'UX', 'UI', 'setup'],\r\n      people: ['me', 'Person', 'Elon Musk', '初音ミク', '2B', 'Wheatley'],\r\n    },\r\n    calendar: {\r\n      today: today(), // all dates are to be stored in ms so they can easily be converted\r\n      firstDay: addDays(today(), -20),\r\n      lastDay: addDays(today(), 20),\r\n      headers: {\r\n        year: null,\r\n        month: true,\r\n        shortDay: true,\r\n        day: true,\r\n      },\r\n    },\r\n    data: [],\r\n    lastMessage: 'default message...',\r\n  },\r\n  reducers: {\r\n    setDarkMode: (state, action) => {\r\n      state.view.darkMode = action.payload\r\n    },\r\n\r\n    setGridLines: (state, action) => {\r\n      state.view.gridLines = action.payload\r\n    },\r\n\r\n    setCustom: (state, action) => {\r\n      state.custom = { ...state.custom, ...action.payload }\r\n    },\r\n\r\n    setToday: (state, action) => {\r\n      state.calendar.today = action.payload\r\n    },\r\n\r\n    setCalendar: (state, action) => {\r\n      state.calendar = { ...state.calendar, ...action.payload }\r\n    },\r\n\r\n    addCategory: (state, action) => {\r\n      state.custom.categories.push(action.payload)\r\n      state.custom.categories = Array.from(new Set(state.custom.categories))\r\n    },\r\n\r\n    addPerson: (state, action) => {\r\n      state.custom.people.push(action.payload)\r\n      state.custom.people = Array.from(new Set(state.custom.people))\r\n    },\r\n\r\n    addEditMainTask: (state, action) => {\r\n      const mainTaskIndex = state.data.findIndex(\r\n        (mainTask) => mainTask.id === action.payload.id,\r\n      )\r\n\r\n      if (mainTaskIndex === -1) {\r\n        state.data.push(action.payload)\r\n      } else {\r\n        state.data[mainTaskIndex] = action.payload\r\n      }\r\n    },\r\n\r\n    addEditTask: (state, action) => {\r\n      const targetParentIndex = state.data.findIndex(\r\n        (mainTask) => mainTask.id === action.payload.target,\r\n      )\r\n      //check if task already exists\r\n      const taskIndex = state.data[targetParentIndex].tasks.findIndex(\r\n        (task) => task.id === action.payload.data.id,\r\n      )\r\n      if (taskIndex === -1) {\r\n        state.data[targetParentIndex].tasks.push(action.payload.data)\r\n      } else {\r\n        state.data[targetParentIndex].tasks[taskIndex] = action.payload.data\r\n      }\r\n    },\r\n\r\n    deleteTask: (state, action) => {\r\n      if (action.payload.mainTask) {\r\n        const filteredArray = state.data.filter(\r\n          (mainTask) => mainTask.id !== action.payload.id,\r\n        )\r\n        state.data = filteredArray\r\n      } else {\r\n        const targetParentIndex = state.data.findIndex(\r\n          (mainTask) => mainTask.id === action.payload.parent,\r\n        )\r\n        const filteredArray = state.data[targetParentIndex].tasks.filter(\r\n          (task) => task.id !== action.payload.id,\r\n        )\r\n        state.data[targetParentIndex].tasks = filteredArray\r\n      }\r\n    },\r\n\r\n    setCompletion: (state, action) => {\r\n      const targetParentIndex = state.data.findIndex(\r\n        (mainTask) => mainTask.id === action.payload.data.parent,\r\n      )\r\n\r\n      const taskIndex = state.data[targetParentIndex].tasks.findIndex(\r\n        (task) => task.id === action.payload.data.id,\r\n      )\r\n      if (taskIndex === -1) {\r\n        console.warn('error')\r\n      } else {\r\n        state.data[targetParentIndex].tasks[taskIndex].completion =\r\n          action.payload.completion\r\n      }\r\n    },\r\n\r\n    setMessage: (state, action) => {\r\n      state.lastMessage = action.payload\r\n    },\r\n\r\n    reorderTasks: (state, action) => {\r\n      const targetParentIndex = state.data.findIndex(\r\n        (mainTask) => mainTask.id === action.payload.data.parent,\r\n      )\r\n      const taskIndex = state.data[targetParentIndex].tasks.findIndex(\r\n        (task) => task.id === action.payload.data.id,\r\n      )\r\n      const tasksToReorder = state.data[targetParentIndex].tasks\r\n      if (taskIndex === -1) {\r\n        console.warn('error')\r\n      } else {\r\n        swapPositions(\r\n          tasksToReorder,\r\n          taskIndex,\r\n          taskIndex + action.payload.target,\r\n        )\r\n        state.data[targetParentIndex].tasks = tasksToReorder\r\n      }\r\n    },\r\n  },\r\n})\r\n\r\nconst {\r\n  setDarkMode,\r\n  setGridLines,\r\n  setCustom,\r\n  setScrollPosition,\r\n  setMaxScrollPosition,\r\n  addCategory,\r\n  addPerson,\r\n  addEditMainTask,\r\n  addEditTask,\r\n  setToday,\r\n  setCalendar,\r\n  deleteTask,\r\n  setCompletion,\r\n  setMessage,\r\n  reorderTasks,\r\n} = tasksSlice.actions\r\n\r\nconst selectDarkMode = (state) => state.tasks.view.darkMode\r\nconst selectGridLines = (state) => state.tasks.view.gridLines\r\nconst selectCustom = (state) => state.tasks.custom\r\nconst selectScrollPosition = (state) => state.tasks.scrollPosition\r\nconst selectMaxScrollPosition = (state) => state.tasks.maxScrollPosition\r\nconst selectCustomCategories = (state) => state.tasks.custom.categories\r\nconst selectTasks = (state) => state.tasks.data\r\nconst selectToday = (state) => state.tasks.calendar.today\r\nconst selectCalendar = (state) => state.tasks.calendar\r\nconst selectLastMessage = (state) => state.tasks.lastMessage\r\n\r\nexport {\r\n  setDarkMode,\r\n  setGridLines,\r\n  setCustom,\r\n  setScrollPosition,\r\n  setMaxScrollPosition,\r\n  addCategory,\r\n  addPerson,\r\n  addEditMainTask,\r\n  addEditTask,\r\n  setToday,\r\n  setCalendar,\r\n  deleteTask,\r\n  setCompletion,\r\n  setMessage,\r\n  reorderTasks,\r\n  selectDarkMode,\r\n  selectGridLines,\r\n  selectCustom,\r\n  selectScrollPosition,\r\n  selectMaxScrollPosition,\r\n  selectCustomCategories,\r\n  selectTasks,\r\n  selectToday,\r\n  selectCalendar,\r\n  selectLastMessage,\r\n}\r\nexport default tasksSlice.reducer\r\n","const swapPositions = (array, a, b) => {\r\n  [array[a], array[b]] = [array[b], array[a]]\r\n}\r\n\r\nexport { swapPositions }\r\n","import styled from 'styled-components'\r\nimport { convertHex } from '../common/convertHex';\r\n\r\nconst cellSize = '3rem'\r\nconst gapSize = '0px'\r\n\r\nconst Table = styled.div`\r\n    display: grid;\r\n    row-gap: 1.5rem;\r\n`;\r\n\r\nconst TableSection = styled.div`\r\n    display: grid;\r\n    grid-auto-rows: ${cellSize};\r\n    row-gap: ${gapSize};\r\n`;\r\n\r\nconst TableSectionTasks = styled(TableSection)`\r\n    padding-bottom: calc(${cellSize} / 2);\r\n`;\r\n\r\nconst TableRow = styled.div`\r\n    display: grid;\r\n    grid-template-columns: ${props => props.gtc};\r\n    grid-auto-rows: ${cellSize};\r\n    column-gap: ${gapSize};\r\n`;\r\n\r\nconst TableHeaderCell = styled.div`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    border: 1px solid ${props => props.color};\r\n    &[class~=\"today\"] {\r\n      position: relative;\r\n  }\r\n    &[id~=\"${props => props.id}\"][class~=\"today\"]::after {\r\n      content:'';\r\n      position: absolute;\r\n      top: calc( -1 * calc(${cellSize} * ${props => props.headersCount}));\r\n      // left: 0;\r\n      width: ${cellSize};\r\n      // height: calc(88vh + 1.5 * ${cellSize});\r\n      height: calc(100vh - 18px);\r\n      background-color: rgba(100%, 9%, 26.7%, 0.5);\r\n  }\r\n`;\r\n\r\nconst TableCell = styled.div`\r\n    &:hover {\r\n        background-color: #1a8a98;\r\n    }\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    border: 1px solid ${props => props.color}; \r\n`;\r\n\r\nconst TableTask = styled.div`\r\n  background-color: ${props => props.color};\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color:  ${props => convertHex(props.color)};\r\n  }\r\n  transition: all 0.2s ease;\r\n`;\r\n\r\nexport {\r\n  cellSize,\r\n  gapSize,\r\n  Table,\r\n  TableSection,\r\n  TableSectionTasks,\r\n  TableRow,\r\n  TableHeaderCell,\r\n  TableCell,\r\n  TableTask\r\n}","const convertHex = (hex) => {\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result ? `rgba(${parseInt(result[1], 16)},${parseInt(result[2], 16)},${parseInt(result[3], 16)},0.5)` : null;\r\n}\r\nexport { convertHex }","import { Typography, useTheme } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { countOccurrences, customGetDate, dateDifference, datesBetween } from '../common/dateHelper';\r\nimport { selectCalendar, selectToday, setCalendar } from '../tasksSlice';\r\nimport {\r\n  cellSize,\r\n  TableHeaderCell, TableRow, TableSection\r\n} from './tables';\r\n\r\nconst HeaderContainer = styled.div`\r\n  z-index: 10;\r\n  width: max-content;\r\n  background-color: #3f51b5;\r\n  border: 1px solid ${props => props.color};\r\n  scroll-behavior: smooth;\r\n  -ms-overflow-style: none;  /* Internet Explorer 10+ */\r\n  scrollbar-width: none;  /* Firefox */\r\n  &::-webkit-scrollbar { \r\n    display: none;  /* Safari and Chrome */\r\n}\r\n`\r\n\r\nconst CalendarHeader = () => {\r\n  const today = useSelector(selectToday)\r\n  const calendar = useSelector(selectCalendar)\r\n  const dispatch = useDispatch();\r\n  const gridLines = true;\r\n  const theme = useTheme();\r\n  const headers = calendar.headers;\r\n  const monthCount = countOccurrences(calendar.firstDay, calendar.lastDay, 'month')\r\n  const yearsCount = countOccurrences(calendar.firstDay, calendar.lastDay, 'year')\r\n  const gtc = `repeat(${dateDifference(calendar.firstDay, calendar.lastDay) + 1}, ${cellSize})`\r\n  const headersCount = Object.values(headers).filter(val => val).length\r\n  useEffect(() => {\r\n    if (headers.year === null) {\r\n      const showYears = (yearsCount.length === 1 ? false : true);\r\n      dispatch(setCalendar({ 'headers': { ...headers, ...{ 'year': showYears } } }))\r\n    }\r\n  })\r\n\r\n  return (\r\n    <HeaderContainer\r\n      color={theme.palette.divider}\r\n    >\r\n      <TableSection>\r\n        {(headers.year) &&\r\n          <TableRow\r\n            gtc={gtc}\r\n            className=\"years\">\r\n            {yearsCount.map((year, index) => {\r\n              return (\r\n                <TableHeaderCell\r\n                  color={theme.palette.divider}\r\n                  key={index}\r\n                  style={{\r\n                    gridColumn: `span ${year.count}`,\r\n                    color: '#fff'\r\n                  }}\r\n                >\r\n                  <Typography variant=\"h3\">\r\n                    {year.title}\r\n                  </Typography>\r\n                </TableHeaderCell>\r\n              )\r\n            })\r\n            }\r\n          </TableRow>\r\n        }\r\n        {(headers.month) &&\r\n          <TableRow\r\n            gtc={gtc}\r\n            className=\"months\"\r\n          >\r\n            {monthCount.map((month, index) => {\r\n              return (\r\n                <TableHeaderCell\r\n                  color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                  key={index}\r\n                  style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    gridColumn: `span ${month.count}`,\r\n                    color: '#fff'\r\n                  }}\r\n                >\r\n                  <Typography variant=\"h4\">\r\n                    {month.title}\r\n                  </Typography>\r\n                </TableHeaderCell>\r\n              )\r\n            })\r\n            }\r\n\r\n          </TableRow>\r\n        }\r\n        {(headers.shortDay) &&\r\n          <TableRow\r\n            gtc={gtc}\r\n            className=\"short-days\"\r\n            style={{\r\n              color: '#fff'\r\n            }}\r\n          >\r\n            {datesBetween(calendar.firstDay, calendar.lastDay).map((day, index) => {\r\n              return (\r\n                <TableHeaderCell\r\n                  color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                  className={day === today ? 'today' : 'else'}\r\n                  key={index}\r\n                  style={{\r\n                    color: '#fff'\r\n                  }}\r\n                >\r\n                  <Typography>\r\n                    {customGetDate(day, 'day-of-the-week-abbr')}\r\n                  </Typography>\r\n                </TableHeaderCell>\r\n              )\r\n            })}\r\n          </TableRow>\r\n        }\r\n        <TableRow\r\n          gtc={gtc}\r\n          className=\"days\"\r\n        >\r\n          {datesBetween(calendar.firstDay, calendar.lastDay).map((day, index) => {\r\n            return (\r\n              <TableHeaderCell\r\n                color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                className={day === today ? 'today' : 'else'}\r\n                id={customGetDate(day)}\r\n                headersCount={headersCount}\r\n                key={index}\r\n                style={{\r\n                  color: '#fff'\r\n                }}\r\n              >\r\n                <Typography>\r\n                  {customGetDate(day, 'day')}\r\n                </Typography>\r\n              </TableHeaderCell>\r\n            )\r\n          })}\r\n        </TableRow>\r\n      </TableSection>\r\n      {/* <ScrollButtonLeft /> */}\r\n      {/* <ScrollButtonRight /> */}\r\n    </HeaderContainer >\r\n  )\r\n}\r\n\r\nexport { CalendarHeader };\r\n\r\n","import { IconButton, ListItemSecondaryAction } from '@material-ui/core';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\r\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport React from 'react';\r\nimport { cellSize } from './tables';\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { reorderTasks } from '../tasksSlice'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    // maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n    minHeight: cellSize\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n    height: cellSize,\r\n    textOverflow: \"ellipsis\"\r\n  },\r\n}));\r\n\r\nconst SidebarTasksNestedList = (props) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [open, setOpen] = useState(props.startOpen);\r\n\r\n  const handleClick = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const handleReorder = (data, direction) => {\r\n    switch (direction) {\r\n      case 'up':\r\n        dispatch(reorderTasks({ data: data, target: -1 }))\r\n        break;\r\n      case 'down':\r\n        dispatch(reorderTasks({ data: data, target: 1 }))\r\n        break\r\n      default:\r\n        console.warn('reordering did not work')\r\n        break;\r\n    }\r\n  }\r\n\r\n  const scrollTo = (id) => {\r\n    document.getElementById(`task-${id}`).scrollIntoView({ behavior: 'smooth', alignTo: false });\r\n  }\r\n\r\n\r\n  return (\r\n    <List\r\n\r\n      style={{\r\n        padding: 0,\r\n        paddingBottom: '24px',\r\n        wordBreak: \"break-word\"\r\n      }}\r\n      component=\"nav\"\r\n      aria-labelledby=\"main task\"\r\n      className={`${classes.root} list `}\r\n    >\r\n      <ListItem\r\n        button\r\n        onClick={handleClick}\r\n      >\r\n        <ListItemText\r\n          primary={props.title || props.data.title}\r\n        />\r\n        {open ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n      <Collapse\r\n        in={open}\r\n        timeout=\"auto\"\r\n        unmountOnExit>\r\n        <List\r\n          component=\"div\"\r\n          disablePadding>\r\n          {props.data.tasks.map((task, index) => {\r\n            return (\r\n              <ListItem\r\n                key={index}\r\n                className={classes.nested}\r\n              >\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n\r\n                  {index !== 0 &&\r\n                    <IconButton\r\n                      onClick={() => handleReorder(task, 'up')}\r\n                      size=\"small\"\r\n                      style={{ marginBottom: \"-10px\" }}>\r\n                      <ArrowDropUpIcon />\r\n                    </IconButton>\r\n                  }\r\n                  {index !== props.data.tasks.length - 1 &&\r\n\r\n                    <IconButton\r\n                      onClick={() => handleReorder(task, 'down')}\r\n                      size=\"small\">\r\n                      <ArrowDropDownIcon />\r\n                    </IconButton>\r\n                  }\r\n                </div>\r\n                <ListItem\r\n                  onClick={() => scrollTo(task.id)}\r\n                  button >\r\n                  <ListItemText primary={task.title} />\r\n                </ListItem>\r\n                <ListItemSecondaryAction>\r\n                  <ListItemText secondary={task.completion} />\r\n                </ListItemSecondaryAction>\r\n              </ListItem>\r\n            )\r\n          })}\r\n        </List>\r\n      </Collapse>\r\n    </List>\r\n  );\r\n}\r\nexport { SidebarTasksNestedList };\r\n","\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectTasks } from '../tasksSlice';\r\nimport { List } from \"@material-ui/core\"\r\nimport { SidebarTasksNestedList } from './SidebarTasksNestedList'\r\n\r\nconst SidebarTasksList = () => {\r\n  const data = useSelector(selectTasks)\r\n\r\n  return (\r\n    <List style={{ padding: 0 }}>\r\n      {data.map((mainTask, index) => {\r\n        return (\r\n          < SidebarTasksNestedList\r\n            key={index}\r\n            data={mainTask}\r\n            startOpen={true}\r\n          />\r\n        )\r\n      })}\r\n    </List>\r\n  )\r\n}\r\n\r\n\r\nexport { SidebarTasksList }","import React, { useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport clsx from 'clsx';\r\nimport { ListItem, ListItemText, makeStyles, useTheme, AppBar, Divider, Drawer, IconButton, List, Toolbar, Typography } from '@material-ui/core';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { SidebarTasksList } from './SidebarTasksList';\r\nimport { cellSize } from './tables';\r\nimport { selectCalendar } from '../tasksSlice';\r\n\r\nconst drawerWidth = 360;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    height: '100vh'\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    paddingLeft: '0',\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    // ...theme.mixins.toolbar.dense,\r\n    height: cellSize,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    width: \"98vw\",\r\n    height: \"100vh\",\r\n    overflowX: \"scroll\",\r\n    overflowY: \"hidden\",\r\n    paddingTop: cellSize,\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  cellSize: {\r\n    height: cellSize,\r\n  },\r\n  dense: {\r\n    height: cellSize,\r\n    minHeight: cellSize,\r\n  },\r\n  rootAppBar: {\r\n    height: cellSize,\r\n    zIndex: 10,\r\n  }\r\n}));\r\n\r\nconst CalendarSidebar = (props) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = useState(false);\r\n  const headers = Object.values(useSelector(selectCalendar).headers)\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const calendarHeaders = ['Years', 'Months', 'Day names', 'Days']\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        classes={{ root: classes.rootAppBar }}\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar variant=\"dense\" classes={{ root: classes.rootAppBar, dense: classes.dense }}>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" noWrap>\r\n            Task planner\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div\r\n          className={classes.drawerHeader}\r\n        >\r\n          <Typography variant=\"h6\" >\r\n            Task list\r\n          </Typography>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List style={{ padding: 0 }}>\r\n          {calendarHeaders.map((text, index) => (\r\n            headers[index] && (\r\n              < ListItem\r\n                style={{\r\n                  borderBottom: `1px solid ${theme.palette.divider}`\r\n                }}\r\n                key={index}\r\n                className={classes.cellSize}\r\n              >\r\n                <ListItemText align=\"right\" >\r\n                  {text}\r\n                </ListItemText>\r\n              </ ListItem>\r\n            )\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <SidebarTasksList />\r\n      </Drawer>\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        {props.children}\r\n      </main>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport { CalendarSidebar };\r\n","const colors =\r\n{\r\n  \"red-400\": \"#ef5350\",\r\n  \"red-500\": \"#f44336\",\r\n  \"red-600\": \"#e53935\",\r\n  // \"red-700\": \"#d32f2f\",\r\n  // \"red-800\": \"#c62828\",\r\n  // \"red-900\": \"#b71c1c\",\r\n  \"pink-300\": \"#f06292\",\r\n  \"pink-400\": \"#ec407a\",\r\n  \"pink-500\": \"#e91e63\",\r\n  \"pink-600\": \"#d81b60\",\r\n  \"pink-700\": \"#c2185b\",\r\n  // \"pink-800\": \"#ad1457\",\r\n  // \"pink-900\": \"#880e4f\",\r\n  \"purple-300\": \"#ba68c8\",\r\n  \"purple-400\": \"#ab47bc\",\r\n  // \"purple-500\": \"#9c27b0\",\r\n  \"purple-600\": \"#8e24aa\",\r\n  \"purple-700\": \"#7b1fa2\",\r\n  \"purple-800\": \"#6a1b9a\",\r\n  // \"purple-900\": \"#4a148c\",\r\n  \"deepPurple-300\": \"#9575cd\",\r\n  \"deepPurple-400\": \"#7e57c2\",\r\n  \"deepPurple-500\": \"#673ab7\",\r\n  \"deepPurple-600\": \"#5e35b1\",\r\n  // \"deepPurple-700\": \"#512da8\",\r\n  \"deepPurple-800\": \"#4527a0\",\r\n  // \"deepPurple-900\": \"#311b92\",\r\n  \"indigo-300\": \"#7986cb\",\r\n  \"indigo-400\": \"#5c6bc0\",\r\n  \"indigo-500\": \"#3f51b5\",\r\n  // \"indigo-600\": \"#3949ab\",\r\n  \"indigo-700\": \"#303f9f\",\r\n  \"indigo-800\": \"#283593\",\r\n  \"indigo-900\": \"#1a237e\",\r\n  \"lightBlue-500\": \"#2196f3\",\r\n  \"lightBlue-600\": \"#1e88e5\",\r\n  // \"lightBlue-700\": \"#1976d2\",\r\n  \"lightBlue-800\": \"#1565c0\",\r\n  \"lightBlue-900\": \"#0d47a1\",\r\n  \"cyan-700\": \"#0097a7\",\r\n  \"cyan-800\": \"#00838f\",\r\n  \"cyan-900\": \"#006064\",\r\n  \"teal-400\": \"#26a69a\",\r\n  // \"teal-500\": \"#009688\",\r\n  \"teal-600\": \"#00897b\",\r\n  \"teal-700\": \"#00796b\",\r\n  \"teal-800\": \"#00695c\",\r\n  \"teal-900\": \"#004d40\",\r\n  \"green-600\": \"#43a047\",\r\n  \"green-700\": \"#388e3c\",\r\n  \"green-800\": \"#2e7d32\",\r\n  // \"green-900\": \"#1b5e20\",\r\n  \"lightGreen-700\": \"#689f38\",\r\n  \"lightGreen-800\": \"#558b2f\",\r\n  // \"lightGreen-900\": \"#33691e\",\r\n  \"deepOrange-500\": \"#ff5722\",\r\n  \"deepOrange-600\": \"#f4511e\",\r\n  \"deepOrange-700\": \"#e64a19\",\r\n  // \"deepOrange-800\": \"#d84315\",\r\n  \"deepOrange-900\": \"#bf360c\",\r\n  // \"brown-300\": \"#a1887f\",\r\n  \"brown-400\": \"#8d6e63\",\r\n  \"brown-500\": \"#795548\",\r\n  \"brown-600\": \"#6d4c41\",\r\n  \"brown-700\": \"#5d4037\",\r\n  // \"brown-800\": \"#4e342e\",\r\n  // \"brown-900\": \"#3e2723\"\r\n}\r\nexport { colors }","import React from 'react';\r\nimport { FormControl, ListItemIcon, ListItemText, makeStyles, MenuItem, Select } from '@material-ui/core';\r\nimport { colors } from \"../common/colors\";\r\nimport StopIcon from '@material-ui/icons/Stop';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  select: {\r\n    display: 'flex',\r\n  },\r\n}));\r\n\r\nconst ColorPicker = (props) => {\r\n  const classes = useStyles()\r\n  return (\r\n    <FormControl>\r\n      <Select\r\n        classes={{ select: classes.select }}\r\n\r\n        name=\"color\"\r\n        value={props.data.color}\r\n        onChange={props.onChange}\r\n        autoWidth\r\n        displayEmpty\r\n\r\n        id=\"color-select\">\r\n        <MenuItem value=\"\" disabled>\r\n          <em>Color</em>\r\n        </MenuItem>\r\n        {Object.entries(colors).map((color) => {\r\n          const colorName = color[0];\r\n          const colorValue = color[1];\r\n\r\n          return (\r\n            <MenuItem\r\n              key={colorName}\r\n              value={colorValue}>\r\n              <ListItemIcon>\r\n                <StopIcon\r\n                  fontSize=\"large\"\r\n                  style={{ color: colorValue }}\r\n                />\r\n              </ListItemIcon>\r\n              <ListItemText>\r\n                {colorName}\r\n              </ListItemText>\r\n            </MenuItem>\r\n          )\r\n        })}\r\n\r\n      </Select>\r\n    </FormControl>\r\n  )\r\n\r\n}\r\n\r\nexport { ColorPicker };\r\n","import React from 'react'\r\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\n// import { pl } from \"date-fns/locale\";\r\n\r\nconst DatePicker = (props) => {\r\n  return (\r\n    <MuiPickersUtilsProvider\r\n      // locale={pl}\r\n      utils={DateFnsUtils}>\r\n      <KeyboardDatePicker\r\n        fullWidth\r\n        format=\"dd.MM.yyyy\"\r\n        margin=\"normal\"\r\n        id=\"date-picker-inline\"\r\n        label=\"Task start date\"\r\n        value={props.data.startDate}\r\n        onChange={props.onChange}\r\n        KeyboardButtonProps={{\r\n          'aria-label': 'change date',\r\n        }}\r\n      />\r\n    </MuiPickersUtilsProvider>\r\n  )\r\n}\r\nexport { DatePicker }","import { Checkbox, FormControl, FormControlLabel, FormGroup, MenuItem, Select, makeStyles } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectTasks } from '../tasksSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nconst MainAndParentOptions = (props) => {\r\n  const classes = useStyles()\r\n  const data = useSelector(selectTasks)\r\n  const list = [];\r\n\r\n  data.forEach((mainTask) => {\r\n    list.push({ value: mainTask.id, title: mainTask.title, nested: false })\r\n  })\r\n\r\n  return (\r\n    <FormGroup\r\n    ><FormControl>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              name=\"mainTask\"\r\n              checked={props.data.mainTask}\r\n              onChange={e => {\r\n                if (e.target.checked) {\r\n                  props.onChange({ [e.target.name]: e.target.checked, 'parent': '' })\r\n                } else {\r\n                  props.onChange({ [e.target.name]: e.target.checked })\r\n                }\r\n              }}\r\n            />}\r\n          label=\"Main task\"\r\n        />\r\n      </FormControl>\r\n      <FormControl>\r\n        <Select\r\n          value={props.data.parent}\r\n          name=\"parent\"\r\n          onChange={e => {\r\n            props.onChange({ [e.target.name]: e.target.value })\r\n          }}\r\n          disabled={props.data.mainTask}\r\n          autoWidth\r\n          displayEmpty\r\n\r\n          id=\"grouped-select\">\r\n          <MenuItem value=\"\" disabled>\r\n            Parent task\r\n              </MenuItem>\r\n          {\r\n            list.map((task, index) => {\r\n              return (\r\n                <MenuItem\r\n                  key={index}\r\n                  className={task.nested ? classes.nested : ''}\r\n                  value={task.value}>\r\n                  {task.title}\r\n                </MenuItem>\r\n              )\r\n            })\r\n          }\r\n        </Select>\r\n      </FormControl>\r\n    </FormGroup>\r\n  )\r\n}\r\nexport { MainAndParentOptions }","\r\nimport React from 'react'\r\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\r\nimport { TextField } from '@material-ui/core';\r\n\r\n\r\nconst SelectWithAdd = (props) => {\r\n  const filter = createFilterOptions();\r\n  return (\r\n    <Autocomplete\r\n      value={props.value}\r\n      onChange={(event, newValue) => {\r\n        if (typeof newValue === 'string') {\r\n          props.onChange({\r\n            [props.name]: newValue,\r\n          });\r\n        } else if (newValue && newValue.inputValue) {\r\n          // Create a new value from the user input\r\n          props.onChange({\r\n            [props.name]: newValue.inputValue,\r\n          });\r\n        } else {\r\n          props.onChange(newValue);\r\n        }\r\n      }}\r\n\r\n      filterOptions={(options, params) => {\r\n        const filtered = filter(options, params);\r\n\r\n        // Suggest the creation of a new value\r\n        if (params.inputValue !== '') {\r\n          filtered.push({\r\n            inputValue: params.inputValue,\r\n            [props.name]: `Add ${props.name}: ${params.inputValue}`,\r\n          });\r\n        }\r\n\r\n        return filtered;\r\n      }}\r\n      selectOnFocus\r\n      clearOnBlur\r\n      handleHomeEndKeys\r\n      id={props.id}\r\n      options={props.options}\r\n      getOptionLabel={(option) => {\r\n        // Value selected with enter, right from the input\r\n        if (typeof option === 'string') {\r\n          return option;\r\n        }\r\n        // Add \"xxx\" option created dynamically\r\n        if (option.inputValue) {\r\n          return option.inputValue;\r\n        }\r\n        // Regular option\r\n        return option[props.name];\r\n      }}\r\n      renderOption={(option) => option[props.name]}\r\n\r\n      freeSolo\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          label={props.label}\r\n\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\nexport { SelectWithAdd }\r\n","import { FormControl, makeStyles, TextField } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { ColorPicker } from './ColorPicker'\r\nimport { addDays } from '../common/dateHelper'\r\nimport { DatePicker } from './DatePicker'\r\nimport { MainAndParentOptions } from './MainAndParentOptions'\r\nimport { SelectWithAdd } from './SelectWithAdd'\r\nimport { selectCustom } from '../tasksSlice'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  form: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '2fr 1fr',\r\n    columnGap: theme.spacing(3),\r\n    [theme.breakpoints.down('sm')]: {\r\n      gridTemplateColumns: '1fr',\r\n    },\r\n  },\r\n\r\n  formControl: {\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nconst AddTaskForm = (props) => {\r\n  const classes = useStyles()\r\n  const categories = useSelector(selectCustom).categories.map((category) => {\r\n    return { category: category }\r\n  })\r\n  const people = useSelector(selectCustom).people.map((person) => {\r\n    return { responsible: person }\r\n  })\r\n\r\n  // TODO: change from object to consts. Right know each key event in text fields rerenders whole form and causes lags\r\n  let initialState = {}\r\n  if (props.initialData.id) {\r\n    initialState = props.initialData\r\n  } else {\r\n    initialState = {\r\n      id: '',\r\n      title: '',\r\n      description: '',\r\n      mainTask: false,\r\n      startDate: 0,\r\n      duration: 0,\r\n      parent: '',\r\n      category: '',\r\n      responsible: '',\r\n      color: '',\r\n      tasks: [],\r\n    }\r\n  }\r\n\r\n  const [data, setData] = useState(initialState)\r\n\r\n  const handleChangeData = (value) => {\r\n    setData({ ...data, ...value })\r\n  }\r\n\r\n  const sendData = () => {\r\n    dataValidation(data)\r\n    props.onChange(data)\r\n  }\r\n\r\n  const dataValidation = (inputData) => {\r\n    let valid = false\r\n    if (inputData.title === '') {\r\n      valid = false\r\n    } else if (inputData.description === '') {\r\n      valid = false\r\n    } else if (inputData.startDate === 0) {\r\n      valid = false\r\n    } else if (inputData.duration === 0) {\r\n      valid = false\r\n    } else if (inputData.mainTask === false && inputData.parent === '') {\r\n      valid = false\r\n    } else if (inputData.category === '') {\r\n      valid = false\r\n    } else if (inputData.responsible === '') {\r\n      valid = false\r\n    } else if (inputData.color === '') {\r\n      valid = false\r\n    } else {\r\n      valid = true\r\n    }\r\n    props.dataValidation(valid)\r\n  }\r\n\r\n  return (\r\n    <form\r\n      className={classes.form}\r\n      noValidate\r\n      autoComplete=\"off\"\r\n      onChange={sendData}\r\n      onBlur={sendData}\r\n    >\r\n      <div className={classes.root}>\r\n        <FormControl className={classes.formControl}>\r\n          <TextField\r\n            id=\"title-input\"\r\n            name=\"title\"\r\n            label=\"New task name\"\r\n            value={data.title}\r\n            inputProps={{ maxLength: 50 }}\r\n            onChange={(e) => {\r\n              handleChangeData({ [e.target.name]: e.target.value })\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <SelectWithAdd\r\n            id=\"select-category-input\"\r\n            name=\"category\"\r\n            label=\"Choose category or enter new\"\r\n            options={categories}\r\n            value={data.category}\r\n            onChange={(e) => {\r\n              handleChangeData(e)\r\n            }}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <TextField\r\n            id=\"description-name\"\r\n            label=\"Description\"\r\n            value={data.description}\r\n            onChange={(e) => {\r\n              handleChangeData({ description: e.target.value })\r\n            }}\r\n            multiline\r\n            rows={4}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <SelectWithAdd\r\n            id=\"select-person-input\"\r\n            name=\"responsible\"\r\n            label=\"Choose person responsible or enter new\"\r\n            options={people}\r\n            value={data.responsible}\r\n            onChange={(e) => {\r\n              handleChangeData(e)\r\n            }}\r\n          />\r\n        </FormControl>\r\n      </div>\r\n\r\n      <div className={classes.root}>\r\n        <FormControl className={classes.formControl}>\r\n          <MainAndParentOptions\r\n            onChange={(e) => {\r\n              handleChangeData(e)\r\n            }}\r\n            data={data}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <ColorPicker\r\n            onChange={(e) => {\r\n              handleChangeData({ [e.target.name]: e.target.value })\r\n            }}\r\n            data={data}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <DatePicker\r\n            onChange={(e) => {\r\n              handleChangeData({ startDate: addDays(e) })\r\n            }}\r\n            data={data}\r\n          />\r\n        </FormControl>\r\n        <FormControl className={classes.formControl}>\r\n          <TextField\r\n            id=\"task-duration-input\"\r\n            label=\"Task duration\"\r\n            name=\"duration\"\r\n            value={data.duration}\r\n            onChange={(e) => {\r\n              handleChangeData({ [e.target.name]: Number(e.target.value) })\r\n            }}\r\n            type=\"number\"\r\n            inputProps={{\r\n              min: 1,\r\n              step: 1,\r\n            }}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n        </FormControl>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport { AddTaskForm }\r\n","\r\nimport { Button, DialogActions, DialogContent, DialogTitle, IconButton, Tooltip } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addDays } from '../common/dateHelper';\r\nimport { addCategory, addEditMainTask, addEditTask, addPerson, selectCalendar, setCalendar, setMessage } from '../tasksSlice';\r\nimport { AddTaskForm } from './AddTaskForm';\r\n\r\n\r\nconst AddTaskDialog = (props) => {\r\n  const [data, setData] = useState(props.data || {});\r\n  const [validData, setValidData] = useState(false)\r\n\r\n  const handleDataInput = (formData) => {\r\n    setData(formData)\r\n  }\r\n\r\n  const handleDataValidation = (isDataValid) => {\r\n    setValidData(isDataValid)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    props.handleClose(true)\r\n  }\r\n\r\n  const dispatch = useDispatch()\r\n  const calendar = useSelector(selectCalendar)\r\n\r\n  const saveData = () => {\r\n    const id = data.id || Math.floor(Math.random() * 10000);\r\n    const endDate = addDays(data.startDate, data.duration);\r\n    const completion = data.completion || '0%';\r\n    const objectToSave = { ...data, ...{ \"id\": id, \"endDate\": endDate, \"completion\": completion } }\r\n    if (data.mainTask) {\r\n      dispatch(addEditMainTask(objectToSave))\r\n    } else {\r\n      dispatch(addEditTask({ \"target\": objectToSave.parent, \"data\": objectToSave }))\r\n    }\r\n    const message = data.id === '' ? `Task \"${data.title}\" added` : `Task \"${data.title}\" modified`\r\n    dispatch(setMessage(message))\r\n\r\n    const leftBoundaryDate = addDays(objectToSave.startDate, -15);\r\n    const rightBoundaryDate = addDays(objectToSave.endDate, 15);\r\n    dispatch(setCalendar(\r\n      {\r\n        firstDay: Math.min(leftBoundaryDate, calendar.firstDay),\r\n        lastDay: Math.max(rightBoundaryDate, calendar.lastDay)\r\n      }))\r\n    dispatch(addCategory(data.category))\r\n    dispatch(addPerson(data.responsible))\r\n    handleClose()\r\n  }\r\n  return (\r\n    < React.Fragment >\r\n      <DialogTitle\r\n        style={{ cursor: 'move' }}\r\n        id={`draggable-dialog-${props.name}`}>\r\n        Add task\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <AddTaskForm\r\n          initialData={data}\r\n          onChange={handleDataInput}\r\n          dataValidation={handleDataValidation}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Tooltip title={!validData ? 'All fields must be filled in to save' : ''}>\r\n          <span>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={saveData}\r\n              startIcon={<SaveAltIcon />}\r\n              disabled={!validData}\r\n            >\r\n              Save\r\n        </Button>\r\n          </span>\r\n        </Tooltip>\r\n        <Tooltip title={'Close'}>\r\n          <IconButton\r\n            onClick={() => handleClose()}\r\n            aria-label=\"close\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </DialogActions>\r\n      {Object.keys(data).length === 0}\r\n    </ React.Fragment>\r\n  )\r\n}\r\n\r\nexport { AddTaskDialog };\r\n\r\n","import Button from '@material-ui/core/Button';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { deleteTask, setMessage } from '../tasksSlice';\r\n\r\n\r\nconst DeleteDialog = (props) => {\r\n  const dispatch = useDispatch()\r\n  const dialogText = () => {\r\n    if (props.task.mainTask) {\r\n      return (\r\n        <React.Fragment>\r\n          <DialogContentText align=\"center\">\r\n            \"{props.task.title}\"\r\n          </DialogContentText>\r\n          <DialogContentText align=\"center\">\r\n            and each of its subtasks?\r\n          </DialogContentText>\r\n        </React.Fragment>\r\n        )\r\n    } else {\r\n      return (<DialogContentText align=\"center\">\"{props.task.title}\" ?</DialogContentText>)\r\n    }\r\n  }\r\n\r\nconst handleDelete = () => {\r\n  dispatch(deleteTask(props.task))\r\n  dispatch(setMessage(`Task \"${props.task.title}\" removed`))\r\n  props.handleClose(true)\r\n}\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <DialogTitle\r\n        style={{ cursor: 'move' }}\r\n        id={`draggable-dialog - ${props.title} `}\r\n      >This action cannot be undone</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          Are you sure you want to remove task:\r\n          </DialogContentText>\r\n        {dialogText()}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button \r\n          variant=\"contained\"\r\n          autoFocus \r\n          onClick={props.handleClose} \r\n          color=\"secondary\">\r\n          No\r\n          </Button>\r\n        <Button \r\n          variant=\"contained\"\r\n          onClick={handleDelete} \r\n          color=\"primary\" \r\n        >\r\n          Yes\r\n          </Button>\r\n      </DialogActions>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { DeleteDialog };\r\n","import React from 'react';\r\nimport { Paper, Dialog, useMediaQuery, useTheme } from '@material-ui/core';\r\nimport Draggable from 'react-draggable';\r\n\r\nfunction PaperComponent(props) {\r\n  return (\r\n    <Draggable handle={`#draggable-dialog-${props.name}`} cancel={'[class*=\"MuiDialogContent-root\"]'}>\r\n      <Paper {...props} />\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nconst DraggableDialog = (props) => {\r\n  const theme = useTheme()\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  return (\r\n    <Dialog\r\n      fullScreen={fullScreen}\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n      PaperComponent={PaperComponent}\r\n      PaperProps={{ 'name': props.name }}\r\n      aria-labelledby={`draggable-dialog-${props.name}`}\r\n      children={props.children}\r\n    >\r\n    </Dialog>\r\n  )\r\n}\r\nexport { DraggableDialog }\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { deepOrange, deepPurple } from '@material-ui/core/colors';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n    alignItems: 'center'\r\n  },\r\n  orange: {\r\n    color: theme.palette.getContrastText(deepOrange[500]),\r\n    backgroundColor: deepOrange[500],\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n}));\r\n\r\nconst LetterAvatar = (props) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Avatar className={classes.orange}>{props.responsible.charAt(0)}</Avatar>\r\n      <Typography>{props.responsible}</Typography>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { LetterAvatar }","import React, { useState } from \"react\"\r\nimport { useDispatch } from \"react-redux\"\r\nimport { IconButton, TextField, InputAdornment } from \"@material-ui/core\"\r\nimport { setCompletion } from \"../tasksSlice\"\r\n\r\nconst TaskCompletionIndicator = (props) => {\r\n  const dispatch = useDispatch()\r\n  const [value, setValue] = useState(props.data.completion.slice(0, -1))\r\n  const [edit, setEdit] = useState(false)\r\n\r\n  const startEditing = () => {\r\n    setEdit(true)\r\n  }\r\n\r\n  const endEditing = () => {\r\n    setEdit(false)\r\n    const completionValue = roundedValue(value) + '%'\r\n    dispatch(setCompletion({ data: props.data, completion: completionValue }))\r\n  }\r\n\r\n  const roundedValue = (inputValue) => {\r\n    const val = Math.round(Number(inputValue))\r\n    if (val > 100) {\r\n      return 100\r\n    } else if (val < 0) {\r\n      return 0\r\n    } else {\r\n      return val\r\n    }\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    setValue(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {edit\r\n        ? (<IconButton\r\n          disableRipple\r\n        >\r\n\r\n          <TextField\r\n            autoFocus\r\n            onChange={handleChange}\r\n            onBlur={endEditing}\r\n            value={value}\r\n            inputProps={{\r\n              type: \"number\",\r\n              max: 100,\r\n              min: 0\r\n            }}\r\n            margin=\"none\"\r\n            id=\"standard-end-adornment\"\r\n            className=\"completion\"\r\n            style={{\r\n              width: '3rem',\r\n            }}\r\n            // className={clsx(classes.margin, classes.textField)}\r\n            InputProps={{\r\n              endAdornment: <InputAdornment position=\"end\">%</InputAdornment>,\r\n            }}\r\n          />\r\n        </IconButton>)\r\n        : (<IconButton\r\n          aria-label=\"completion\"\r\n          onClick={startEditing}\r\n        >\r\n          {props.data.completion}\r\n        </IconButton>)\r\n      }\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { TaskCompletionIndicator }\r\n\r\n\r\n\r\n\r\n","import { Card, CardActions, CardContent, CardHeader, Container, IconButton, Tooltip, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport React, { useState } from \"react\";\r\nimport { AddTaskDialog } from \"../dialogs/AddTaskDialog\";\r\nimport { DeleteDialog } from \"../dialogs/DeleteDialog\";\r\nimport { DraggableDialog } from \"../dialogs/DraggableDialog\";\r\nimport { LetterAvatar } from \"./LetterAvatar\";\r\nimport { SidebarTasksNestedList } from \"./SidebarTasksNestedList\";\r\nimport { TaskCompletionIndicator } from \"./TaskCompletionIndicator\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    wordBreak: \"break-word\",\r\n    maxHeight: \"75vh\",\r\n    [theme.breakpoints.down('md')]: {\r\n      maxHeight: \"90vh\",\r\n    },\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nconst CalendarTaskPopper = (props) => {\r\n  const classes = useStyles()\r\n  const [openEdit, setOpenEdit] = useState(false);\r\n  const [openDelete, setOpenDelete] = useState(false);\r\n\r\n  const handleOpenEdit = () => {\r\n    setOpenEdit(true)\r\n  }\r\n\r\n  const handleCloseEdit = () => {\r\n    setOpenEdit(false)\r\n  }\r\n\r\n  const handleOpenDelete = () => {\r\n    setOpenDelete(true)\r\n  }\r\n\r\n  const handleCloseDelete = () => {\r\n    setOpenDelete(false)\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      disableGutters\r\n      maxWidth=\"xs\"\r\n    >\r\n\r\n      <Card className={`${classes.root} card`}\r\n      >\r\n        <CardHeader\r\n          title={props.data.title}\r\n          subheader={props.data.category}\r\n          action={!props.data.mainTask ?\r\n            <TaskCompletionIndicator\r\n              data={props.data}\r\n            />\r\n            : ''\r\n          }\r\n        />\r\n        <CardContent>\r\n          <Typography\r\n            variant=\"body1\"\r\n            color=\"textSecondary\"\r\n            component=\"p\">\r\n            {props.data.description}\r\n          </Typography>\r\n\r\n        </CardContent>\r\n        {props.data.mainTask && (\r\n          <SidebarTasksNestedList\r\n            data={props.data}\r\n            startOpen={false}\r\n            title=\"Subtasks list\"\r\n          />)\r\n        }\r\n        <CardActions style={{ justifyContent: 'space-between' }}>\r\n          <LetterAvatar responsible={props.data.responsible} />\r\n          <div>\r\n            <Tooltip title={'Delete'}>\r\n              <IconButton\r\n                aria-label=\"delete\"\r\n                onClick={handleOpenDelete}\r\n              >\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title={'Edit'}>\r\n              <IconButton\r\n                aria-label=\"edit\"\r\n                onClick={handleOpenEdit}\r\n              >\r\n                <EditIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n            <Tooltip title={'Close'}>\r\n              <IconButton\r\n                onClick={(event) => props.click(event)}\r\n                aria-label=\"close\"\r\n              >\r\n                <CloseIcon />\r\n              </IconButton>\r\n            </Tooltip>\r\n          </div>\r\n        </CardActions>\r\n        <DraggableDialog\r\n          open={openEdit}\r\n          title={'edit'}\r\n          handleClose={handleCloseEdit}\r\n        >\r\n          <AddTaskDialog\r\n            title={'edit'}\r\n            data={props.data}\r\n            handleClose={handleCloseEdit}\r\n          />\r\n        </DraggableDialog>\r\n        <DraggableDialog\r\n          open={openDelete}\r\n          title={'delete'}\r\n          handleClose={handleCloseDelete}\r\n        >\r\n          <DeleteDialog\r\n            title={'delete'}\r\n            task={props.data}\r\n            handleClose={handleCloseDelete}\r\n\r\n          />\r\n        </DraggableDialog>\r\n      </Card>\r\n    </Container >\r\n  );\r\n}\r\n\r\nexport { CalendarTaskPopper };\r\n","import { Typography } from '@material-ui/core';\r\nimport { Fade, Paper, Popper } from \"@material-ui/core/\";\r\nimport React, { useState } from 'react';\r\nimport { CalendarTaskPopper } from './CalendarTaskPopper';\r\nimport { cellSize, TableTask } from './tables';\r\n\r\n\r\nconst CalendarMainTask = (props) => {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = () => event => {\r\n    setAnchorEl(event.currentTarget);\r\n    setOpen(open === false ? true : false);\r\n  };\r\n\r\n  return (\r\n    <TableTask\r\n      className=\"task\"\r\n      id={props.data.id}\r\n      color={props.data.color}\r\n      style={{\r\n        gridColumn: `span ${props.data.duration}`,\r\n      }}>\r\n      <div\r\n        onClick={handleClick()}\r\n        style={\r\n          {\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            height: cellSize,\r\n            bottom: cellSize,\r\n            paddingLeft: '1rem',\r\n            paddingRight: '1rem'\r\n          }\r\n        }>\r\n        <Typography\r\n          style={{\r\n            color: '#fff',\r\n            overflow: 'hidden'\r\n          }}>\r\n          {props.data.title}\r\n        </Typography>\r\n      </div>\r\n      <Popper\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        placement=\"bottom-start\"\r\n        transition\r\n        style={{ zIndex: '11' }}\r\n      >\r\n        {({ TransitionProps }) => (\r\n          <Fade {...TransitionProps} timeout={350}>\r\n            <Paper>\r\n              <CalendarTaskPopper\r\n                data={props.data}\r\n                click={handleClick()}\r\n              />\r\n            </Paper>\r\n          </Fade>\r\n        )}\r\n      </Popper>\r\n    </ TableTask>\r\n  )\r\n\r\n}\r\nexport { CalendarMainTask };\r\n","import { Fade, Paper, Popper, Tooltip, Typography, Grow } from \"@material-ui/core/\";\r\nimport React, { useState } from \"react\";\r\nimport styled from 'styled-components';\r\nimport { CalendarTaskPopper } from './CalendarTaskPopper';\r\nimport { cellSize, TableTask } from \"./tables\";\r\n\r\nconst Header = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  posistion: relative;\r\n`;\r\n\r\nconst CalendarTask = (props) => {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClick = () => event => {\r\n    setAnchorEl(event.currentTarget);\r\n    setOpen(open === false ? true : false);\r\n  };\r\n\r\n  const checkColors = () => {\r\n    if (props.mainTaskDates.start > props.data.startDate || props.mainTaskDates.end < props.data.endDate) {\r\n      return ('#d50000')\r\n    } else if (props.data.completion === \"100%\") {\r\n      return (\"#505050\")\r\n    } else {\r\n      return (props.data.color)\r\n    }\r\n  }\r\n  return (\r\n\r\n    <Grow\r\n      in={true}\r\n      style={{ transformOrigin: '0 0 0' }}\r\n    // {...(checked ? { timeout: 1000 } : {})}\r\n    >\r\n      < TableTask\r\n        className=\"task\"\r\n        id={`task-${props.data.id}`}\r\n        color={checkColors()}\r\n        style={{\r\n          gridColumn: `span ${props.data.duration}`,\r\n        }}>\r\n        <Tooltip\r\n          title={checkColors() === '#d50000' ? 'Subtask should be contained inside a main task' : ''}\r\n          arrow\r\n        >\r\n\r\n          <Header onClick={handleClick()}>\r\n            <div style={\r\n              {\r\n                width: props.data.completion,\r\n                height: '100%',\r\n                backgroundColor: 'black',\r\n                opacity: 0.2,\r\n              }\r\n            } />\r\n            <div style={\r\n              {\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                height: cellSize,\r\n                position: 'relative',\r\n                bottom: cellSize,\r\n                paddingLeft: '1rem',\r\n                paddingRight: '1rem'\r\n              }\r\n            }>\r\n              <Typography style=\r\n                {{\r\n                  color: '#fff',\r\n                  overflow: 'hidden',\r\n                  textOverflow: 'ellipsis'\r\n                }}>\r\n                {props.data.title}\r\n              </Typography>\r\n            </div>\r\n          </Header>\r\n        </Tooltip>\r\n        <Popper\r\n          open={open}\r\n          anchorEl={anchorEl}\r\n          placement=\"bottom-start\"\r\n          transition\r\n          style={{ zIndex: '11' }}\r\n        >\r\n          {({ TransitionProps }) => (\r\n            <Fade {...TransitionProps} timeout={350}>\r\n              <Paper>\r\n                <CalendarTaskPopper\r\n                  data={props.data}\r\n                  click={handleClick()}\r\n                />\r\n              </Paper>\r\n            </Fade>\r\n          )}\r\n        </Popper>\r\n      </TableTask >\r\n    </Grow>\r\n  )\r\n\r\n}\r\nexport { CalendarTask };\r\n\r\n","import { useTheme } from '@material-ui/core';\r\nimport React, { useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport { customGetDate, dateDifference, datesBetween } from '../common/dateHelper';\r\nimport { selectCalendar, selectGridLines, selectTasks, selectToday } from '../tasksSlice';\r\nimport { CalendarMainTask } from './CalendarMainTask';\r\nimport { CalendarTask } from './CalendarTask';\r\nimport { cellSize, TableCell, TableRow, TableSectionTasks } from './tables';\r\n\r\nconst ContainerTasks = styled.div`\r\n// width: 90vw;\r\n// overflow-x: scroll;\r\n// padding-top: 9rem;\r\nheight: calc(100vh - ${cellSize} * 1.5 - ${cellSize} * ${props => props.headerCount});\r\noverflow: auto;\r\nwidth: max-content;\r\n\r\nborder: 1px solid ${props => props.color};\r\nscroll-behavior: smooth;\r\n-ms-overflow-style: none;  /* Internet Explorer 10+ */\r\nscrollbar-width: none;  /* Firefox */\r\n&::-webkit-scrollbar { \r\n  display: none;  /* Safari and Chrome */\r\n`\r\n\r\nconst CalendarTasks = () => {\r\n  const today = useSelector(selectToday)\r\n  const calendar = useSelector(selectCalendar)\r\n  const data = useSelector(selectTasks)\r\n  const gridLines = useSelector(selectGridLines)\r\n  const gtc = `repeat(${dateDifference(calendar.firstDay, calendar.lastDay) + 1}, ${cellSize})`\r\n  const theme = useTheme();\r\n  const headerCount = Object.values(calendar.headers).filter(val => val).length\r\n  const tasksRef = useRef(null)\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ContainerTasks\r\n        color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n        ref={tasksRef}\r\n        headerCount={headerCount}\r\n      >\r\n        {\r\n          data.map((mainTask, index) => {\r\n            return (\r\n              <TableSectionTasks key={index}>\r\n                <TableRow\r\n                  gtc={gtc}\r\n                  className=\"maintask\">\r\n                  {\r\n                    datesBetween(calendar.firstDay, calendar.lastDay, [mainTask.startDate, mainTask.duration])\r\n                      .map((day, index) => {\r\n                        if (day === mainTask.startDate) {\r\n                          return (\r\n                            <CalendarMainTask\r\n                              key={index}\r\n                              data={mainTask}\r\n                            />\r\n                          )\r\n                        } else {\r\n                          return (\r\n                            <TableCell\r\n                              color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                              className={day === today ? 'today' : 'else'}\r\n                              id={`${mainTask.id}-${customGetDate(day)}`}\r\n                              key={index} />\r\n\r\n                          )\r\n                        }\r\n                      })}\r\n                </TableRow>\r\n                {\r\n                  mainTask.tasks\r\n                    .map((task, index) => {\r\n                      return (\r\n                        <TableRow\r\n                          gtc={gtc}\r\n                          key={index}\r\n                          className=\"task\">\r\n                          {\r\n                            datesBetween(calendar.firstDay, calendar.lastDay, [task.startDate, task.duration])\r\n                              .map((day, index) => {\r\n                                if (day === task.startDate) {\r\n                                  return (\r\n                                    <CalendarTask\r\n                                      mainTaskDates={{ start: mainTask.startDate, end: mainTask.endDate }}\r\n                                      key={index}\r\n                                      data={task}\r\n                                    />\r\n                                  )\r\n                                } else {\r\n                                  return (\r\n                                    <TableCell\r\n                                      color={gridLines ? theme.palette.divider : 'rgba(0,0,0,0)'}\r\n                                      className={day === today ? 'today' : 'else'}\r\n                                      id={`${task.id}-${customGetDate(day)}`}\r\n                                      key={index} />\r\n                                  )\r\n                                }\r\n                              })}\r\n                        </TableRow>\r\n                      )\r\n                    })}\r\n              </TableSectionTasks>\r\n            )\r\n          })\r\n        }\r\n      </ContainerTasks>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { CalendarTasks };\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Checkbox, DialogActions, DialogContent, DialogTitle, FormControl, FormControlLabel, FormGroup, FormLabel, IconButton, Switch, Tooltip } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { selectCalendar, selectDarkMode, selectGridLines, setCalendar, setDarkMode, setGridLines } from '../tasksSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nfunction SwitchLabels() {\r\n  const classes = useStyles()\r\n  const dispatch = useDispatch()\r\n  const darkMode = useSelector(selectDarkMode)\r\n  const gridLines = useSelector(selectGridLines)\r\n  const headers = useSelector(selectCalendar).headers\r\n\r\n  const handleChangeRedux = (event) => {\r\n    switch (event.target.name) {\r\n      case \"darkMode\":\r\n        dispatch(setDarkMode(event.target.checked));\r\n        break;\r\n      case \"gridLines\":\r\n        dispatch(setGridLines(event.target.checked));\r\n        break;\r\n      case \"year\":\r\n        dispatch(setCalendar({ 'headers': { ...headers, ...{ \"year\": event.target.checked } } }))\r\n        break;\r\n      case \"month\":\r\n        dispatch(setCalendar({ 'headers': { ...headers, ...{ \"month\": event.target.checked } } }))\r\n        break;\r\n      case \"shortDay\":\r\n        dispatch(setCalendar({ 'headers': { ...headers, ...{ \"shortDay\": event.target.checked } } }))\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.root}>\r\n        <FormControl component=\"fieldset\" className={classes.formControl}>\r\n          <FormLabel component=\"legend\">View</FormLabel>\r\n          <FormGroup>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={darkMode}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"darkMode\" />}\r\n              label=\"Dark mode\"\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Switch\r\n                  checked={gridLines}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"gridLines\"\r\n                />\r\n              }\r\n              label=\"Grid lines\"\r\n            />\r\n          </FormGroup>\r\n        </FormControl>\r\n      </div>\r\n      <div className={classes.root}>\r\n        <FormControl component=\"fieldset\" className={classes.formControl}>\r\n\r\n          <FormLabel component=\"legend\">Calendar headers:</FormLabel>\r\n          <FormGroup>\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={headers.year}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"year\" />}\r\n              label=\"Years\"\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={headers.month}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"month\" />}\r\n              label=\"Months\"\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={headers.shortDay}\r\n                  onChange={handleChangeRedux}\r\n                  name=\"shortDay\" />}\r\n              label=\"Day names\"\r\n            />\r\n          </FormGroup>\r\n        </FormControl>\r\n      </div>\r\n    </div>);\r\n\r\n}\r\n\r\nconst OptionsDialog = (props) => {\r\n  return (\r\n    < React.Fragment >\r\n      <DialogTitle style={{ cursor: 'move' }} id={`draggable-dialog-${props.title}`}>\r\n        Options\r\n        </DialogTitle>\r\n      <DialogContent>\r\n        <SwitchLabels />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Tooltip title={'Close'}>\r\n          <IconButton\r\n            onClick={props.handleClose}\r\n            aria-label=\"close\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </DialogActions>\r\n    </ React.Fragment>\r\n  )\r\n\r\n}\r\n\r\nexport { OptionsDialog };\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import Snackbar from '@material-ui/core/Snackbar';\r\nimport React from 'react';\r\n\r\nconst SnackbarStatus = (props) => {\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\r\n        open={props.open}\r\n        onClose={() => props.close(true)}\r\n        message={props.message}\r\n        key={props.id}\r\n        autoHideDuration={2000}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { SnackbarStatus };\r\n","import { Backdrop, Box, Fab, makeStyles, Tooltip, Typography } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useFirstRender } from '../common/useFirstRender';\r\nimport { selectLastMessage, selectTasks } from '../tasksSlice';\r\nimport { AddTaskDialog } from './AddTaskDialog';\r\nimport { DraggableDialog } from './DraggableDialog';\r\nimport { OptionsDialog } from './OptionsDialog';\r\nimport { SnackbarStatus } from './SnackbarStatus';\r\nimport { now } from '../common/dateHelper';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  margin2: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(7),\r\n    right: theme.spacing(7),\r\n  },\r\n  margin1: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(7),\r\n    right: theme.spacing(17),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n  centralContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  central: {\r\n    width: '5rem',\r\n    height: '5rem',\r\n    margin: theme.spacing(3)\r\n  }\r\n\r\n}));\r\n\r\nconst FABs = () => {\r\n  const classes = useStyles();\r\n  const tasks = useSelector(selectTasks)\r\n  const message = useSelector(selectLastMessage)\r\n  const isFirstRender = useFirstRender()\r\n\r\n  const [openOptions, setOpenOptions] = useState(false);\r\n  const [openAdd, setOpenAdd] = useState(false);\r\n  const [openBackdrop, setOpenBackdrop] = useState(false);\r\n  const [openSnackbar, setOpenSnackbar] = useState(false)\r\n  const [options, add, backdrop, snackbar] = ['options', 'add', 'backdrop', 'snackbar']\r\n\r\n  useEffect(() => {\r\n    if (tasks.length === 0) {\r\n      handleOpen(backdrop)\r\n    } else {\r\n      handleClose(backdrop)\r\n    }\r\n  },\r\n    [tasks.length, backdrop])\r\n\r\n  useEffect(() => {\r\n    if (isFirstRender) {\r\n      // intentional empty block\r\n    } else {\r\n      handleOpen(snackbar)\r\n    }\r\n  }, [message, snackbar])\r\n\r\n\r\n  const handleOpen = (type) => {\r\n    switch (type) {\r\n      case 'options':\r\n        setOpenOptions(true)\r\n        break;\r\n      case 'add':\r\n        setOpenAdd(true)\r\n        break;\r\n      case 'backdrop':\r\n        setOpenBackdrop(true)\r\n        break;\r\n      case 'snackbar':\r\n        setOpenSnackbar(true)\r\n        break;\r\n      default:\r\n        console.warn('Broken dialog opening')\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleClose = (type) => {\r\n    switch (type) {\r\n      case 'options':\r\n        setOpenOptions(false)\r\n        break;\r\n      case 'add':\r\n        setOpenAdd(false)\r\n        break;\r\n      case 'backdrop':\r\n        setOpenBackdrop(false)\r\n        break;\r\n      case 'snackbar':\r\n        setOpenSnackbar(false)\r\n        break;\r\n      default:\r\n        console.warn('Broken dialog closing')\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Tooltip title={'Options'}>\r\n        <Fab\r\n          className={classes.margin1}\r\n          size=\"small\"\r\n          color=\"secondary\"\r\n          aria-label=\"options\"\r\n          onClick={() => handleOpen(options)}\r\n        >\r\n          <SettingsIcon />\r\n        </Fab>\r\n      </Tooltip>\r\n      <Tooltip title={'Add task'}>\r\n        <Fab\r\n          className={classes.margin2}\r\n          color=\"primary\"\r\n          aria-label=\"add\"\r\n          onClick={() => handleOpen(add)}\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      </Tooltip>\r\n      <DraggableDialog\r\n        open={openOptions}\r\n        name={options}\r\n        handleClose={() => handleClose(options)}\r\n      >\r\n        <OptionsDialog\r\n          name={options}\r\n          handleClose={() => handleClose(options)}\r\n        />\r\n      </DraggableDialog>\r\n      <DraggableDialog\r\n        open={openAdd}\r\n        name={add}\r\n      // handleClose={() => handleClose(add)}    i dont want to accidently close during adding\r\n      >\r\n        <AddTaskDialog\r\n          name={add}\r\n          handleClose={() => handleClose(add)}\r\n        />\r\n      </DraggableDialog>\r\n      <Backdrop\r\n        className={classes.backdrop}\r\n        open={openBackdrop}\r\n      >\r\n        <Box\r\n          className={classes.centralContainer}\r\n        >\r\n          <Typography\r\n            variant=\"h3\"\r\n          >\r\n            Add first task\r\n            </Typography>\r\n          <Fab\r\n            className={classes.central}\r\n            color=\"primary\"\r\n            aria-label=\"add\"\r\n            onClick={() => handleOpen(add)}\r\n          >\r\n            <AddIcon\r\n              style={{ width: '2.5rem', height: '2.5rem' }}\r\n            />\r\n          </Fab>\r\n        </Box>\r\n      </Backdrop >\r\n      <SnackbarStatus\r\n        message={message}\r\n        open={openSnackbar}\r\n        close={() => handleClose(snackbar)}\r\n        id={`${now()}-snackbar`}\r\n      />\r\n    </Box >\r\n  )\r\n}\r\nexport { FABs };\r\n\r\n","import { useRef, useEffect } from 'react';\r\n\r\nconst useFirstRender = () => {\r\n  const firstRender = useRef(true);\r\n  useEffect(() => {\r\n    firstRender.current = false;\r\n  }, []);\r\n  return firstRender.current;\r\n};\r\n\r\nexport { useFirstRender }","import React from 'react';\r\nimport { CalendarHeader } from './CalendarHeader';\r\nimport { CalendarSidebar } from './CalendarSidebar';\r\nimport { CalendarTasks } from './CalendarTasks';\r\nimport { FABs } from '../dialogs/FABs';\r\n\r\nconst Calendar = () => {\r\n  return (\r\n    <React.Fragment >\r\n      <CalendarSidebar>\r\n        <CalendarHeader />\r\n        <CalendarTasks />\r\n      </CalendarSidebar>\r\n      <FABs />\r\n    </ React.Fragment>\r\n  )\r\n}\r\n\r\nexport { Calendar }","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { saveConsent, checkConsent } from '../common/localStorage';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setMessage } from '../tasksSlice';\r\n\r\nexport default function AlertDialog() {\r\n  const storageConsent = checkConsent()\r\n  const [open, setOpen] = React.useState(true);\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    if (storageConsent) {\r\n      setOpen(false)\r\n    }\r\n  }, [storageConsent])\r\n\r\n  const handleClose = (decision) => {\r\n    if (decision) {\r\n      saveConsent(decision)\r\n      dispatch(setMessage('LocalStorage enabled'))\r\n    }\r\n    setOpen(false)\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n      // aria-labelledby=\"localStorage use consent\"\r\n      // aria-describedby=\"alert asking if you want to enable localStorage\"\r\n      >\r\n        <DialogTitle>{\"Do you want to enable localStorage?\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            localStorage is a type of web storage that allows JavaScript sites and apps to store and access data right in the browser with no expiration date. This means the data stored in the browser will persist even after the browser window has been closed.\r\n            If you do not want this page to save data on your computer, press decline.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => handleClose(false)}\r\n            color=\"secondary\">\r\n            Decline\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => handleClose(true)}\r\n            color=\"primary\"\r\n            autoFocus>\r\n            Agree\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div >\r\n  );\r\n}","import React from 'react';\r\nimport { Calendar } from './calendar/Calendar';\r\nimport AlertDialog from './dialogs/AlertDialog';\r\n\r\nconst Tasks = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <AlertDialog />\r\n      <Calendar />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport { Tasks }","import { CssBaseline, ThemeProvider, useMediaQuery } from '@material-ui/core';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './App.css';\r\nimport { checkConsent } from './features/tasks/common/localStorage';\r\nimport { Tasks } from './features/tasks/Tasks';\r\nimport { selectDarkMode, setDarkMode, selectToday, setToday } from './features/tasks/tasksSlice';\r\nimport { Theme } from './Theme';\r\nimport { today } from './features/tasks/common/dateHelper';\r\n\r\n\r\n\r\nfunction App() {\r\n  const darkMode = useSelector(selectDarkMode)\r\n  const dispatch = useDispatch();\r\n  const primaryColor = '#e91e63'\r\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');   // check prefered user mode \r\n  const theme = Theme(darkMode, primaryColor);\r\n  const cookies = checkConsent()\r\n  const dayToday = today()\r\n  const savedToday = useSelector(selectToday)\r\n\r\n  useEffect(() => {\r\n    if (typeof (cookies) === 'undefined') {\r\n      dispatch(setDarkMode(prefersDarkMode))\r\n    }\r\n  }, [prefersDarkMode, dispatch, cookies])\r\n\r\n  useEffect(() => {\r\n    if (dayToday !== savedToday) {\r\n      dispatch(setToday(dayToday))\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Tasks />\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createMuiTheme } from \"@material-ui/core\"\r\nimport { useMemo } from \"react\"\r\n\r\nconst Theme = (darkMode, primaryColor) => {\r\n\r\n  return useMemo(\r\n    () =>\r\n      createMuiTheme({\r\n        palette: {\r\n          type: darkMode ? 'dark' : 'light',\r\n          primary: {\r\n            main: primaryColor, //'#e91e63'\r\n          },\r\n          secondary: {\r\n            main: '#2962ff',\r\n          },\r\n          tonalOffset: 0.2,\r\n\r\n        },\r\n      }), [darkMode, primaryColor],\r\n  );\r\n}\r\n\r\nexport { Theme }\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport tasksReducer from '../features/tasks/tasksSlice'\r\nimport { loadLocalStorage, saveLocalStorage, checkConsent } from '../features/tasks/common/localStorage';\r\n\r\nconst persistedState = loadLocalStorage();\r\nconst store = configureStore({\r\n  reducer: {\r\n    tasks: tasksReducer,\r\n  },\r\n  preloadedState: {\r\n    tasks: persistedState,\r\n  }\r\n});\r\n\r\nstore.subscribe(() => {\r\n  if (checkConsent() === true) {\r\n    saveLocalStorage(store.getState().tasks)\r\n  }\r\n})\r\n\r\nexport default store","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { CssBaseline } from '@material-ui/core';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <CssBaseline />\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}